{"version":3,"sources":["../.././src/routes/BookDetail/BookDetail.tsx","webpack:///./src/components/Loading/Loading.tsx?25ea***","webpack:///./src/components/Loading/index.ts?83f5***","webpack:///./src/components/Loading/Loading.scss?2e5d***","webpack:///./src/components/Loading/loading.gif?b40c***","webpack:///./src/components/Loading/Loading.scss?d190****","../.././src/routes/BookDetail/BookDetail.scss","webpack:///./src/routes/BookDetail/BookDetail.scss?1957"],"names":[],"mappings":"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","file":"chunk.9.js","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { loadBookInfo } from '../../actions/api'\nimport Loading from '../../components/Loading'\nimport { Button } from '../../components/form'\nimport _ from 'lodash'\nimport DocContainer from '../../components/DocContainer'\nimport CSSModules from 'react-css-modules'\nimport * as selectors from '../../selectors'\nimport styles from './BookDetail.scss'\nimport schemas from '../../schemas'\n\ninterface Props {\n  loadBookInfo: typeof loadBookInfo\n  bookInfo: SelectedEntity\n}\n\n@CSSModules(styles)\nclass BookDetail extends Component<Props, {}> {\n\n  bookId: string\n\n  constructor(props) {\n    super(props)\n    this.bookId = props.params.id\n  }\n\n  componentWillMount() {\n    this.props.loadBookInfo(this.bookId)\n  }\n\n  render() {\n    const { bookInfo } = this.props\n    const isFetching = bookInfo.fetchStatus === 'loading'\n\n    return (\n      <DocContainer bodyClass=\"book-info\" title={bookInfo.title}>\n        <div className=\"container\">\n          <article styleName=\"book-info-container\">\n            <div styleName=\"book-detail\">\n              <header styleName=\"header\">\n                {\n                  isFetching\n                    ? <Loading />\n                    : (\n                      <div>\n                        <div styleName=\"left-col\">\n                          {\n                            bookInfo.cover && (\n                              <div styleName=\"book-cover\">\n                                <img styleName=\"img\" src={bookInfo.cover} />\n                              </div>\n                            )\n                          }\n                        </div>\n                        <div styleName=\"right-col\">\n                          <h1 styleName=\"book-name\">{bookInfo.title || '无标题'}</h1>\n                          <div styleName=\"book-author\">\n                            <strong>作者：{bookInfo.authors && bookInfo.authors.map(a => a.name).join(', ') || '未知'}</strong>\n                          </div>\n                          <div>\n                            <Button styleName=\"btn-read\" to={`/viewer/book/${bookInfo.id}`} color=\"blue\">阅读</Button>\n                          </div>\n                        </div>\n                      </div>\n                    )\n                }\n              </header>\n              {\n                bookInfo.description && (\n                  <div styleName=\"content\">\n                    <h2 styleName=\"desc\">内容简介</h2>\n                    <p>{bookInfo.description}</p>\n                  </div>\n                )\n              }\n            </div>\n          </article>\n        </div>\n      </DocContainer>\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps: any) => {\n  const id = ownProps.params.id\n\n  return {\n    bookInfo: selectors.entity(schemas.BOOK, id)(state)\n  }\n}\n\nexport default connect<{}, {}, Props>(\n  mapStateToProps,\n  { loadBookInfo }\n)(BookDetail)\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/BookDetail/BookDetail.tsx","import React, { Component } from 'react'\nimport CSSModules from 'react-css-modules'\nimport classnames from 'classnames'\nimport styles from './Loading.scss'\nimport loadingGif from './loading.gif'\n\ninterface Props {\n  backdrop?: boolean\n  text?: string\n  center?: boolean\n  useDynamicDots?: boolean\n}\n\ninterface State {\n  dynamicDots?: string\n}\n\n@CSSModules(styles)\nclass Loading extends Component<Props, State> {\n\n  intervalId: any\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      dynamicDots: ''\n    }\n  }\n\n  componentDidMount() {\n    this.intervalId = setInterval(() => {\n      if (this.state.dynamicDots.length === 3) {\n        this.setState({ dynamicDots: '' })\n      } else {\n        this.setState({\n          dynamicDots: this.state.dynamicDots + '.'\n        })\n      }\n    }, 500)\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalId)\n  }\n\n  render() {\n    const { text, center, useDynamicDots } = this.props\n    const { dynamicDots } = this.state\n\n    const wrapClass = classnames({\n      'loading-wrap--center': center,\n      'loading-wrap': !center\n    })\n\n    return (\n      <div styleName={wrapClass}>\n        <p styleName=\"text-loading\">\n          <img styleName=\"gif\" src={loadingGif} />\n          <span>{text + (useDynamicDots ? dynamicDots : '...')}</span>\n        </p>\n      </div>\n    )\n  }\n}\n\nLoading['defaultProps'] = {\n  text: '加载中',\n  useDynamicDots: false\n}\n\nexport default Loading\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Loading/Loading.tsx","import Loading from './Loading'\nexport default Loading\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Loading/index.ts","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".text-loading_3Q6vh {\\n  margin: 30px 0;\\n  display: inline-block;\\n  line-height: 20px;\\n  position: relative; }\\n\\n.loading-wrap_7G2oJ {\\n  text-align: left; }\\n\\n.loading-wrap--center_3AyTV {\\n  text-align: center; }\\n\\n.gif_aZzPl {\\n  width: 20px;\\n  height: auto;\\n  line-height: 20px;\\n  opacity: .6;\\n  margin-right: 3px;\\n  position: relative;\\n  top: 2px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"text-loading\": \"text-loading_3Q6vh\",\n\t\"loading-wrap\": \"loading-wrap_7G2oJ\",\n\t\"loading-wrap--center\": \"loading-wrap--center_3AyTV\",\n\t\"gif\": \"gif_aZzPl\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"modules\":true,\"importLoaders\":1,\"localIdentName\":\"[local]_[hash:base64:5]\"}!./~/sass-loader!./src/components/Loading/Loading.scss\n// module id = 294\n// module chunks = 0 1 2 3 9","module.exports = __webpack_public_path__ + \"media/loading.4275970884.gif\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Loading/loading.gif\n// module id = 295\n// module chunks = 0 1 2 3 9","\n    var content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Loading.scss\");\n    var insertCss = require(\"!../../../node_modules/isomorphic-style-loader/lib/insertCss.js\");\n\n    if (typeof content === 'string') {\n      content = [[module.id, content, '']];\n    }\n\n    module.exports = content.locals || {};\n    module.exports._getContent = function() { return content; };\n    module.exports._getCss = function() { return content.toString(); };\n    module.exports._insertCss = function(options) { return insertCss(content, options) };\n    \n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Loading.scss\", function() {\n        content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./Loading.scss\");\n\n        if (typeof content === 'string') {\n          content = [[module.id, content, '']];\n        }\n\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Loading/Loading.scss\n// module id = 296\n// module chunks = 0 1 2 3 9","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".book-detail_Iinfr {\\n  background: #fff;\\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\\n  margin-top: 40px; }\\n\\n.book-info-container_12Cuh {\\n  max-width: 700px;\\n  margin: 0 auto; }\\n\\n.header_kUeRW {\\n  overflow: hidden;\\n  padding: 40px 40px;\\n  position: relative; }\\n  @media (max-width: 540px) {\\n    .header_kUeRW {\\n      padding: 20px; } }\\n\\n.content_QQ2OP {\\n  padding: 40px 40px;\\n  border-top: 1px solid #ddd;\\n  line-height: 1.7; }\\n  @media (max-width: 540px) {\\n    .content_QQ2OP {\\n      padding: 20px; } }\\n\\n.btn-read_A9Lcq {\\n  position: absolute;\\n  bottom: 40px; }\\n\\n.left-col_1xTZr {\\n  float: left;\\n  margin-right: 30px; }\\n\\n.right-col_3qf9k {\\n  width: 100%;\\n  min-height: 140px; }\\n\\n.book-name_30SJM {\\n  font-size: 1.6rem;\\n  font-weight: bold;\\n  margin: 0 0 10px 0;\\n  color: #333;\\n  line-height: 1.2;\\n  word-wrap: break-word; }\\n\\n.book-author_1ShCb {\\n  font-size: 1rem;\\n  margin-bottom: 10px; }\\n\\n.book-cover_3h02j {\\n  margin: 0;\\n  top: 0;\\n  position: relative;\\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\\n  overflow: hidden;\\n  border-radius: 3px; }\\n\\n.img_HM3eq {\\n  width: 100px;\\n  height: auto;\\n  display: block; }\\n\\n.desc_26hRG {\\n  font-size: 1.2rem;\\n  font-weight: bold;\\n  color: #333; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"book-detail\": \"book-detail_Iinfr\",\n\t\"book-info-container\": \"book-info-container_12Cuh\",\n\t\"header\": \"header_kUeRW\",\n\t\"content\": \"content_QQ2OP\",\n\t\"btn-read\": \"btn-read_A9Lcq\",\n\t\"left-col\": \"left-col_1xTZr\",\n\t\"right-col\": \"right-col_3qf9k\",\n\t\"book-name\": \"book-name_30SJM\",\n\t\"book-author\": \"book-author_1ShCb\",\n\t\"book-cover\": \"book-cover_3h02j\",\n\t\"img\": \"img_HM3eq\",\n\t\"desc\": \"desc_26hRG\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"modules\":true,\"importLoaders\":1,\"localIdentName\":\"[local]_[hash:base64:5]\"}!./~/sass-loader!./src/routes/BookDetail/BookDetail.scss\n// module id = 369\n// module chunks = 9","\n    var content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./BookDetail.scss\");\n    var insertCss = require(\"!../../../node_modules/isomorphic-style-loader/lib/insertCss.js\");\n\n    if (typeof content === 'string') {\n      content = [[module.id, content, '']];\n    }\n\n    module.exports = content.locals || {};\n    module.exports._getContent = function() { return content; };\n    module.exports._getCss = function() { return content.toString(); };\n    module.exports._insertCss = function(options) { return insertCss(content, options) };\n    \n    // Hot Module Replacement\n    // https://webpack.github.io/docs/hot-module-replacement\n    // Only activated in browser context\n    if (module.hot && typeof window !== 'undefined' && window.document) {\n      var removeCss = function() {};\n      module.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./BookDetail.scss\", function() {\n        content = require(\"!!../../../node_modules/css-loader/index.js??ref--2-1!../../../node_modules/sass-loader/index.js!./BookDetail.scss\");\n\n        if (typeof content === 'string') {\n          content = [[module.id, content, '']];\n        }\n\n        removeCss = insertCss(content, { replace: true });\n      });\n      module.hot.dispose(function() { removeCss(); });\n    }\n  \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/routes/BookDetail/BookDetail.scss\n// module id = 382\n// module chunks = 9"],"sourceRoot":""}