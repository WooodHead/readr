webpackJsonp([15],{160:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.common=t.usersSelector=t.booksSelector=t.booksSearchAsOptions=t.authorsAsOptions=t.doubanBooksAsOptions=t.searchBooksSelector=t.queryAuthorsSelector=t.queryDoubanBooksSelector=void 0;var r=n(161);Object.keys(r).forEach(function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var u=n(162),a=o(r),i=t.queryDoubanBooksSelector=function(e){return(0,u.createSelector)((0,r.selectPaginatedEntities)({entitiesName:"doubanBooks",paginationName:"doubanBooks",paginationQuery:e}),function(e){return e})},l=t.queryAuthorsSelector=function(e){return(0,r.selectPaginatedEntities)({entitiesName:"authors",paginationName:"authors",paginationQuery:e})},c=t.searchBooksSelector=function(e){return(0,r.selectPaginatedEntities)({entitiesName:"books",paginationName:"books",paginationQuery:e})};t.doubanBooksAsOptions=function(e){return(0,u.createSelector)(i(e),function(e){return e.map(function(e){return{name:e.title,value:e.id,additional:{description:e.summary,cover:e.images.large,author:e.author.join(", ")}}})})},t.authorsAsOptions=function(e){return(0,u.createSelector)(l(e),function(e){return e.map(function(e){return{name:e.name,value:e.id}})})},t.booksSearchAsOptions=function(e){return(0,u.createSelector)(c(e),function(e){return e.map(function(e){return{name:e.title,value:e.id}})})},t.booksSelector=(0,u.createSelector)((0,r.selectPaginatedEntities)({entitiesName:"books",paginationName:"books",paginationKey:"default"}),function(e){return e}),t.usersSelector=(0,r.selectPaginatedEntities)({entitiesName:"users",paginationName:"users",paginationKey:"default"});t.common=a},161:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.selectPaginatedEntities=t.paginationLinkSelector=void 0;var r=n(162),u=n(18),a=o(u),i=function(e){return function(t){return t.entities[e]||{}}},l=function(e){var t=arguments.length<=1||void 0===arguments[1]?"default":arguments[1];return function(n){return a["default"].get(n.pagination,e+"."+t+".ids",[])}},c=(t.paginationLinkSelector=function(e){var t=arguments.length<=1||void 0===arguments[1]?"default":arguments[1];return function(n){return a["default"].pick(a["default"].get(n.pagination,e+"."+t,{}),["next","last"])}},function(e,t){return function(n){return a["default"].get(n.pagination,[e,"query",t,"ids"],[])}});t.selectPaginatedEntities=function(e){var t=e.entitiesName,n=e.paginationName,o=e.paginationKey,u=e.paginationQuery,a=void 0;return a=u?c(n,u):l(n,o),(0,r.createSelector)(i(t),a,function(e,t){return t.map(function(t){return e[t]})})}},162:function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){return e===t}function r(e){var t=arguments.length<=1||void 0===arguments[1]?o:arguments[1],n=null,r=null;return function(){for(var o=arguments.length,u=Array(o),a=0;o>a;a++)u[a]=arguments[a];return null!==n&&n.length===u.length&&u.every(function(e,o){return t(e,n[o])})?r:(r=e.apply(void 0,u),n=u,r)}}function u(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, "+("instead received the following types: ["+n+"]"))}return t}function a(e){for(var t=arguments.length,o=Array(t>1?t-1:0),r=1;t>r;r++)o[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),a=0;t>a;a++)r[a]=arguments[a];var i=0,l=r.pop(),c=u(r),s=e.apply(void 0,[function(){return i++,l.apply(void 0,arguments)}].concat(o)),f=function(e,t){for(var o=arguments.length,r=Array(o>2?o-2:0),u=2;o>u;u++)r[u-2]=arguments[u];var a=c.map(function(n){return n.apply(void 0,[e,t].concat(r))});return s.apply(void 0,n(a))};return f.resultFunc=l,f.recomputations=function(){return i},f.resetRecomputations=function(){return i=0},f}}function i(){return a(r).apply(void 0,arguments)}function l(e){var t=arguments.length<=1||void 0===arguments[1]?i:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),o=0;e>o;o++)t[o]=arguments[o];return t.reduce(function(e,t,o){return e[n[o]]=t,e},{})})}t.__esModule=!0,t.defaultMemoize=r,t.createSelectorCreator=a,t.createSelector=i,t.createStructuredSelector=l},171:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Textarea=t.SelectizeInput=t.Input=t.Button=void 0;var r=n(96),u=o(r),a=n(172),i=o(a),l=n(175),c=o(l),s=n(178),f=o(s);t.Button=u["default"],t.Input=i["default"],t.SelectizeInput=c["default"],t.Textarea=f["default"]},172:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(173),u=o(r);t["default"]=u["default"]},173:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=n(3),s=o(c),f=n(82),p=o(f),d=function(e,t,n,o){var r,u=arguments.length,a=3>u?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(3>u?r(a):u>3?r(t,n,a):r(t,n))||a);return u>3&&a&&Object.defineProperty(t,n,a),a},y=n(174),h=function(e){function t(e){return r(this,t),u(this,Object.getPrototypeOf(t).call(this,e))}return a(t,e),i(t,[{key:"render",value:function(){var e=this,t=Object.assign({},this.props);return delete t.className,s["default"].createElement("div",{styleName:"input-wrap",className:this.props.className||""},s["default"].createElement("input",{styleName:"input",placeholder:this.props.placeholder,value:this.props.value,onChange:function(t){e.props.onChange(t)},type:this.props.type?this.props.type:"text",name:this.props.name?this.props.name:null}))}}]),t}(c.Component);h=d([(0,p["default"])(y,{allowMultiple:!0})],h),t["default"]=h},174:function(e,t){e.exports={"input-wrap":"input-wrap_3dHA3",input:"input_2juBO"}},175:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(176),u=o(r);t["default"]=u["default"]},176:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=n(3),s=o(c),f=n(78),p=o(f),d=n(80),y=o(d),h=n(82),b=o(h),v=n(108),m=o(v),g=function(e,t,n,o){var r,u=arguments.length,a=3>u?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(3>u?r(a):u>3?r(t,n,a):r(t,n))||a);return u>3&&a&&Object.defineProperty(t,n,a),a},O=n(177),_=function(e){function t(e){r(this,t);var n=u(this,Object.getPrototypeOf(t).call(this,e));return n.state={showOptions:!1,focus:!1,value:"",expendedOptionIndex:0},n.handleOutsideClick=n.handleOutsideClick.bind(n),n.focusInput=n.focusInput.bind(n),n.handleInputWrapClick=n.handleInputWrapClick.bind(n),n}return a(t,e),i(t,[{key:"addValue",value:function(e){this.props.onValuesChange(this.props.values.concat(e)),this.props.onOptionsChange&&this.props.onOptionsChange(this.props.options.map(function(t){return t.value===e.value?Object.assign({},t,{disabled:!0}):t})),this.clearInputValue(),"undefined"!=typeof this.props.stayFocused&&this.props.stayFocused===!1||this.focusInput(),this.setState({showOptions:!1})}},{key:"removeValue",value:function(e){var t=[],n=void 0;-1===e?(t=this.props.values.slice(0,this.props.values.length-1),n=this.props.values[this.props.values.length-1].value):t=this.props.values.filter(function(t,o){return n=t.value,o!==e}),this.props.onOptionsChange&&this.props.onOptionsChange(this.props.options.map(function(e){return e.value===n?Object.assign({},e,{disabled:!1}):e})),this.props.onValuesChange(t)}},{key:"clearInputValue",value:function(){this.props.onInputChange("")}},{key:"handleKeyPress",value:function(e){8!==e.keyCode||this.props.value||this.removeValue(-1)}},{key:"focusInput",value:function(){this.input.focus()}},{key:"handleOutsideClick",value:function(e){(0,m["default"])(this.inputWrap,e.target)||this.setState({showOptions:!1})}},{key:"handleInputWrapClick",value:function(){this.focusInput(),this.setState({showOptions:!0})}},{key:"componentDidMount",value:function(){window.addEventListener("click",this.handleOutsideClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handleOutsideClick)}},{key:"render",value:function(){var e=this,t=this.props,n=t.label,o=t.values,r=t.onAddNewValue,u=this.props.value||"",a=this.props.options||[],i=o.length>0?0===u.length?16:16*u.length:"100%",l=o.length>0?"":this.props.placeholder,c=(0,y["default"])({"selectize-input":!0,"selectize-input--focus":this.state.focus,"selectize-input--empty":0===o.length});return s["default"].createElement("div",{styleName:"selectize-wrap",className:this.props.className||""},n?s["default"].createElement("label",{className:"form-label"},n):null,s["default"].createElement("div",{styleName:c,onClick:this.handleInputWrapClick,ref:function(t){e.inputWrap=t}},o.map(function(t,n){return s["default"].createElement("span",{key:n,styleName:"selectize-tag"},t.name,s["default"].createElement(p["default"],{styleName:"icon-remove",size:20,name:"close",onClick:function(t){e.removeValue(n)}}))}),s["default"].createElement("input",{style:{width:i},ref:function(t){e.input=t},value:u,placeholder:l,onBlur:function(t){e.setState({focus:!1})},onFocus:function(t){e.setState({focus:!0})},onChange:function(t){e.props.onInputChange(t.target.value)},onKeyDown:function(t){e.handleKeyPress(t)}})),this.state.showOptions&&(0!==a.length||r)?s["default"].createElement("ul",{styleName:"query-results"},a.map(function(t,n){return t.disabled?s["default"].createElement("li",{key:n,className:"disabled"},t.name):s["default"].createElement("li",{key:n,onClick:function(n){e.addValue(t),e.props.onOptionClick&&e.props.onOptionClick(t)}},s["default"].createElement("span",null,t.name))}),r?s["default"].createElement("li",{onClick:function(t){r(e.props.value)},className:"add"},"添加 ",s["default"].createElement("strong",null,this.props.value)):null):null)}}]),t}(c.Component);_=g([(0,b["default"])(O,{allowMultiple:!0})],_),t["default"]=_},177:function(e,t){e.exports={"selectize-wrap":"selectize-wrap_3AMAi","selectize-input":"selectize-input_14bgP","selectize-input--focus":"selectize-input--focus_UnZ8B","selectize-input--empty":"selectize-input--empty_xn7Uy","query-results":"query-results_OgE2t","selectize-tag":"selectize-tag_3aD13","icon-remove":"icon-remove_1O7F_"}},178:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(179),u=o(r);t["default"]=u["default"]},179:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=n(3),s=o(c),f=n(82),p=o(f),d=function(e,t,n,o){var r,u=arguments.length,a=3>u?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(3>u?r(a):u>3?r(t,n,a):r(t,n))||a);return u>3&&a&&Object.defineProperty(t,n,a),a},y=n(180),h=function(e){function t(e){return r(this,t),u(this,Object.getPrototypeOf(t).call(this,e))}return a(t,e),i(t,[{key:"render",value:function(){var e=this;return s["default"].createElement("div",{styleName:"textarea-wrap",className:this.props.className||""},s["default"].createElement("textarea",{placeholder:this.props.placeholder,value:this.props.value,onChange:function(t){e.props.onChange(t)},styleName:"textarea",type:this.props.type?this.props.type:"text",name:this.props.name?this.props.name:null}))}}]),t}(c.Component);h=d([(0,p["default"])(y,{allowMultiple:!0})],h),t["default"]=h},180:function(e,t){e.exports={"textarea-wrap":"textarea-wrap_Xkpj1 input-wrap_3dHA3",textarea:"textarea_1EdoS"}},244:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{notification:e.components.notification,elements:e.elements,session:e.session}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(3),s=o(c),f=n(7),p=n(8),d=n(18),y=o(d),h=n(245),b=o(h),v=n(119),m=o(v),g=n(134),O=o(g),_=function(e){function t(e){r(this,t);var n=u(this,Object.getPrototypeOf(t).call(this,e));return n.handleSave=n.handleSave.bind(n),n.handleBooksValueChange=n.handleBooksValueChange.bind(n),n}return a(t,e),l(t,[{key:"handleSave",value:function(e){var t=this,n=this.props.session.user.id,o=Object.assign({},e,{creator:n});m["default"].addCollection(o).then(function(e){t.props.sendNotification("添加成功！"),t.props.reset("addCollection")},function(e){t.props.sendNotification(e.message)})}},{key:"handleBooksValueChange",value:function(e){y["default"].isEmpty(e)||this.props.fetchBooks({q:e})}},{key:"render",value:function(){return s["default"].createElement(O["default"],{title:"添加合集"},s["default"].createElement("h1",{className:"page-title"},"添加合集"),s["default"].createElement(b["default"],{onSave:this.handleSave,onBooksValueChange:this.handleBooksValueChange}))}}]),t}(c.Component);t["default"]=(0,f.connect)(i,{sendNotification:p.sendNotification,reset:p.reset,fetchBooks:p.fetchBooks})(_)},245:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=n(3),f=r(s),p=n(7),d=n(26),y=n(8),h=n(172),b=r(h),v=n(175),m=r(v),g=n(171),O=n(160),k=o(O),w=Object.assign||function(e){for(var t,n=1,o=arguments.length;o>n;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},j=function(e,t,n,o){var r,u=arguments.length,a=3>u?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(3>u?r(a):u>3?r(t,n,a):r(t,n))||a);return u>3&&a&&Object.defineProperty(t,n,a),a},S=function(e){function t(e){return u(this,t),a(this,Object.getPrototypeOf(t).call(this,e))}return i(t,e),l(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.fields,n=t.name,o=t._booksValue,r=t._booksValues,u=(t._booksOptions,t.description),a=e.handleSubmit,i=e.onSave,l=e.onBooksValueChange,c=e.booksSearchAsOptions;return f["default"].createElement("div",null,f["default"].createElement(b["default"],w({placeholder:"合集名称"},n)),f["default"].createElement(m["default"],{placeholder:"选择书籍",onInputChange:function(e){l&&l(e),o.onChange(e)},value:o.value,onValuesChange:r.onChange,options:c,values:r.value||[]}),f["default"].createElement(g.Textarea,w({},u,{placeholder:"描述"})),f["default"].createElement(g.Button,{onClick:a(function(e){var t=_.pick(e,["name","description"]);t=Object.assign({},t,{items:r.value?r.value.map(function(e){return e.value}):[]}),i(t)})},"添加"))}}]),t}(s.Component);S=j([(0,d.reduxForm)({form:"addCollection",fields:["name","_booksValue","_booksValues","_booksOptions","description"]})],S);var C=function(e,t){var n=_.get(e.form,"addCollection._booksValue.value","");return{initialValues:t.initialData,routing:e.routing.locationBeforeTransitions,booksSearchAsOptions:k.booksSearchAsOptions(n)(e)}};t["default"]=(0,p.connect)(C,{sendNotification:y.sendNotification})(S)}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vMTUuMTUuanMiLCJ3ZWJwYWNrOi8vL3NyYy9pc29tb3JwaGljL3N0b3JlL3NlbGVjdG9ycy9pbmRleC50cz83MjZiKioqKiIsIndlYnBhY2s6Ly8vc3JjL2lzb21vcnBoaWMvc3RvcmUvc2VsZWN0b3JzL2NvbW1vbi50cz8zMzM2KioqKiIsIndlYnBhY2s6Ly8vLi9+L3Jlc2VsZWN0L2xpYi9pbmRleC5qcz82NDZiKioqKiIsIndlYnBhY2s6Ly8vc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvX2Zvcm0vaW5kZXgudHM/NTBkNyoqKioqKioqIiwid2VicGFjazovLy9zcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9JbnB1dC9pbmRleC50cz8yMWQzKioqKioqKioiLCJ3ZWJwYWNrOi8vL3NyYy9pc29tb3JwaGljL2VsZW1lbnRzL19mb3JtL0lucHV0L0lucHV0LnRzeD9kYTFkKioqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvX2Zvcm0vSW5wdXQvSW5wdXQuY3NzP2VkZjUqKioqKioqKiIsIndlYnBhY2s6Ly8vc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvX2Zvcm0vU2VsZWN0aXplSW5wdXQvaW5kZXgudHM/N2U4MCoqKioqKioqIiwid2VicGFjazovLy9zcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9TZWxlY3RpemVJbnB1dC9TZWxlY3RpemVJbnB1dC50c3g/NGU3MyoqKioqKioqIiwid2VicGFjazovLy8uL3NyYy9pc29tb3JwaGljL2VsZW1lbnRzL19mb3JtL1NlbGVjdGl6ZUlucHV0L1NlbGVjdGl6ZUlucHV0LnNjc3M/ZjA4NioqKioqKioqIiwid2VicGFjazovLy9zcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9UZXh0YXJlYS9pbmRleC50cz9iODEyKioqKioqKioiLCJ3ZWJwYWNrOi8vL3NyYy9pc29tb3JwaGljL2VsZW1lbnRzL19mb3JtL1RleHRhcmVhL1RleHRhcmVhLnRzeD9jMmFmKioqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvX2Zvcm0vVGV4dGFyZWEvVGV4dGFyZWEuY3NzP2Q5ZmYqKioqKioqKiIsIndlYnBhY2s6Ly8vc3JjL2lzb21vcnBoaWMvcm91dGVzL0FkZENvbGxlY3Rpb24vQWRkQ29sbGVjdGlvbi50c3giLCJ3ZWJwYWNrOi8vL3NyYy9pc29tb3JwaGljL3JvdXRlcy9BZGRDb2xsZWN0aW9uL2NvbXBvbmVudHMvQWRkQ29sbGVjdGlvbkZvcm0udHN4Il0sIm5hbWVzIjpbIndlYnBhY2tKc29ucCIsMTYwLCJtb2R1bGUiLCJleHBvcnRzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwib2JqIiwiX19lc01vZHVsZSIsIm5ld09iaiIsImtleSIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJjb21tb24iLCJ1c2Vyc1NlbGVjdG9yIiwiYm9va3NTZWxlY3RvciIsImJvb2tzU2VhcmNoQXNPcHRpb25zIiwiYXV0aG9yc0FzT3B0aW9ucyIsImRvdWJhbkJvb2tzQXNPcHRpb25zIiwic2VhcmNoQm9va3NTZWxlY3RvciIsInF1ZXJ5QXV0aG9yc1NlbGVjdG9yIiwicXVlcnlEb3ViYW5Cb29rc1NlbGVjdG9yIiwidW5kZWZpbmVkIiwiX2NvbW1vbiIsImtleXMiLCJmb3JFYWNoIiwiZW51bWVyYWJsZSIsImdldCIsIl9yZXNlbGVjdCIsInF1ZXJ5IiwiY3JlYXRlU2VsZWN0b3IiLCJzZWxlY3RQYWdpbmF0ZWRFbnRpdGllcyIsImVudGl0aWVzTmFtZSIsInBhZ2luYXRpb25OYW1lIiwicGFnaW5hdGlvblF1ZXJ5IiwiYm9va3MiLCJtYXAiLCJib29rIiwibmFtZSIsInRpdGxlIiwiaWQiLCJhZGRpdGlvbmFsIiwiZGVzY3JpcHRpb24iLCJzdW1tYXJ5IiwiY292ZXIiLCJpbWFnZXMiLCJsYXJnZSIsImF1dGhvciIsImpvaW4iLCJpdGVtcyIsIml0ZW0iLCJwYWdpbmF0aW9uS2V5IiwxNjEsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJkZWZhdWx0IiwicGFnaW5hdGlvbkxpbmtTZWxlY3RvciIsIl9sb2Rhc2giLCJfbG9kYXNoMiIsImVudGl0aWVzU2VsZWN0b3IiLCJzdGF0ZSIsImVudGl0aWVzIiwicGFnaW5hdGlvblNlbGVjdG9yIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicGFnaW5hdGlvbiIsInF1ZXJ5UGFnaW5hdGlvblNlbGVjdG9yIiwicGljayIsIm9wdGlvbnMiLCJwYWdpU2VsZWN0b3IiLCJpZHMiLDE2MiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYXJyIiwiQXJyYXkiLCJpc0FycmF5IiwiaSIsImFycjIiLCJmcm9tIiwiZGVmYXVsdEVxdWFsaXR5Q2hlY2siLCJhIiwiYiIsImRlZmF1bHRNZW1vaXplIiwiZnVuYyIsImVxdWFsaXR5Q2hlY2siLCJsYXN0QXJncyIsImxhc3RSZXN1bHQiLCJfbGVuIiwiYXJncyIsIl9rZXkiLCJldmVyeSIsImluZGV4IiwiYXBwbHkiLCJnZXREZXBlbmRlbmNpZXMiLCJmdW5jcyIsImRlcGVuZGVuY2llcyIsImRlcCIsImRlcGVuZGVuY3lUeXBlcyIsIkVycm9yIiwiY3JlYXRlU2VsZWN0b3JDcmVhdG9yIiwibWVtb2l6ZSIsIl9sZW4yIiwibWVtb2l6ZU9wdGlvbnMiLCJfa2V5MiIsIl9sZW4zIiwiX2tleTMiLCJyZWNvbXB1dGF0aW9ucyIsInJlc3VsdEZ1bmMiLCJwb3AiLCJtZW1vaXplZFJlc3VsdEZ1bmMiLCJjb25jYXQiLCJzZWxlY3RvciIsInByb3BzIiwiX2xlbjQiLCJfa2V5NCIsInBhcmFtcyIsImRlcGVuZGVuY3kiLCJyZXNldFJlY29tcHV0YXRpb25zIiwiY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yIiwic2VsZWN0b3JzIiwic2VsZWN0b3JDcmVhdG9yIiwib2JqZWN0S2V5cyIsIl9sZW41IiwidmFsdWVzIiwiX2tleTUiLCJyZWR1Y2UiLCJjb21wb3NpdGlvbiIsMTcxLCJUZXh0YXJlYSIsIlNlbGVjdGl6ZUlucHV0IiwiSW5wdXQiLCJCdXR0b24iLCJfQnV0dG9uIiwiX0J1dHRvbjIiLCJfSW5wdXQiLCJfSW5wdXQyIiwiX1NlbGVjdGl6ZUlucHV0IiwiX1NlbGVjdGl6ZUlucHV0MiIsIl9UZXh0YXJlYSIsIl9UZXh0YXJlYTIiLDE3MiwxNzMsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsInNlbGYiLCJSZWZlcmVuY2VFcnJvciIsIl9pbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJkZXNjcmlwdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX3R5cGVvZiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiX3JlYWN0IiwiX3JlYWN0MiIsIl9yZWFjdENzc01vZHVsZXMiLCJfcmVhY3RDc3NNb2R1bGVzMiIsIl9fZGVjb3JhdGUiLCJkZWNvcmF0b3JzIiwiZGVzYyIsImQiLCJjIiwiciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIlJlZmxlY3QiLCJkZWNvcmF0ZSIsInN0eWxlcyIsIl9Db21wb25lbnQiLCJ0aGlzIiwiZ2V0UHJvdG90eXBlT2YiLCJfdGhpczIiLCJhc3NpZ24iLCJjbGFzc05hbWUiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGVOYW1lIiwicGxhY2Vob2xkZXIiLCJvbkNoYW5nZSIsImUiLCJ0eXBlIiwiQ29tcG9uZW50IiwiYWxsb3dNdWx0aXBsZSIsMTc0LCJpbnB1dC13cmFwIiwiaW5wdXQiLDE3NSwxNzYsIl9JY29uIiwiX0ljb24yIiwiX2NsYXNzbmFtZXMiLCJfY2xhc3NuYW1lczIiLCJfaXNEZXNjZW5kYW50IiwiX2lzRGVzY2VuZGFudDIiLCJfdGhpcyIsInNob3dPcHRpb25zIiwiZm9jdXMiLCJleHBlbmRlZE9wdGlvbkluZGV4IiwiaGFuZGxlT3V0c2lkZUNsaWNrIiwiYmluZCIsImZvY3VzSW5wdXQiLCJoYW5kbGVJbnB1dFdyYXBDbGljayIsIm5ld1ZhbHVlIiwib25WYWx1ZXNDaGFuZ2UiLCJvbk9wdGlvbnNDaGFuZ2UiLCJvcHRpb24iLCJkaXNhYmxlZCIsImNsZWFySW5wdXRWYWx1ZSIsInN0YXlGb2N1c2VkIiwic2V0U3RhdGUiLCJuZXdWYWx1ZXMiLCJyZW1vdmVkVmFsdWUiLCJzbGljZSIsImZpbHRlciIsInYiLCJvbklucHV0Q2hhbmdlIiwia2V5Q29kZSIsInJlbW92ZVZhbHVlIiwiaW5wdXRXcmFwIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfcHJvcHMiLCJsYWJlbCIsIm9uQWRkTmV3VmFsdWUiLCJpbnB1dFdpZHRoIiwic2VsZWN0aXplSW5wdXRTdHlsZU5hbWUiLCJzZWxlY3RpemUtaW5wdXQiLCJzZWxlY3RpemUtaW5wdXQtLWZvY3VzIiwic2VsZWN0aXplLWlucHV0LS1lbXB0eSIsIm9uQ2xpY2siLCJyZWYiLCJfcmVmIiwic2l6ZSIsInN0eWxlIiwid2lkdGgiLCJfcmVmMiIsIm9uQmx1ciIsIm9uRm9jdXMiLCJvbktleURvd24iLCJoYW5kbGVLZXlQcmVzcyIsImFkZFZhbHVlIiwib25PcHRpb25DbGljayIsMTc3LCJzZWxlY3RpemUtd3JhcCIsInF1ZXJ5LXJlc3VsdHMiLCJzZWxlY3RpemUtdGFnIiwiaWNvbi1yZW1vdmUiLDE3OCwxNzksMTgwLCJ0ZXh0YXJlYS13cmFwIiwidGV4dGFyZWEiLDI0NCwibWFwU3RhdGVUb1Byb3BzIiwibm90aWZpY2F0aW9uIiwiY29tcG9uZW50cyIsImVsZW1lbnRzIiwic2Vzc2lvbiIsIl9yZWFjdFJlZHV4IiwiX2FjdGlvbnMiLCJfQWRkQ29sbGVjdGlvbkZvcm0iLCJfQWRkQ29sbGVjdGlvbkZvcm0yIiwiX2FwaXMiLCJfYXBpczIiLCJfRG9jQ29udGFpbmVyIiwiX0RvY0NvbnRhaW5lcjIiLCJBZGRDb2xsZWN0aW9uIiwiaGFuZGxlU2F2ZSIsImhhbmRsZUJvb2tzVmFsdWVDaGFuZ2UiLCJkYXRhIiwiY3JlYXRvciIsInVzZXIiLCJwb3N0RGF0YSIsImFkZENvbGxlY3Rpb24iLCJ0aGVuIiwicmVzdWx0Iiwic2VuZE5vdGlmaWNhdGlvbiIsInJlc2V0IiwiZXJyb3IiLCJtZXNzYWdlIiwibmV3VmFsIiwiaXNFbXB0eSIsImZldGNoQm9va3MiLCJxIiwib25TYXZlIiwib25Cb29rc1ZhbHVlQ2hhbmdlIiwiY29ubmVjdCIsMjQ1LCJfcmVkdXhGb3JtIiwiX2Zvcm0iLCJfc2VsZWN0b3JzIiwiX19hc3NpZ24iLCJ0IiwicyIsIm4iLCJwIiwiQWRkQ29sbGVjdGlvbkZvcm0iLCJfcHJvcHMkZmllbGRzIiwiZmllbGRzIiwiX2Jvb2tzVmFsdWUiLCJfYm9va3NWYWx1ZXMiLCJfYm9va3NPcHRpb25zIiwiaGFuZGxlU3VibWl0IiwiXyIsInJlZHV4Rm9ybSIsImZvcm0iLCJvd25Qcm9wcyIsImJvb2tzUXVlcnkiLCJpbml0aWFsVmFsdWVzIiwiaW5pdGlhbERhdGEiLCJyb3V0aW5nIiwibG9jYXRpb25CZWZvcmVUcmFuc2l0aW9ucyJdLCJtYXBwaW5ncyI6IkFBQUFBLGNBQWMsS0FFUkMsSUFDQSxTQUFTQyxFQUFRQyxFQUFTQyxHQUUvQixZQXVCQSxTQUFTQyxHQUF3QkMsR0FBTyxHQUFJQSxHQUFPQSxFQUFJQyxXQUFjLE1BQU9ELEVBQWMsSUFBSUUsS0FBYSxJQUFXLE1BQVBGLEVBQWUsSUFBSyxHQUFJRyxLQUFPSCxHQUFXSSxPQUFPQyxVQUFVQyxlQUFlQyxLQUFLUCxFQUFLRyxLQUFNRCxFQUFPQyxHQUFPSCxFQUFJRyxHQUFnQyxPQUF0QkQsY0FBaUJGLEVBQVlFLEVBckJsUUUsT0FBT0ksZUFBZVgsRUFBUyxjQUMzQlksT0FBTyxJQUVYWixFQUFRYSxP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QUFBYixHQUNZb0YsR0FDSEEsRUFDbkJwRixHQUNVa0csRUFBUzFILFNBQ25Cd0IsSUFDRXpNLE1BQWEyUyxFQUFPM1MsTUFDWDBNLGVBQWNrRyxFQUFVM0gsU0FDL0IxSCxRQUF1Qm5ELEVBQ3hCMEcsT0FBYzhMLEVBQU01UyxZQUU1QjJKLGFBQVNtQixjQUFBbUgsRUFBQTlLLFNBQUFnTCxLQUNRclEsR0FDSmtKLFlBQ1QsUUFBQXJCLGFBQ0dtQixjQUFBbUgsRUFBQTNLLFFBQUErRyxRQUNnQnlFLEVBQUEsU0FBQWpDLEdBQ25CLEdBQVlHLEdBQUkrQixFQUFLelAsS0FBS3VOLEdBQVMsT0FBaUIsZUFDNUNHLEdBQUFyUixPQUFnQmlMLFVBQWFvRyxHQUM5QjNPLE1BQUF1USxFQUFvQjVTLE1BQWU0UyxFQUFNNVMsTUFBSXdCLElBQUEsU0FBQWMsR2Z3M0JuQyxNZXgzQmdEQSxHQUFPdEMsYUFFbEU0UixFQUNKWixNQUtiLFdBbER3Q3dCLEdmMjZCdEM5SSxFQUFPMEIsVWUvNkJWb0gsR0FBQTFJLElBQUEsRUFBQWtJLEVBQUFnQixZQUNNQyxLQUFpQixnQkFDZlAsUUFBUyxPQUFlLGNBQWdCLGVBQWlCLGdCQUMvRCxrQkFBQUYsRUFxREYsSUFBcUIzQyxHQUFBLFNBQVM5TSxFQUFVbVEsR0FDdEMsR0FBZ0JDLEdBQUlKLEVBQUloUyxJQUFNZ0MsRUFBS2tRLEtBQW1DLGtDQUFLLEdBRXJFLFFBQ1NHLGNBQVVGLEVBQVlHLFlBQzVCQyxRQUFPdlEsRUFBUXVRLFFBQTBCQywwQkFDNUJuVCxxQkFBV3NHLEVBQXFCdEcscUJBQVkrUyxHQUlwRXBRLElmMDNCQzNELGVlMTNCcUIsRUFBQThRLEVBQUE0QixTQUNMakMsR0FFaEJ1QixpQkFBQWpCLEVBQUFpQixtQkFBbUJvQiIsImZpbGUiOiIxNS4xNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIndlYnBhY2tKc29ucChbMTVdLHtcblxuLyoqKi8gMTYwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5jb21tb24gPSBleHBvcnRzLnVzZXJzU2VsZWN0b3IgPSBleHBvcnRzLmJvb2tzU2VsZWN0b3IgPSBleHBvcnRzLmJvb2tzU2VhcmNoQXNPcHRpb25zID0gZXhwb3J0cy5hdXRob3JzQXNPcHRpb25zID0gZXhwb3J0cy5kb3ViYW5Cb29rc0FzT3B0aW9ucyA9IGV4cG9ydHMuc2VhcmNoQm9va3NTZWxlY3RvciA9IGV4cG9ydHMucXVlcnlBdXRob3JzU2VsZWN0b3IgPSBleHBvcnRzLnF1ZXJ5RG91YmFuQm9va3NTZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfY29tbW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjEpO1xuXHRcblx0T2JqZWN0LmtleXMoX2NvbW1vbikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdCAgICBpZiAoa2V5ID09PSBcImRlZmF1bHRcIikgcmV0dXJuO1xuXHQgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwge1xuXHQgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG5cdCAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBfY29tbW9uW2tleV07XG5cdCAgICAgICAgfVxuXHQgICAgfSk7XG5cdH0pO1xuXHRcblx0dmFyIF9yZXNlbGVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTYyKTtcblx0XG5cdHZhciBjb21tb24gPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY29tbW9uKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cdFxuXHR2YXIgcXVlcnlEb3ViYW5Cb29rc1NlbGVjdG9yID0gZXhwb3J0cy5xdWVyeURvdWJhbkJvb2tzU2VsZWN0b3IgPSBmdW5jdGlvbiBxdWVyeURvdWJhbkJvb2tzU2VsZWN0b3IocXVlcnkpIHtcblx0ICAgIHJldHVybiAoMCwgX3Jlc2VsZWN0LmNyZWF0ZVNlbGVjdG9yKSgoMCwgX2NvbW1vbi5zZWxlY3RQYWdpbmF0ZWRFbnRpdGllcykoe1xuXHQgICAgICAgIGVudGl0aWVzTmFtZTogJ2RvdWJhbkJvb2tzJyxcblx0ICAgICAgICBwYWdpbmF0aW9uTmFtZTogJ2RvdWJhbkJvb2tzJyxcblx0ICAgICAgICBwYWdpbmF0aW9uUXVlcnk6IHF1ZXJ5XG5cdCAgICB9KSwgZnVuY3Rpb24gKGJvb2tzKSB7XG5cdCAgICAgICAgcmV0dXJuIGJvb2tzO1xuXHQgICAgfSk7XG5cdH07XG5cdHZhciBxdWVyeUF1dGhvcnNTZWxlY3RvciA9IGV4cG9ydHMucXVlcnlBdXRob3JzU2VsZWN0b3IgPSBmdW5jdGlvbiBxdWVyeUF1dGhvcnNTZWxlY3RvcihxdWVyeSkge1xuXHQgICAgcmV0dXJuICgwLCBfY29tbW9uLnNlbGVjdFBhZ2luYXRlZEVudGl0aWVzKSh7XG5cdCAgICAgICAgZW50aXRpZXNOYW1lOiAnYXV0aG9ycycsXG5cdCAgICAgICAgcGFnaW5hdGlvbk5hbWU6ICdhdXRob3JzJyxcblx0ICAgICAgICBwYWdpbmF0aW9uUXVlcnk6IHF1ZXJ5XG5cdCAgICB9KTtcblx0fTtcblx0dmFyIHNlYXJjaEJvb2tzU2VsZWN0b3IgPSBleHBvcnRzLnNlYXJjaEJvb2tzU2VsZWN0b3IgPSBmdW5jdGlvbiBzZWFyY2hCb29rc1NlbGVjdG9yKHF1ZXJ5KSB7XG5cdCAgICByZXR1cm4gKDAsIF9jb21tb24uc2VsZWN0UGFnaW5hdGVkRW50aXRpZXMpKHtcblx0ICAgICAgICBlbnRpdGllc05hbWU6ICdib29rcycsXG5cdCAgICAgICAgcGFnaW5hdGlvbk5hbWU6ICdib29rcycsXG5cdCAgICAgICAgcGFnaW5hdGlvblF1ZXJ5OiBxdWVyeVxuXHQgICAgfSk7XG5cdH07XG5cdHZhciBkb3ViYW5Cb29rc0FzT3B0aW9ucyA9IGV4cG9ydHMuZG91YmFuQm9va3NBc09wdGlvbnMgPSBmdW5jdGlvbiBkb3ViYW5Cb29rc0FzT3B0aW9ucyhxdWVyeSkge1xuXHQgICAgcmV0dXJuICgwLCBfcmVzZWxlY3QuY3JlYXRlU2VsZWN0b3IpKHF1ZXJ5RG91YmFuQm9va3NTZWxlY3RvcihxdWVyeSksIGZ1bmN0aW9uIChib29rcykge1xuXHQgICAgICAgIHJldHVybiBib29rcy5tYXAoZnVuY3Rpb24gKGJvb2spIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgICAgIG5hbWU6IGJvb2sudGl0bGUsXG5cdCAgICAgICAgICAgICAgICB2YWx1ZTogYm9vay5pZCxcblx0ICAgICAgICAgICAgICAgIGFkZGl0aW9uYWw6IHtcblx0ICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYm9vay5zdW1tYXJ5LFxuXHQgICAgICAgICAgICAgICAgICAgIGNvdmVyOiBib29rLmltYWdlcy5sYXJnZSxcblx0ICAgICAgICAgICAgICAgICAgICBhdXRob3I6IGJvb2suYXV0aG9yLmpvaW4oJywgJylcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICB9KTtcblx0ICAgIH0pO1xuXHR9O1xuXHR2YXIgYXV0aG9yc0FzT3B0aW9ucyA9IGV4cG9ydHMuYXV0aG9yc0FzT3B0aW9ucyA9IGZ1bmN0aW9uIGF1dGhvcnNBc09wdGlvbnMocXVlcnkpIHtcblx0ICAgIHJldHVybiAoMCwgX3Jlc2VsZWN0LmNyZWF0ZVNlbGVjdG9yKShxdWVyeUF1dGhvcnNTZWxlY3RvcihxdWVyeSksIGZ1bmN0aW9uIChpdGVtcykge1xuXHQgICAgICAgIHJldHVybiBpdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSxcblx0ICAgICAgICAgICAgICAgIHZhbHVlOiBpdGVtLmlkXG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgfSk7XG5cdCAgICB9KTtcblx0fTtcblx0dmFyIGJvb2tzU2VhcmNoQXNPcHRpb25zID0gZXhwb3J0cy5ib29rc1NlYXJjaEFzT3B0aW9ucyA9IGZ1bmN0aW9uIGJvb2tzU2VhcmNoQXNPcHRpb25zKHF1ZXJ5KSB7XG5cdCAgICByZXR1cm4gKDAsIF9yZXNlbGVjdC5jcmVhdGVTZWxlY3Rvcikoc2VhcmNoQm9va3NTZWxlY3RvcihxdWVyeSksIGZ1bmN0aW9uIChpdGVtcykge1xuXHQgICAgICAgIHJldHVybiBpdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICAgICAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0udGl0bGUsXG5cdCAgICAgICAgICAgICAgICB2YWx1ZTogaXRlbS5pZFxuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgIH0pO1xuXHQgICAgfSk7XG5cdH07XG5cdHZhciBib29rc1NlbGVjdG9yID0gZXhwb3J0cy5ib29rc1NlbGVjdG9yID0gKDAsIF9yZXNlbGVjdC5jcmVhdGVTZWxlY3RvcikoKDAsIF9jb21tb24uc2VsZWN0UGFnaW5hdGVkRW50aXRpZXMpKHtcblx0ICAgIGVudGl0aWVzTmFtZTogJ2Jvb2tzJyxcblx0ICAgIHBhZ2luYXRpb25OYW1lOiAnYm9va3MnLFxuXHQgICAgcGFnaW5hdGlvbktleTogJ2RlZmF1bHQnXG5cdH0pLCBmdW5jdGlvbiAoYm9va3MpIHtcblx0ICAgIHJldHVybiBib29rcztcblx0fSk7XG5cdHZhciB1c2Vyc1NlbGVjdG9yID0gZXhwb3J0cy51c2Vyc1NlbGVjdG9yID0gKDAsIF9jb21tb24uc2VsZWN0UGFnaW5hdGVkRW50aXRpZXMpKHtcblx0ICAgIGVudGl0aWVzTmFtZTogJ3VzZXJzJyxcblx0ICAgIHBhZ2luYXRpb25OYW1lOiAndXNlcnMnLFxuXHQgICAgcGFnaW5hdGlvbktleTogJ2RlZmF1bHQnXG5cdH0pO1xuXHRleHBvcnRzLmNvbW1vbiA9IGNvbW1vbjtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTYxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5zZWxlY3RQYWdpbmF0ZWRFbnRpdGllcyA9IGV4cG9ydHMucGFnaW5hdGlvbkxpbmtTZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfcmVzZWxlY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2Mik7XG5cdFxuXHR2YXIgX2xvZGFzaCA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xuXHRcblx0dmFyIF9sb2Rhc2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9kYXNoKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgZW50aXRpZXNTZWxlY3RvciA9IGZ1bmN0aW9uIGVudGl0aWVzU2VsZWN0b3IobmFtZSkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSkge1xuXHQgICAgICAgIHJldHVybiBzdGF0ZS5lbnRpdGllc1tuYW1lXSB8fCB7fTtcblx0ICAgIH07XG5cdH07XG5cdHZhciBwYWdpbmF0aW9uU2VsZWN0b3IgPSBmdW5jdGlvbiBwYWdpbmF0aW9uU2VsZWN0b3IobmFtZSkge1xuXHQgICAgdmFyIGtleSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/ICdkZWZhdWx0JyA6IGFyZ3VtZW50c1sxXTtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoc3RhdGUpIHtcblx0ICAgICAgICByZXR1cm4gX2xvZGFzaDIuZGVmYXVsdC5nZXQoc3RhdGUucGFnaW5hdGlvbiwgbmFtZSArICcuJyArIGtleSArICcuaWRzJywgW10pO1xuXHQgICAgfTtcblx0fTtcblx0dmFyIHBhZ2luYXRpb25MaW5rU2VsZWN0b3IgPSBleHBvcnRzLnBhZ2luYXRpb25MaW5rU2VsZWN0b3IgPSBmdW5jdGlvbiBwYWdpbmF0aW9uTGlua1NlbGVjdG9yKG5hbWUpIHtcblx0ICAgIHZhciBrZXkgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyAnZGVmYXVsdCcgOiBhcmd1bWVudHNbMV07XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKHN0YXRlKSB7XG5cdCAgICAgICAgcmV0dXJuIF9sb2Rhc2gyLmRlZmF1bHQucGljayhfbG9kYXNoMi5kZWZhdWx0LmdldChzdGF0ZS5wYWdpbmF0aW9uLCBuYW1lICsgJy4nICsga2V5LCB7fSksIFsnbmV4dCcsICdsYXN0J10pO1xuXHQgICAgfTtcblx0fTtcblx0dmFyIHF1ZXJ5UGFnaW5hdGlvblNlbGVjdG9yID0gZnVuY3Rpb24gcXVlcnlQYWdpbmF0aW9uU2VsZWN0b3IobmFtZSwgcXVlcnkpIHtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoc3RhdGUpIHtcblx0ICAgICAgICByZXR1cm4gX2xvZGFzaDIuZGVmYXVsdC5nZXQoc3RhdGUucGFnaW5hdGlvbiwgW25hbWUsICdxdWVyeScsIHF1ZXJ5LCAnaWRzJ10sIFtdKTtcblx0ICAgIH07XG5cdH07XG5cdHZhciBzZWxlY3RQYWdpbmF0ZWRFbnRpdGllcyA9IGV4cG9ydHMuc2VsZWN0UGFnaW5hdGVkRW50aXRpZXMgPSBmdW5jdGlvbiBzZWxlY3RQYWdpbmF0ZWRFbnRpdGllcyhvcHRpb25zKSB7XG5cdCAgICB2YXIgZW50aXRpZXNOYW1lID0gb3B0aW9ucy5lbnRpdGllc05hbWU7XG5cdCAgICB2YXIgcGFnaW5hdGlvbk5hbWUgPSBvcHRpb25zLnBhZ2luYXRpb25OYW1lO1xuXHQgICAgdmFyIHBhZ2luYXRpb25LZXkgPSBvcHRpb25zLnBhZ2luYXRpb25LZXk7XG5cdCAgICB2YXIgcGFnaW5hdGlvblF1ZXJ5ID0gb3B0aW9ucy5wYWdpbmF0aW9uUXVlcnk7XG5cdFxuXHQgICAgdmFyIHBhZ2lTZWxlY3RvciA9IHZvaWQgMDtcblx0ICAgIGlmIChwYWdpbmF0aW9uUXVlcnkpIHtcblx0ICAgICAgICBwYWdpU2VsZWN0b3IgPSBxdWVyeVBhZ2luYXRpb25TZWxlY3RvcihwYWdpbmF0aW9uTmFtZSwgcGFnaW5hdGlvblF1ZXJ5KTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgcGFnaVNlbGVjdG9yID0gcGFnaW5hdGlvblNlbGVjdG9yKHBhZ2luYXRpb25OYW1lLCBwYWdpbmF0aW9uS2V5KTtcblx0ICAgIH1cblx0ICAgIHJldHVybiAoMCwgX3Jlc2VsZWN0LmNyZWF0ZVNlbGVjdG9yKShlbnRpdGllc1NlbGVjdG9yKGVudGl0aWVzTmFtZSksIHBhZ2lTZWxlY3RvciwgZnVuY3Rpb24gKGVudGl0aWVzLCBpZHMpIHtcblx0ICAgICAgICByZXR1cm4gaWRzLm1hcChmdW5jdGlvbiAoaWQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGVudGl0aWVzW2lkXTtcblx0ICAgICAgICB9KTtcblx0ICAgIH0pO1xuXHR9O1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNjI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXHRleHBvcnRzLmRlZmF1bHRNZW1vaXplID0gZGVmYXVsdE1lbW9pemU7XG5cdGV4cG9ydHMuY3JlYXRlU2VsZWN0b3JDcmVhdG9yID0gY3JlYXRlU2VsZWN0b3JDcmVhdG9yO1xuXHRleHBvcnRzLmNyZWF0ZVNlbGVjdG9yID0gY3JlYXRlU2VsZWN0b3I7XG5cdGV4cG9ydHMuY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yID0gY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yO1xuXHRcblx0ZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBkZWZhdWx0RXF1YWxpdHlDaGVjayhhLCBiKSB7XG5cdCAgcmV0dXJuIGEgPT09IGI7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRlZmF1bHRNZW1vaXplKGZ1bmMpIHtcblx0ICB2YXIgZXF1YWxpdHlDaGVjayA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRFcXVhbGl0eUNoZWNrIDogYXJndW1lbnRzWzFdO1xuXHRcblx0ICB2YXIgbGFzdEFyZ3MgPSBudWxsO1xuXHQgIHZhciBsYXN0UmVzdWx0ID0gbnVsbDtcblx0ICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAobGFzdEFyZ3MgIT09IG51bGwgJiYgbGFzdEFyZ3MubGVuZ3RoID09PSBhcmdzLmxlbmd0aCAmJiBhcmdzLmV2ZXJ5KGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcblx0ICAgICAgcmV0dXJuIGVxdWFsaXR5Q2hlY2sodmFsdWUsIGxhc3RBcmdzW2luZGV4XSk7XG5cdCAgICB9KSkge1xuXHQgICAgICByZXR1cm4gbGFzdFJlc3VsdDtcblx0ICAgIH1cblx0ICAgIGxhc3RSZXN1bHQgPSBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG5cdCAgICBsYXN0QXJncyA9IGFyZ3M7XG5cdCAgICByZXR1cm4gbGFzdFJlc3VsdDtcblx0ICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXREZXBlbmRlbmNpZXMoZnVuY3MpIHtcblx0ICB2YXIgZGVwZW5kZW5jaWVzID0gQXJyYXkuaXNBcnJheShmdW5jc1swXSkgPyBmdW5jc1swXSA6IGZ1bmNzO1xuXHRcblx0ICBpZiAoIWRlcGVuZGVuY2llcy5ldmVyeShmdW5jdGlvbiAoZGVwKSB7XG5cdCAgICByZXR1cm4gdHlwZW9mIGRlcCA9PT0gJ2Z1bmN0aW9uJztcblx0ICB9KSkge1xuXHQgICAgdmFyIGRlcGVuZGVuY3lUeXBlcyA9IGRlcGVuZGVuY2llcy5tYXAoZnVuY3Rpb24gKGRlcCkge1xuXHQgICAgICByZXR1cm4gdHlwZW9mIGRlcDtcblx0ICAgIH0pLmpvaW4oJywgJyk7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlbGVjdG9yIGNyZWF0b3JzIGV4cGVjdCBhbGwgaW5wdXQtc2VsZWN0b3JzIHRvIGJlIGZ1bmN0aW9ucywgJyArICgnaW5zdGVhZCByZWNlaXZlZCB0aGUgZm9sbG93aW5nIHR5cGVzOiBbJyArIGRlcGVuZGVuY3lUeXBlcyArICddJykpO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIGRlcGVuZGVuY2llcztcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlU2VsZWN0b3JDcmVhdG9yKG1lbW9pemUpIHtcblx0ICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIG1lbW9pemVPcHRpb25zID0gQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuXHQgICAgbWVtb2l6ZU9wdGlvbnNbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXHQgICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBmdW5jcyA9IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG5cdCAgICAgIGZ1bmNzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHJlY29tcHV0YXRpb25zID0gMDtcblx0ICAgIHZhciByZXN1bHRGdW5jID0gZnVuY3MucG9wKCk7XG5cdCAgICB2YXIgZGVwZW5kZW5jaWVzID0gZ2V0RGVwZW5kZW5jaWVzKGZ1bmNzKTtcblx0XG5cdCAgICB2YXIgbWVtb2l6ZWRSZXN1bHRGdW5jID0gbWVtb2l6ZS5hcHBseSh1bmRlZmluZWQsIFtmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJlY29tcHV0YXRpb25zKys7XG5cdCAgICAgIHJldHVybiByZXN1bHRGdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcblx0ICAgIH1dLmNvbmNhdChtZW1vaXplT3B0aW9ucykpO1xuXHRcblx0ICAgIHZhciBzZWxlY3RvciA9IGZ1bmN0aW9uIHNlbGVjdG9yKHN0YXRlLCBwcm9wcykge1xuXHQgICAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuNCA+IDIgPyBfbGVuNCAtIDIgOiAwKSwgX2tleTQgPSAyOyBfa2V5NCA8IF9sZW40OyBfa2V5NCsrKSB7XG5cdCAgICAgICAgYXJnc1tfa2V5NCAtIDJdID0gYXJndW1lbnRzW19rZXk0XTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdmFyIHBhcmFtcyA9IGRlcGVuZGVuY2llcy5tYXAoZnVuY3Rpb24gKGRlcGVuZGVuY3kpIHtcblx0ICAgICAgICByZXR1cm4gZGVwZW5kZW5jeS5hcHBseSh1bmRlZmluZWQsIFtzdGF0ZSwgcHJvcHNdLmNvbmNhdChhcmdzKSk7XG5cdCAgICAgIH0pO1xuXHQgICAgICByZXR1cm4gbWVtb2l6ZWRSZXN1bHRGdW5jLmFwcGx5KHVuZGVmaW5lZCwgX3RvQ29uc3VtYWJsZUFycmF5KHBhcmFtcykpO1xuXHQgICAgfTtcblx0XG5cdCAgICBzZWxlY3Rvci5yZXN1bHRGdW5jID0gcmVzdWx0RnVuYztcblx0ICAgIHNlbGVjdG9yLnJlY29tcHV0YXRpb25zID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gcmVjb21wdXRhdGlvbnM7XG5cdCAgICB9O1xuXHQgICAgc2VsZWN0b3IucmVzZXRSZWNvbXB1dGF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgcmV0dXJuIHJlY29tcHV0YXRpb25zID0gMDtcblx0ICAgIH07XG5cdCAgICByZXR1cm4gc2VsZWN0b3I7XG5cdCAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlU2VsZWN0b3IoKSB7XG5cdCAgcmV0dXJuIGNyZWF0ZVNlbGVjdG9yQ3JlYXRvcihkZWZhdWx0TWVtb2l6ZSkuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3Ioc2VsZWN0b3JzKSB7XG5cdCAgdmFyIHNlbGVjdG9yQ3JlYXRvciA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IGNyZWF0ZVNlbGVjdG9yIDogYXJndW1lbnRzWzFdO1xuXHRcblx0ICBpZiAodHlwZW9mIHNlbGVjdG9ycyAhPT0gJ29iamVjdCcpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcignY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yIGV4cGVjdHMgZmlyc3QgYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0ICcgKyAoJ3doZXJlIGVhY2ggcHJvcGVydHkgaXMgYSBzZWxlY3RvciwgaW5zdGVhZCByZWNlaXZlZCBhICcgKyB0eXBlb2Ygc2VsZWN0b3JzKSk7XG5cdCAgfVxuXHQgIHZhciBvYmplY3RLZXlzID0gT2JqZWN0LmtleXMoc2VsZWN0b3JzKTtcblx0ICByZXR1cm4gc2VsZWN0b3JDcmVhdG9yKG9iamVjdEtleXMubWFwKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgIHJldHVybiBzZWxlY3RvcnNba2V5XTtcblx0ICB9KSwgZnVuY3Rpb24gKCkge1xuXHQgICAgZm9yICh2YXIgX2xlbjUgPSBhcmd1bWVudHMubGVuZ3RoLCB2YWx1ZXMgPSBBcnJheShfbGVuNSksIF9rZXk1ID0gMDsgX2tleTUgPCBfbGVuNTsgX2tleTUrKykge1xuXHQgICAgICB2YWx1ZXNbX2tleTVdID0gYXJndW1lbnRzW19rZXk1XTtcblx0ICAgIH1cblx0XG5cdCAgICByZXR1cm4gdmFsdWVzLnJlZHVjZShmdW5jdGlvbiAoY29tcG9zaXRpb24sIHZhbHVlLCBpbmRleCkge1xuXHQgICAgICBjb21wb3NpdGlvbltvYmplY3RLZXlzW2luZGV4XV0gPSB2YWx1ZTtcblx0ICAgICAgcmV0dXJuIGNvbXBvc2l0aW9uO1xuXHQgICAgfSwge30pO1xuXHQgIH0pO1xuXHR9XG5cbi8qKiovIH0sXG5cbi8qKiovIDE3MTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLlRleHRhcmVhID0gZXhwb3J0cy5TZWxlY3RpemVJbnB1dCA9IGV4cG9ydHMuSW5wdXQgPSBleHBvcnRzLkJ1dHRvbiA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfQnV0dG9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5Nik7XG5cdFxuXHR2YXIgX0J1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CdXR0b24pO1xuXHRcblx0dmFyIF9JbnB1dCA9IF9fd2VicGFja19yZXF1aXJlX18oMTcyKTtcblx0XG5cdHZhciBfSW5wdXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW5wdXQpO1xuXHRcblx0dmFyIF9TZWxlY3RpemVJbnB1dCA9IF9fd2VicGFja19yZXF1aXJlX18oMTc1KTtcblx0XG5cdHZhciBfU2VsZWN0aXplSW5wdXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VsZWN0aXplSW5wdXQpO1xuXHRcblx0dmFyIF9UZXh0YXJlYSA9IF9fd2VicGFja19yZXF1aXJlX18oMTc4KTtcblx0XG5cdHZhciBfVGV4dGFyZWEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dGFyZWEpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGV4cG9ydHMuQnV0dG9uID0gX0J1dHRvbjIuZGVmYXVsdDtcblx0ZXhwb3J0cy5JbnB1dCA9IF9JbnB1dDIuZGVmYXVsdDtcblx0ZXhwb3J0cy5TZWxlY3RpemVJbnB1dCA9IF9TZWxlY3RpemVJbnB1dDIuZGVmYXVsdDtcblx0ZXhwb3J0cy5UZXh0YXJlYSA9IF9UZXh0YXJlYTIuZGVmYXVsdDtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTcyOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX0lucHV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzMpO1xuXHRcblx0dmFyIF9JbnB1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbnB1dCk7XG5cblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuXHRleHBvcnRzLmRlZmF1bHQgPSBfSW5wdXQyLmRlZmF1bHQ7XG5cbi8qKiovIH0sXG5cbi8qKiovIDE3Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0Q3NzTW9kdWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oODIpO1xuXHRcblx0dmFyIF9yZWFjdENzc01vZHVsZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RDc3NNb2R1bGVzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBfX2RlY29yYXRlID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2RlY29yYXRlIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuXHQgICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLFxuXHQgICAgICAgIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLFxuXHQgICAgICAgIGQ7XG5cdCAgICBpZiAoKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoUmVmbGVjdCkpID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdCAgICAgICAgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcblx0ICAgIH1yZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xuXHR9O1xuXHRcblx0dmFyIHN0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTc0KTtcblx0dmFyIElucHV0ID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAgIF9pbmhlcml0cyhJbnB1dCwgX0NvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gSW5wdXQocHJvcHMpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW5wdXQpO1xuXHRcblx0ICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgT2JqZWN0LmdldFByb3RvdHlwZU9mKElucHV0KS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKElucHV0LCBbe1xuXHQgICAgICAgIGtleTogXCJyZW5kZXJcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgICAgICAgIHZhciBwcm9wcyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMucHJvcHMpO1xuXHQgICAgICAgICAgICBkZWxldGUgcHJvcHMuY2xhc3NOYW1lO1xuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBzdHlsZU5hbWU6IFwiaW5wdXQtd3JhcFwiLCBjbGFzc05hbWU6IHRoaXMucHJvcHMuY2xhc3NOYW1lIHx8ICcnIH0sIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgeyBzdHlsZU5hbWU6IFwiaW5wdXRcIiwgcGxhY2Vob2xkZXI6IHRoaXMucHJvcHMucGxhY2Vob2xkZXIsIHZhbHVlOiB0aGlzLnByb3BzLnZhbHVlLCBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIF90aGlzMi5wcm9wcy5vbkNoYW5nZShlKTtcblx0ICAgICAgICAgICAgICAgIH0sIHR5cGU6IHRoaXMucHJvcHMudHlwZSA/IHRoaXMucHJvcHMudHlwZSA6ICd0ZXh0JywgbmFtZTogdGhpcy5wcm9wcy5uYW1lID8gdGhpcy5wcm9wcy5uYW1lIDogbnVsbCB9KSk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBJbnB1dDtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0SW5wdXQgPSBfX2RlY29yYXRlKFsoMCwgX3JlYWN0Q3NzTW9kdWxlczIuZGVmYXVsdCkoc3R5bGVzLCB7XG5cdCAgICBhbGxvd011bHRpcGxlOiB0cnVlXG5cdH0pXSwgSW5wdXQpO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBJbnB1dDtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTc0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XCJpbnB1dC13cmFwXCI6XCJpbnB1dC13cmFwXzNkSEEzXCIsXCJpbnB1dFwiOlwiaW5wdXRfMmp1Qk9cIn07XG5cbi8qKiovIH0sXG5cbi8qKiovIDE3NTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9TZWxlY3RpemVJbnB1dCA9IF9fd2VicGFja19yZXF1aXJlX18oMTc2KTtcblx0XG5cdHZhciBfU2VsZWN0aXplSW5wdXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2VsZWN0aXplSW5wdXQpO1xuXG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cblx0ZXhwb3J0cy5kZWZhdWx0ID0gX1NlbGVjdGl6ZUlucHV0Mi5kZWZhdWx0O1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNzY6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9JY29uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3OCk7XG5cdFxuXHR2YXIgX0ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSWNvbik7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgwKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzKTtcblx0XG5cdHZhciBfcmVhY3RDc3NNb2R1bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Mik7XG5cdFxuXHR2YXIgX3JlYWN0Q3NzTW9kdWxlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdENzc01vZHVsZXMpO1xuXHRcblx0dmFyIF9pc0Rlc2NlbmRhbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEwOCk7XG5cdFxuXHR2YXIgX2lzRGVzY2VuZGFudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0Rlc2NlbmRhbnQpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9fZGVjb3JhdGUgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fZGVjb3JhdGUgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG5cdCAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdCAgICAgICAgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsXG5cdCAgICAgICAgZDtcblx0ICAgIGlmICgodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihSZWZsZWN0KSkgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO2Vsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0ICAgICAgICBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuXHQgICAgfXJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG5cdH07XG5cdFxuXHR2YXIgc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzcpO1xuXHR2YXIgU2VsZWN0aXplSW5wdXQgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICAgX2luaGVyaXRzKFNlbGVjdGl6ZUlucHV0LCBfQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBTZWxlY3RpemVJbnB1dChwcm9wcykge1xuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZWxlY3RpemVJbnB1dCk7XG5cdFxuXHQgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIE9iamVjdC5nZXRQcm90b3R5cGVPZihTZWxlY3RpemVJbnB1dCkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHRcblx0ICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgICAgICAgc2hvd09wdGlvbnM6IGZhbHNlLFxuXHQgICAgICAgICAgICBmb2N1czogZmFsc2UsXG5cdCAgICAgICAgICAgIHZhbHVlOiAnJyxcblx0ICAgICAgICAgICAgZXhwZW5kZWRPcHRpb25JbmRleDogMFxuXHQgICAgICAgIH07XG5cdCAgICAgICAgX3RoaXMuaGFuZGxlT3V0c2lkZUNsaWNrID0gX3RoaXMuaGFuZGxlT3V0c2lkZUNsaWNrLmJpbmQoX3RoaXMpO1xuXHQgICAgICAgIF90aGlzLmZvY3VzSW5wdXQgPSBfdGhpcy5mb2N1c0lucHV0LmJpbmQoX3RoaXMpO1xuXHQgICAgICAgIF90aGlzLmhhbmRsZUlucHV0V3JhcENsaWNrID0gX3RoaXMuaGFuZGxlSW5wdXRXcmFwQ2xpY2suYmluZChfdGhpcyk7XG5cdCAgICAgICAgcmV0dXJuIF90aGlzO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhTZWxlY3RpemVJbnB1dCwgW3tcblx0ICAgICAgICBrZXk6IFwiYWRkVmFsdWVcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkVmFsdWUobmV3VmFsdWUpIHtcblx0ICAgICAgICAgICAgdGhpcy5wcm9wcy5vblZhbHVlc0NoYW5nZSh0aGlzLnByb3BzLnZhbHVlcy5jb25jYXQobmV3VmFsdWUpKTtcblx0ICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub25PcHRpb25zQ2hhbmdlKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uT3B0aW9uc0NoYW5nZSh0aGlzLnByb3BzLm9wdGlvbnMubWFwKGZ1bmN0aW9uIChvcHRpb24pIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9uLnZhbHVlID09PSBuZXdWYWx1ZS52YWx1ZSA/IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbiwgeyBkaXNhYmxlZDogdHJ1ZSB9KSA6IG9wdGlvbjtcblx0ICAgICAgICAgICAgICAgIH0pKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB0aGlzLmNsZWFySW5wdXRWYWx1ZSgpO1xuXHQgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMucHJvcHMuc3RheUZvY3VzZWQgPT09ICd1bmRlZmluZWQnIHx8IHRoaXMucHJvcHMuc3RheUZvY3VzZWQgIT09IGZhbHNlKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLmZvY3VzSW5wdXQoKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgIHNob3dPcHRpb25zOiBmYWxzZVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcInJlbW92ZVZhbHVlXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVZhbHVlKGluZGV4KSB7XG5cdCAgICAgICAgICAgIHZhciBuZXdWYWx1ZXMgPSBbXTtcblx0ICAgICAgICAgICAgdmFyIHJlbW92ZWRWYWx1ZSA9IHZvaWQgMDtcblx0ICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuXHQgICAgICAgICAgICAgICAgbmV3VmFsdWVzID0gdGhpcy5wcm9wcy52YWx1ZXMuc2xpY2UoMCwgdGhpcy5wcm9wcy52YWx1ZXMubGVuZ3RoIC0gMSk7XG5cdCAgICAgICAgICAgICAgICByZW1vdmVkVmFsdWUgPSB0aGlzLnByb3BzLnZhbHVlc1t0aGlzLnByb3BzLnZhbHVlcy5sZW5ndGggLSAxXS52YWx1ZTtcblx0ICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgIG5ld1ZhbHVlcyA9IHRoaXMucHJvcHMudmFsdWVzLmZpbHRlcihmdW5jdGlvbiAodiwgaSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJlbW92ZWRWYWx1ZSA9IHYudmFsdWU7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkgIT09IGluZGV4O1xuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub25PcHRpb25zQ2hhbmdlKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uT3B0aW9uc0NoYW5nZSh0aGlzLnByb3BzLm9wdGlvbnMubWFwKGZ1bmN0aW9uIChvcHRpb24pIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9uLnZhbHVlID09PSByZW1vdmVkVmFsdWUgPyBPYmplY3QuYXNzaWduKHt9LCBvcHRpb24sIHsgZGlzYWJsZWQ6IGZhbHNlIH0pIDogb3B0aW9uO1xuXHQgICAgICAgICAgICAgICAgfSkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHRoaXMucHJvcHMub25WYWx1ZXNDaGFuZ2UobmV3VmFsdWVzKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcImNsZWFySW5wdXRWYWx1ZVwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhcklucHV0VmFsdWUoKSB7XG5cdCAgICAgICAgICAgIHRoaXMucHJvcHMub25JbnB1dENoYW5nZSgnJyk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJoYW5kbGVLZXlQcmVzc1wiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVLZXlQcmVzcyhlKSB7XG5cdCAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDggJiYgIXRoaXMucHJvcHMudmFsdWUpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlVmFsdWUoLTEpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIC8vIHRvZG9cblx0ICAgICAgICAgICAgLy8gaWYgKGUua2V5Q29kZSA9PT0gMTMgJiYgdGhpcy5zdGF0ZS5zaG93T3B0aW9ucykge1xuXHQgICAgICAgICAgICAvLyAgIHRoaXMuYWRkVmFsdWUoKVxuXHQgICAgICAgICAgICAvLyB9XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJmb2N1c0lucHV0XCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZvY3VzSW5wdXQoKSB7XG5cdCAgICAgICAgICAgIHRoaXMuaW5wdXQuZm9jdXMoKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcImhhbmRsZU91dHNpZGVDbGlja1wiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVPdXRzaWRlQ2xpY2soZSkge1xuXHQgICAgICAgICAgICBpZiAoISgwLCBfaXNEZXNjZW5kYW50Mi5kZWZhdWx0KSh0aGlzLmlucHV0V3JhcCwgZS50YXJnZXQpKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgICAgICBzaG93T3B0aW9uczogZmFsc2Vcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJoYW5kbGVJbnB1dFdyYXBDbGlja1wiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVJbnB1dFdyYXBDbGljaygpIHtcblx0ICAgICAgICAgICAgdGhpcy5mb2N1c0lucHV0KCk7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgc2hvd09wdGlvbnM6IHRydWVcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVPdXRzaWRlQ2xpY2spO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwiY29tcG9uZW50V2lsbFVubW91bnRcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdCAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlT3V0c2lkZUNsaWNrKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcInJlbmRlclwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICAgICAgICAgIHZhciBsYWJlbCA9IF9wcm9wcy5sYWJlbDtcblx0ICAgICAgICAgICAgdmFyIHZhbHVlcyA9IF9wcm9wcy52YWx1ZXM7XG5cdCAgICAgICAgICAgIHZhciBvbkFkZE5ld1ZhbHVlID0gX3Byb3BzLm9uQWRkTmV3VmFsdWU7XG5cdFxuXHQgICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnByb3BzLnZhbHVlIHx8ICcnO1xuXHQgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMucHJvcHMub3B0aW9ucyB8fCBbXTtcblx0ICAgICAgICAgICAgdmFyIGlucHV0V2lkdGggPSB2YWx1ZXMubGVuZ3RoID4gMCA/IHZhbHVlLmxlbmd0aCA9PT0gMCA/IDE2IDogdmFsdWUubGVuZ3RoICogMTYgOiAnMTAwJSc7XG5cdCAgICAgICAgICAgIHZhciBwbGFjZWhvbGRlciA9IHZhbHVlcy5sZW5ndGggPiAwID8gJycgOiB0aGlzLnByb3BzLnBsYWNlaG9sZGVyO1xuXHQgICAgICAgICAgICB2YXIgc2VsZWN0aXplSW5wdXRTdHlsZU5hbWUgPSAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKHtcblx0ICAgICAgICAgICAgICAgICdzZWxlY3RpemUtaW5wdXQnOiB0cnVlLFxuXHQgICAgICAgICAgICAgICAgJ3NlbGVjdGl6ZS1pbnB1dC0tZm9jdXMnOiB0aGlzLnN0YXRlLmZvY3VzLFxuXHQgICAgICAgICAgICAgICAgJ3NlbGVjdGl6ZS1pbnB1dC0tZW1wdHknOiB2YWx1ZXMubGVuZ3RoID09PSAwXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBzdHlsZU5hbWU6IFwic2VsZWN0aXplLXdyYXBcIiwgY2xhc3NOYW1lOiB0aGlzLnByb3BzLmNsYXNzTmFtZSB8fCAnJyB9LCBsYWJlbCA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwgeyBjbGFzc05hbWU6IFwiZm9ybS1sYWJlbFwiIH0sIGxhYmVsKSA6IG51bGwsIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgc3R5bGVOYW1lOiBzZWxlY3RpemVJbnB1dFN0eWxlTmFtZSwgb25DbGljazogdGhpcy5oYW5kbGVJbnB1dFdyYXBDbGljaywgcmVmOiBmdW5jdGlvbiByZWYoX3JlZikge1xuXHQgICAgICAgICAgICAgICAgICAgIF90aGlzMi5pbnB1dFdyYXAgPSBfcmVmO1xuXHQgICAgICAgICAgICAgICAgfSB9LCB2YWx1ZXMubWFwKGZ1bmN0aW9uICh2LCBpbmRleCkge1xuXHQgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IGtleTogaW5kZXgsIHN0eWxlTmFtZTogXCJzZWxlY3RpemUtdGFnXCIgfSwgdi5uYW1lLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfSWNvbjIuZGVmYXVsdCwgeyBzdHlsZU5hbWU6IFwiaWNvbi1yZW1vdmVcIiwgc2l6ZTogMjAsIG5hbWU6IFwiY2xvc2VcIiwgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5yZW1vdmVWYWx1ZShpbmRleCk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSB9KSk7XG5cdCAgICAgICAgICAgIH0pLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHsgc3R5bGU6IHsgd2lkdGg6IGlucHV0V2lkdGggfSwgcmVmOiBmdW5jdGlvbiByZWYoX3JlZjIpIHtcblx0ICAgICAgICAgICAgICAgICAgICBfdGhpczIuaW5wdXQgPSBfcmVmMjtcblx0ICAgICAgICAgICAgICAgIH0sIHZhbHVlOiB2YWx1ZSwgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyLCBvbkJsdXI6IGZ1bmN0aW9uIG9uQmx1cihlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnNldFN0YXRlKHsgZm9jdXM6IGZhbHNlIH0pO1xuXHQgICAgICAgICAgICAgICAgfSwgb25Gb2N1czogZnVuY3Rpb24gb25Gb2N1cyhlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnNldFN0YXRlKHsgZm9jdXM6IHRydWUgfSk7XG5cdCAgICAgICAgICAgICAgICB9LCBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIF90aGlzMi5wcm9wcy5vbklucHV0Q2hhbmdlKGUudGFyZ2V0LnZhbHVlKTtcblx0ICAgICAgICAgICAgICAgIH0sIG9uS2V5RG93bjogZnVuY3Rpb24gb25LZXlEb3duKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBfdGhpczIuaGFuZGxlS2V5UHJlc3MoZSk7XG5cdCAgICAgICAgICAgICAgICB9IH0pKSwgdGhpcy5zdGF0ZS5zaG93T3B0aW9ucyAmJiAob3B0aW9ucy5sZW5ndGggIT09IDAgfHwgb25BZGROZXdWYWx1ZSkgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInVsXCIsIHsgc3R5bGVOYW1lOiBcInF1ZXJ5LXJlc3VsdHNcIiB9LCBvcHRpb25zLm1hcChmdW5jdGlvbiAob3B0aW9uLCBpbmRleCkge1xuXHQgICAgICAgICAgICAgICAgaWYgKG9wdGlvbi5kaXNhYmxlZCkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImxpXCIsIHsga2V5OiBpbmRleCwgY2xhc3NOYW1lOiBcImRpc2FibGVkXCIgfSwgb3B0aW9uLm5hbWUpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwibGlcIiwgeyBrZXk6IGluZGV4LCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmFkZFZhbHVlKG9wdGlvbik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczIucHJvcHMub25PcHRpb25DbGljaykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnByb3BzLm9uT3B0aW9uQ2xpY2sob3B0aW9uKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgIH0gfSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIG9wdGlvbi5uYW1lKSk7XG5cdCAgICAgICAgICAgIH0pLCBvbkFkZE5ld1ZhbHVlID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7IG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIG9uQWRkTmV3VmFsdWUoX3RoaXMyLnByb3BzLnZhbHVlKTtcblx0ICAgICAgICAgICAgICAgIH0sIGNsYXNzTmFtZTogXCJhZGRcIiB9LCBcIua3u+WKoCBcIiwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzdHJvbmdcIiwgbnVsbCwgdGhpcy5wcm9wcy52YWx1ZSkpIDogbnVsbCkgOiBudWxsKTtcblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIFNlbGVjdGl6ZUlucHV0O1xuXHR9KF9yZWFjdC5Db21wb25lbnQpO1xuXHRTZWxlY3RpemVJbnB1dCA9IF9fZGVjb3JhdGUoWygwLCBfcmVhY3RDc3NNb2R1bGVzMi5kZWZhdWx0KShzdHlsZXMsIHtcblx0ICAgIGFsbG93TXVsdGlwbGU6IHRydWVcblx0fSldLCBTZWxlY3RpemVJbnB1dCk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFNlbGVjdGl6ZUlucHV0O1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNzc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcInNlbGVjdGl6ZS13cmFwXCI6XCJzZWxlY3RpemUtd3JhcF8zQU1BaVwiLFwic2VsZWN0aXplLWlucHV0XCI6XCJzZWxlY3RpemUtaW5wdXRfMTRiZ1BcIixcInNlbGVjdGl6ZS1pbnB1dC0tZm9jdXNcIjpcInNlbGVjdGl6ZS1pbnB1dC0tZm9jdXNfVW5aOEJcIixcInNlbGVjdGl6ZS1pbnB1dC0tZW1wdHlcIjpcInNlbGVjdGl6ZS1pbnB1dC0tZW1wdHlfeG43VXlcIixcInF1ZXJ5LXJlc3VsdHNcIjpcInF1ZXJ5LXJlc3VsdHNfT2dFMnRcIixcInNlbGVjdGl6ZS10YWdcIjpcInNlbGVjdGl6ZS10YWdfM2FEMTNcIixcImljb24tcmVtb3ZlXCI6XCJpY29uLXJlbW92ZV8xTzdGX1wifTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTc4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX1RleHRhcmVhID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzkpO1xuXHRcblx0dmFyIF9UZXh0YXJlYTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0YXJlYSk7XG5cblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuXHRleHBvcnRzLmRlZmF1bHQgPSBfVGV4dGFyZWEyLmRlZmF1bHQ7XG5cbi8qKiovIH0sXG5cbi8qKiovIDE3OTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0Q3NzTW9kdWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oODIpO1xuXHRcblx0dmFyIF9yZWFjdENzc01vZHVsZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RDc3NNb2R1bGVzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBfX2RlY29yYXRlID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2RlY29yYXRlIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuXHQgICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLFxuXHQgICAgICAgIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLFxuXHQgICAgICAgIGQ7XG5cdCAgICBpZiAoKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoUmVmbGVjdCkpID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdCAgICAgICAgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcblx0ICAgIH1yZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xuXHR9O1xuXHRcblx0dmFyIHN0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTgwKTtcblx0dmFyIFRleHRhcmVhID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAgIF9pbmhlcml0cyhUZXh0YXJlYSwgX0NvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gVGV4dGFyZWEocHJvcHMpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dGFyZWEpO1xuXHRcblx0ICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgT2JqZWN0LmdldFByb3RvdHlwZU9mKFRleHRhcmVhKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKFRleHRhcmVhLCBbe1xuXHQgICAgICAgIGtleTogXCJyZW5kZXJcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlTmFtZTogXCJ0ZXh0YXJlYS13cmFwXCIsIGNsYXNzTmFtZTogdGhpcy5wcm9wcy5jbGFzc05hbWUgfHwgJycgfSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiLCB7IHBsYWNlaG9sZGVyOiB0aGlzLnByb3BzLnBsYWNlaG9sZGVyLCB2YWx1ZTogdGhpcy5wcm9wcy52YWx1ZSwgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBfdGhpczIucHJvcHMub25DaGFuZ2UoZSk7XG5cdCAgICAgICAgICAgICAgICB9LCBzdHlsZU5hbWU6IFwidGV4dGFyZWFcIiwgdHlwZTogdGhpcy5wcm9wcy50eXBlID8gdGhpcy5wcm9wcy50eXBlIDogJ3RleHQnLCBuYW1lOiB0aGlzLnByb3BzLm5hbWUgPyB0aGlzLnByb3BzLm5hbWUgOiBudWxsIH0pKTtcblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIFRleHRhcmVhO1xuXHR9KF9yZWFjdC5Db21wb25lbnQpO1xuXHRUZXh0YXJlYSA9IF9fZGVjb3JhdGUoWygwLCBfcmVhY3RDc3NNb2R1bGVzMi5kZWZhdWx0KShzdHlsZXMsIHtcblx0ICAgIGFsbG93TXVsdGlwbGU6IHRydWVcblx0fSldLCBUZXh0YXJlYSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFRleHRhcmVhO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxODA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcInRleHRhcmVhLXdyYXBcIjpcInRleHRhcmVhLXdyYXBfWGtwajEgaW5wdXQtd3JhcF8zZEhBM1wiLFwidGV4dGFyZWFcIjpcInRleHRhcmVhXzFFZG9TXCJ9O1xuXG4vKioqLyB9LFxuXG4vKioqLyAyNDQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0UmVkdXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9hY3Rpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBfbG9kYXNoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5cdFxuXHR2YXIgX2xvZGFzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2Rhc2gpO1xuXHRcblx0dmFyIF9BZGRDb2xsZWN0aW9uRm9ybSA9IF9fd2VicGFja19yZXF1aXJlX18oMjQ1KTtcblx0XG5cdHZhciBfQWRkQ29sbGVjdGlvbkZvcm0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQWRkQ29sbGVjdGlvbkZvcm0pO1xuXHRcblx0dmFyIF9hcGlzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTkpO1xuXHRcblx0dmFyIF9hcGlzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FwaXMpO1xuXHRcblx0dmFyIF9Eb2NDb250YWluZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNCk7XG5cdFxuXHR2YXIgX0RvY0NvbnRhaW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Eb2NDb250YWluZXIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIEFkZENvbGxlY3Rpb24gPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICAgX2luaGVyaXRzKEFkZENvbGxlY3Rpb24sIF9Db21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIEFkZENvbGxlY3Rpb24ocHJvcHMpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWRkQ29sbGVjdGlvbik7XG5cdFxuXHQgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIE9iamVjdC5nZXRQcm90b3R5cGVPZihBZGRDb2xsZWN0aW9uKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgICAgIF90aGlzLmhhbmRsZVNhdmUgPSBfdGhpcy5oYW5kbGVTYXZlLmJpbmQoX3RoaXMpO1xuXHQgICAgICAgIF90aGlzLmhhbmRsZUJvb2tzVmFsdWVDaGFuZ2UgPSBfdGhpcy5oYW5kbGVCb29rc1ZhbHVlQ2hhbmdlLmJpbmQoX3RoaXMpO1xuXHQgICAgICAgIHJldHVybiBfdGhpcztcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoQWRkQ29sbGVjdGlvbiwgW3tcblx0ICAgICAgICBrZXk6ICdoYW5kbGVTYXZlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlU2F2ZShkYXRhKSB7XG5cdCAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgICAgICAgdmFyIGNyZWF0b3IgPSB0aGlzLnByb3BzLnNlc3Npb24udXNlci5pZDtcblx0ICAgICAgICAgICAgdmFyIHBvc3REYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgZGF0YSwge1xuXHQgICAgICAgICAgICAgICAgY3JlYXRvcjogY3JlYXRvclxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgX2FwaXMyLmRlZmF1bHQuYWRkQ29sbGVjdGlvbihwb3N0RGF0YSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG5cdCAgICAgICAgICAgICAgICBfdGhpczIucHJvcHMuc2VuZE5vdGlmaWNhdGlvbign5re75Yqg5oiQ5Yqf77yBJyk7XG5cdCAgICAgICAgICAgICAgICBfdGhpczIucHJvcHMucmVzZXQoJ2FkZENvbGxlY3Rpb24nKTtcblx0ICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICBfdGhpczIucHJvcHMuc2VuZE5vdGlmaWNhdGlvbihlcnJvci5tZXNzYWdlKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2hhbmRsZUJvb2tzVmFsdWVDaGFuZ2UnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVCb29rc1ZhbHVlQ2hhbmdlKG5ld1ZhbCkge1xuXHQgICAgICAgICAgICBpZiAoIV9sb2Rhc2gyLmRlZmF1bHQuaXNFbXB0eShuZXdWYWwpKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmZldGNoQm9va3Moe1xuXHQgICAgICAgICAgICAgICAgICAgIHE6IG5ld1ZhbFxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAncmVuZGVyJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0RvY0NvbnRhaW5lcjIuZGVmYXVsdCwgeyB0aXRsZTogXCLmt7vliqDlkIjpm4ZcIiB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImgxXCIsIHsgY2xhc3NOYW1lOiBcInBhZ2UtdGl0bGVcIiB9LCBcIua3u+WKoOWQiOmbhlwiKSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0FkZENvbGxlY3Rpb25Gb3JtMi5kZWZhdWx0LCB7IG9uU2F2ZTogdGhpcy5oYW5kbGVTYXZlLCBvbkJvb2tzVmFsdWVDaGFuZ2U6IHRoaXMuaGFuZGxlQm9va3NWYWx1ZUNoYW5nZSB9KSk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBBZGRDb2xsZWN0aW9uO1xuXHR9KF9yZWFjdC5Db21wb25lbnQpO1xuXHRcblx0ZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIG5vdGlmaWNhdGlvbjogc3RhdGUuY29tcG9uZW50cy5ub3RpZmljYXRpb24sXG5cdCAgICAgICAgZWxlbWVudHM6IHN0YXRlLmVsZW1lbnRzLFxuXHQgICAgICAgIHNlc3Npb246IHN0YXRlLnNlc3Npb25cblx0ICAgIH07XG5cdH1cblx0ZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9yZWFjdFJlZHV4LmNvbm5lY3QpKG1hcFN0YXRlVG9Qcm9wcywgeyBzZW5kTm90aWZpY2F0aW9uOiBfYWN0aW9ucy5zZW5kTm90aWZpY2F0aW9uLCByZXNldDogX2FjdGlvbnMucmVzZXQsIGZldGNoQm9va3M6IF9hY3Rpb25zLmZldGNoQm9va3MgfSkoQWRkQ29sbGVjdGlvbik7XG5cbi8qKiovIH0sXG5cbi8qKiovIDI0NTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0UmVkdXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9yZWR1eEZvcm0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblx0XG5cdHZhciBfYWN0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgX0lucHV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzIpO1xuXHRcblx0dmFyIF9JbnB1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbnB1dCk7XG5cdFxuXHR2YXIgX1NlbGVjdGl6ZUlucHV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzUpO1xuXHRcblx0dmFyIF9TZWxlY3RpemVJbnB1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWxlY3RpemVJbnB1dCk7XG5cdFxuXHR2YXIgX2Zvcm0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3MSk7XG5cdFxuXHR2YXIgX3NlbGVjdG9ycyA9IF9fd2VicGFja19yZXF1aXJlX18oMTYwKTtcblx0XG5cdHZhciBzZWxlY3RvcnMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfc2VsZWN0b3JzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcblx0ICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuXHQgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cdCAgICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG5cdCAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiB0O1xuXHR9O1xuXHR2YXIgX19kZWNvcmF0ZSA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19kZWNvcmF0ZSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcblx0ICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCxcblx0ICAgICAgICByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYyxcblx0ICAgICAgICBkO1xuXHQgICAgaWYgKCh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKFJlZmxlY3QpKSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7ZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHQgICAgICAgIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG5cdCAgICB9cmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcblx0fTtcblx0XG5cdHZhciBBZGRDb2xsZWN0aW9uRm9ybSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgICBfaW5oZXJpdHMoQWRkQ29sbGVjdGlvbkZvcm0sIF9Db21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIEFkZENvbGxlY3Rpb25Gb3JtKHByb3BzKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFkZENvbGxlY3Rpb25Gb3JtKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIE9iamVjdC5nZXRQcm90b3R5cGVPZihBZGRDb2xsZWN0aW9uRm9ybSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhBZGRDb2xsZWN0aW9uRm9ybSwgW3tcblx0ICAgICAgICBrZXk6IFwiY29tcG9uZW50RGlkTW91bnRcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7fVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJyZW5kZXJcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcztcblx0ICAgICAgICAgICAgdmFyIF9wcm9wcyRmaWVsZHMgPSBfcHJvcHMuZmllbGRzO1xuXHQgICAgICAgICAgICB2YXIgbmFtZSA9IF9wcm9wcyRmaWVsZHMubmFtZTtcblx0ICAgICAgICAgICAgdmFyIF9ib29rc1ZhbHVlID0gX3Byb3BzJGZpZWxkcy5fYm9va3NWYWx1ZTtcblx0ICAgICAgICAgICAgdmFyIF9ib29rc1ZhbHVlcyA9IF9wcm9wcyRmaWVsZHMuX2Jvb2tzVmFsdWVzO1xuXHQgICAgICAgICAgICB2YXIgX2Jvb2tzT3B0aW9ucyA9IF9wcm9wcyRmaWVsZHMuX2Jvb2tzT3B0aW9ucztcblx0ICAgICAgICAgICAgdmFyIGRlc2NyaXB0aW9uID0gX3Byb3BzJGZpZWxkcy5kZXNjcmlwdGlvbjtcblx0ICAgICAgICAgICAgdmFyIGhhbmRsZVN1Ym1pdCA9IF9wcm9wcy5oYW5kbGVTdWJtaXQ7XG5cdCAgICAgICAgICAgIHZhciBvblNhdmUgPSBfcHJvcHMub25TYXZlO1xuXHQgICAgICAgICAgICB2YXIgb25Cb29rc1ZhbHVlQ2hhbmdlID0gX3Byb3BzLm9uQm9va3NWYWx1ZUNoYW5nZTtcblx0ICAgICAgICAgICAgdmFyIGJvb2tzU2VhcmNoQXNPcHRpb25zID0gX3Byb3BzLmJvb2tzU2VhcmNoQXNPcHRpb25zO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9JbnB1dDIuZGVmYXVsdCwgX19hc3NpZ24oeyBwbGFjZWhvbGRlcjogXCLlkIjpm4blkI3np7BcIiB9LCBuYW1lKSksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9TZWxlY3RpemVJbnB1dDIuZGVmYXVsdCwgeyBwbGFjZWhvbGRlcjogXCLpgInmi6nkuabnsY1cIiwgb25JbnB1dENoYW5nZTogZnVuY3Rpb24gb25JbnB1dENoYW5nZShuZXdWYWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChvbkJvb2tzVmFsdWVDaGFuZ2UpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgb25Cb29rc1ZhbHVlQ2hhbmdlKG5ld1ZhbHVlKTtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgX2Jvb2tzVmFsdWUub25DaGFuZ2UobmV3VmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgfSwgdmFsdWU6IF9ib29rc1ZhbHVlLnZhbHVlLCBvblZhbHVlc0NoYW5nZTogX2Jvb2tzVmFsdWVzLm9uQ2hhbmdlLCBvcHRpb25zOiBib29rc1NlYXJjaEFzT3B0aW9ucywgdmFsdWVzOiBfYm9va3NWYWx1ZXMudmFsdWUgfHwgW10gfSksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9mb3JtLlRleHRhcmVhLCBfX2Fzc2lnbih7fSwgZGVzY3JpcHRpb24sIHsgcGxhY2Vob2xkZXI6IFwi5o+P6L+wXCIgfSkpLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZm9ybS5CdXR0b24sIHsgb25DbGljazogaGFuZGxlU3VibWl0KGZ1bmN0aW9uIChkYXRhKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIHBvc3REYXRhID0gXy5waWNrKGRhdGEsIFsnbmFtZScsICdkZXNjcmlwdGlvbiddKTtcblx0ICAgICAgICAgICAgICAgICAgICBwb3N0RGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIHBvc3REYXRhLCB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBfYm9va3NWYWx1ZXMudmFsdWUgPyBfYm9va3NWYWx1ZXMudmFsdWUubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS52YWx1ZTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSkgOiBbXVxuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgICAgIG9uU2F2ZShwb3N0RGF0YSk7XG5cdCAgICAgICAgICAgICAgICB9KSB9LCBcIua3u+WKoFwiKSk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBBZGRDb2xsZWN0aW9uRm9ybTtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0QWRkQ29sbGVjdGlvbkZvcm0gPSBfX2RlY29yYXRlKFsoMCwgX3JlZHV4Rm9ybS5yZWR1eEZvcm0pKHtcblx0ICAgIGZvcm06ICdhZGRDb2xsZWN0aW9uJyxcblx0ICAgIGZpZWxkczogWyduYW1lJywgJ19ib29rc1ZhbHVlJywgJ19ib29rc1ZhbHVlcycsICdfYm9va3NPcHRpb25zJywgJ2Rlc2NyaXB0aW9uJ11cblx0fSldLCBBZGRDb2xsZWN0aW9uRm9ybSk7XG5cdHZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUsIG93blByb3BzKSB7XG5cdCAgICB2YXIgYm9va3NRdWVyeSA9IF8uZ2V0KHN0YXRlLmZvcm0sICdhZGRDb2xsZWN0aW9uLl9ib29rc1ZhbHVlLnZhbHVlJywgJycpO1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICBpbml0aWFsVmFsdWVzOiBvd25Qcm9wcy5pbml0aWFsRGF0YSxcblx0ICAgICAgICByb3V0aW5nOiBzdGF0ZS5yb3V0aW5nLmxvY2F0aW9uQmVmb3JlVHJhbnNpdGlvbnMsXG5cdCAgICAgICAgYm9va3NTZWFyY2hBc09wdGlvbnM6IHNlbGVjdG9ycy5ib29rc1NlYXJjaEFzT3B0aW9ucyhib29rc1F1ZXJ5KShzdGF0ZSlcblx0ICAgIH07XG5cdH07XG5cdGV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfcmVhY3RSZWR1eC5jb25uZWN0KShtYXBTdGF0ZVRvUHJvcHMsIHsgc2VuZE5vdGlmaWNhdGlvbjogX2FjdGlvbnMuc2VuZE5vdGlmaWNhdGlvbiB9KShBZGRDb2xsZWN0aW9uRm9ybSk7XG5cbi8qKiovIH1cblxufSk7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogMTUuMTUuanNcbiAqKi8iLCJpbXBvcnQgeyBjcmVhdGVTZWxlY3RvciB9IGZyb20gJ3Jlc2VsZWN0J1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJ1xuaW1wb3J0IHsgc2VsZWN0UGFnaW5hdGVkRW50aXRpZXMgfSBmcm9tICcuL2NvbW1vbidcbmltcG9ydCAqIGFzIGNvbW1vbiBmcm9tICcuL2NvbW1vbidcblxuZXhwb3J0IGNvbnN0IHF1ZXJ5RG91YmFuQm9va3NTZWxlY3RvciA9IHF1ZXJ5ID0+IGNyZWF0ZVNlbGVjdG9yKFxuICBzZWxlY3RQYWdpbmF0ZWRFbnRpdGllcyh7XG4gICAgZW50aXRpZXNOYW1lOiAnZG91YmFuQm9va3MnLFxuICAgIHBhZ2luYXRpb25OYW1lOiAnZG91YmFuQm9va3MnLFxuICAgIHBhZ2luYXRpb25RdWVyeTogcXVlcnlcbiAgfSksXG4gIGJvb2tzID0+IGJvb2tzXG4pXG5cbmV4cG9ydCBjb25zdCBxdWVyeUF1dGhvcnNTZWxlY3RvciA9IHF1ZXJ5ID0+IHNlbGVjdFBhZ2luYXRlZEVudGl0aWVzKHtcbiAgZW50aXRpZXNOYW1lOiAnYXV0aG9ycycsXG4gIHBhZ2luYXRpb25OYW1lOiAnYXV0aG9ycycsXG4gIHBhZ2luYXRpb25RdWVyeTogcXVlcnlcbn0pXG5cbmV4cG9ydCBjb25zdCBzZWFyY2hCb29rc1NlbGVjdG9yID0gcXVlcnkgPT4gc2VsZWN0UGFnaW5hdGVkRW50aXRpZXMoe1xuICBlbnRpdGllc05hbWU6ICdib29rcycsXG4gIHBhZ2luYXRpb25OYW1lOiAnYm9va3MnLFxuICBwYWdpbmF0aW9uUXVlcnk6IHF1ZXJ5XG59KVxuXG5leHBvcnQgY29uc3QgZG91YmFuQm9va3NBc09wdGlvbnMgPSBxdWVyeSA9PiBjcmVhdGVTZWxlY3RvcihcbiAgcXVlcnlEb3ViYW5Cb29rc1NlbGVjdG9yKHF1ZXJ5KSxcbiAgYm9va3MgPT4ge1xuICAgIHJldHVybiBib29rcy5tYXAoYm9vayA9PiAoe1xuICAgICAgbmFtZTogYm9vay50aXRsZSxcbiAgICAgIHZhbHVlOiBib29rLmlkLFxuICAgICAgYWRkaXRpb25hbDoge1xuICAgICAgICBkZXNjcmlwdGlvbjogYm9vay5zdW1tYXJ5LFxuICAgICAgICBjb3ZlcjogYm9vay5pbWFnZXMubGFyZ2UsXG4gICAgICAgIGF1dGhvcjogYm9vay5hdXRob3Iuam9pbignLCAnKVxuICAgICAgfVxuICAgIH0pKVxuICB9XG4pXG5cbmV4cG9ydCBjb25zdCBhdXRob3JzQXNPcHRpb25zID0gcXVlcnkgPT4gY3JlYXRlU2VsZWN0b3IoXG4gIHF1ZXJ5QXV0aG9yc1NlbGVjdG9yKHF1ZXJ5KSxcbiAgaXRlbXMgPT4ge1xuICAgIHJldHVybiBpdGVtcy5tYXAoaXRlbSA9PiAoe1xuICAgICAgbmFtZTogaXRlbS5uYW1lLFxuICAgICAgdmFsdWU6IGl0ZW0uaWRcbiAgICB9KSlcbiAgfVxuKVxuXG5leHBvcnQgY29uc3QgYm9va3NTZWFyY2hBc09wdGlvbnMgPSBxdWVyeSA9PiBjcmVhdGVTZWxlY3RvcihcbiAgc2VhcmNoQm9va3NTZWxlY3RvcihxdWVyeSksXG4gIGl0ZW1zID0+IHtcbiAgICByZXR1cm4gaXRlbXMubWFwKGl0ZW0gPT4gKHtcbiAgICAgIG5hbWU6IGl0ZW0udGl0bGUsXG4gICAgICB2YWx1ZTogaXRlbS5pZFxuICAgIH0pKVxuICB9XG4pXG5cbmV4cG9ydCBjb25zdCBib29rc1NlbGVjdG9yID0gY3JlYXRlU2VsZWN0b3IoXG4gIHNlbGVjdFBhZ2luYXRlZEVudGl0aWVzKHtcbiAgICBlbnRpdGllc05hbWU6ICdib29rcycsXG4gICAgcGFnaW5hdGlvbk5hbWU6ICdib29rcycsXG4gICAgcGFnaW5hdGlvbktleTogJ2RlZmF1bHQnXG4gIH0pLFxuICBib29rcyA9PiBib29rc1xuKVxuXG5leHBvcnQgY29uc3QgdXNlcnNTZWxlY3RvciA9IHNlbGVjdFBhZ2luYXRlZEVudGl0aWVzKHtcbiAgZW50aXRpZXNOYW1lOiAndXNlcnMnLFxuICBwYWdpbmF0aW9uTmFtZTogJ3VzZXJzJyxcbiAgcGFnaW5hdGlvbktleTogJ2RlZmF1bHQnXG59KVxuXG5leHBvcnQgKiBmcm9tICcuL2NvbW1vbidcbmV4cG9ydCB7IGNvbW1vbiB9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvaXNvbW9ycGhpYy9zdG9yZS9zZWxlY3RvcnMvaW5kZXgudHNcbiAqKi8iLCJpbXBvcnQgeyBjcmVhdGVTZWxlY3RvciB9IGZyb20gJ3Jlc2VsZWN0J1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJ1xuXG5jb25zdCBlbnRpdGllc1NlbGVjdG9yID0gbmFtZSA9PiBzdGF0ZSA9PiB7XG4gIHJldHVybiBzdGF0ZS5lbnRpdGllc1tuYW1lXSB8fCB7fVxufVxuY29uc3QgcGFnaW5hdGlvblNlbGVjdG9yID0gKG5hbWUsIGtleSA9ICdkZWZhdWx0JykgPT4gc3RhdGUgPT4ge1xuICByZXR1cm4gXy5nZXQoc3RhdGUucGFnaW5hdGlvbiwgYCR7bmFtZX0uJHtrZXl9Lmlkc2AsIFtdKVxufVxuZXhwb3J0IGNvbnN0IHBhZ2luYXRpb25MaW5rU2VsZWN0b3IgPSAobmFtZSwga2V5ID0gJ2RlZmF1bHQnKSA9PiBzdGF0ZSA9PiB7XG4gIHJldHVybiBfLnBpY2soXy5nZXQoc3RhdGUucGFnaW5hdGlvbiwgYCR7bmFtZX0uJHtrZXl9YCwge30pLCBbJ25leHQnLCAnbGFzdCddKVxufVxuY29uc3QgcXVlcnlQYWdpbmF0aW9uU2VsZWN0b3IgPSAobmFtZSwgcXVlcnkpID0+IHN0YXRlID0+IHtcbiAgcmV0dXJuIF8uZ2V0KHN0YXRlLnBhZ2luYXRpb24sIFtuYW1lLCAncXVlcnknLCBxdWVyeSwgJ2lkcyddLCBbXSlcbn1cblxudHlwZSBTZWxlY3RQYWdpbmF0ZWRFbnRpdGllc09wdGlvbnMgPSB7XG4gIGVudGl0aWVzTmFtZTogc3RyaW5nXG4gIHBhZ2luYXRpb25OYW1lOiBzdHJpbmdcbiAgcGFnaW5hdGlvbktleT86IHN0cmluZ1xuICBwYWdpbmF0aW9uUXVlcnk/OiBzdHJpbmdcbn1cbmV4cG9ydCBjb25zdCBzZWxlY3RQYWdpbmF0ZWRFbnRpdGllcyA9IChvcHRpb25zOiBTZWxlY3RQYWdpbmF0ZWRFbnRpdGllc09wdGlvbnMpID0+IHtcbiAgY29uc3Qge2VudGl0aWVzTmFtZSwgcGFnaW5hdGlvbk5hbWUsIHBhZ2luYXRpb25LZXksIHBhZ2luYXRpb25RdWVyeX0gPSBvcHRpb25zXG4gIGxldCBwYWdpU2VsZWN0b3I6IChzdGF0ZTogYW55KSA9PiBhbnlbXVxuXG4gIGlmIChwYWdpbmF0aW9uUXVlcnkpIHtcbiAgICBwYWdpU2VsZWN0b3IgPSBxdWVyeVBhZ2luYXRpb25TZWxlY3RvcihwYWdpbmF0aW9uTmFtZSwgcGFnaW5hdGlvblF1ZXJ5KVxuICB9IGVsc2Uge1xuICAgIHBhZ2lTZWxlY3RvciA9IHBhZ2luYXRpb25TZWxlY3RvcihwYWdpbmF0aW9uTmFtZSwgcGFnaW5hdGlvbktleSlcbiAgfVxuXG4gIHJldHVybiBjcmVhdGVTZWxlY3RvcihcbiAgICBlbnRpdGllc1NlbGVjdG9yKGVudGl0aWVzTmFtZSksXG4gICAgcGFnaVNlbGVjdG9yLFxuICAgIChlbnRpdGllcywgaWRzKSA9PiB7XG4gICAgICByZXR1cm4gaWRzLm1hcChpZCA9PiBlbnRpdGllc1tpZF0pXG4gICAgfVxuICApXG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvaXNvbW9ycGhpYy9zdG9yZS9zZWxlY3RvcnMvY29tbW9uLnRzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0TWVtb2l6ZSA9IGRlZmF1bHRNZW1vaXplO1xuZXhwb3J0cy5jcmVhdGVTZWxlY3RvckNyZWF0b3IgPSBjcmVhdGVTZWxlY3RvckNyZWF0b3I7XG5leHBvcnRzLmNyZWF0ZVNlbGVjdG9yID0gY3JlYXRlU2VsZWN0b3I7XG5leHBvcnRzLmNyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvciA9IGNyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvcjtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cbmZ1bmN0aW9uIGRlZmF1bHRFcXVhbGl0eUNoZWNrKGEsIGIpIHtcbiAgcmV0dXJuIGEgPT09IGI7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRNZW1vaXplKGZ1bmMpIHtcbiAgdmFyIGVxdWFsaXR5Q2hlY2sgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBkZWZhdWx0RXF1YWxpdHlDaGVjayA6IGFyZ3VtZW50c1sxXTtcblxuICB2YXIgbGFzdEFyZ3MgPSBudWxsO1xuICB2YXIgbGFzdFJlc3VsdCA9IG51bGw7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgaWYgKGxhc3RBcmdzICE9PSBudWxsICYmIGxhc3RBcmdzLmxlbmd0aCA9PT0gYXJncy5sZW5ndGggJiYgYXJncy5ldmVyeShmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG4gICAgICByZXR1cm4gZXF1YWxpdHlDaGVjayh2YWx1ZSwgbGFzdEFyZ3NbaW5kZXhdKTtcbiAgICB9KSkge1xuICAgICAgcmV0dXJuIGxhc3RSZXN1bHQ7XG4gICAgfVxuICAgIGxhc3RSZXN1bHQgPSBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gICAgbGFzdEFyZ3MgPSBhcmdzO1xuICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICB9O1xufVxuXG5mdW5jdGlvbiBnZXREZXBlbmRlbmNpZXMoZnVuY3MpIHtcbiAgdmFyIGRlcGVuZGVuY2llcyA9IEFycmF5LmlzQXJyYXkoZnVuY3NbMF0pID8gZnVuY3NbMF0gOiBmdW5jcztcblxuICBpZiAoIWRlcGVuZGVuY2llcy5ldmVyeShmdW5jdGlvbiAoZGVwKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBkZXAgPT09ICdmdW5jdGlvbic7XG4gIH0pKSB7XG4gICAgdmFyIGRlcGVuZGVuY3lUeXBlcyA9IGRlcGVuZGVuY2llcy5tYXAoZnVuY3Rpb24gKGRlcCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBkZXA7XG4gICAgfSkuam9pbignLCAnKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlbGVjdG9yIGNyZWF0b3JzIGV4cGVjdCBhbGwgaW5wdXQtc2VsZWN0b3JzIHRvIGJlIGZ1bmN0aW9ucywgJyArICgnaW5zdGVhZCByZWNlaXZlZCB0aGUgZm9sbG93aW5nIHR5cGVzOiBbJyArIGRlcGVuZGVuY3lUeXBlcyArICddJykpO1xuICB9XG5cbiAgcmV0dXJuIGRlcGVuZGVuY2llcztcbn1cblxuZnVuY3Rpb24gY3JlYXRlU2VsZWN0b3JDcmVhdG9yKG1lbW9pemUpIHtcbiAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBtZW1vaXplT3B0aW9ucyA9IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICBtZW1vaXplT3B0aW9uc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBmdW5jcyA9IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICBmdW5jc1tfa2V5M10gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgIH1cblxuICAgIHZhciByZWNvbXB1dGF0aW9ucyA9IDA7XG4gICAgdmFyIHJlc3VsdEZ1bmMgPSBmdW5jcy5wb3AoKTtcbiAgICB2YXIgZGVwZW5kZW5jaWVzID0gZ2V0RGVwZW5kZW5jaWVzKGZ1bmNzKTtcblxuICAgIHZhciBtZW1vaXplZFJlc3VsdEZ1bmMgPSBtZW1vaXplLmFwcGx5KHVuZGVmaW5lZCwgW2Z1bmN0aW9uICgpIHtcbiAgICAgIHJlY29tcHV0YXRpb25zKys7XG4gICAgICByZXR1cm4gcmVzdWx0RnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gICAgfV0uY29uY2F0KG1lbW9pemVPcHRpb25zKSk7XG5cbiAgICB2YXIgc2VsZWN0b3IgPSBmdW5jdGlvbiBzZWxlY3RvcihzdGF0ZSwgcHJvcHMpIHtcbiAgICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW40ID4gMiA/IF9sZW40IC0gMiA6IDApLCBfa2V5NCA9IDI7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICAgICAgYXJnc1tfa2V5NCAtIDJdID0gYXJndW1lbnRzW19rZXk0XTtcbiAgICAgIH1cblxuICAgICAgdmFyIHBhcmFtcyA9IGRlcGVuZGVuY2llcy5tYXAoZnVuY3Rpb24gKGRlcGVuZGVuY3kpIHtcbiAgICAgICAgcmV0dXJuIGRlcGVuZGVuY3kuYXBwbHkodW5kZWZpbmVkLCBbc3RhdGUsIHByb3BzXS5jb25jYXQoYXJncykpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gbWVtb2l6ZWRSZXN1bHRGdW5jLmFwcGx5KHVuZGVmaW5lZCwgX3RvQ29uc3VtYWJsZUFycmF5KHBhcmFtcykpO1xuICAgIH07XG5cbiAgICBzZWxlY3Rvci5yZXN1bHRGdW5jID0gcmVzdWx0RnVuYztcbiAgICBzZWxlY3Rvci5yZWNvbXB1dGF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZWNvbXB1dGF0aW9ucztcbiAgICB9O1xuICAgIHNlbGVjdG9yLnJlc2V0UmVjb21wdXRhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVjb21wdXRhdGlvbnMgPSAwO1xuICAgIH07XG4gICAgcmV0dXJuIHNlbGVjdG9yO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTZWxlY3RvcigpIHtcbiAgcmV0dXJuIGNyZWF0ZVNlbGVjdG9yQ3JlYXRvcihkZWZhdWx0TWVtb2l6ZSkuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3Ioc2VsZWN0b3JzKSB7XG4gIHZhciBzZWxlY3RvckNyZWF0b3IgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBjcmVhdGVTZWxlY3RvciA6IGFyZ3VtZW50c1sxXTtcblxuICBpZiAodHlwZW9mIHNlbGVjdG9ycyAhPT0gJ29iamVjdCcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvciBleHBlY3RzIGZpcnN0IGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCAnICsgKCd3aGVyZSBlYWNoIHByb3BlcnR5IGlzIGEgc2VsZWN0b3IsIGluc3RlYWQgcmVjZWl2ZWQgYSAnICsgdHlwZW9mIHNlbGVjdG9ycykpO1xuICB9XG4gIHZhciBvYmplY3RLZXlzID0gT2JqZWN0LmtleXMoc2VsZWN0b3JzKTtcbiAgcmV0dXJuIHNlbGVjdG9yQ3JlYXRvcihvYmplY3RLZXlzLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIHNlbGVjdG9yc1trZXldO1xuICB9KSwgZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIF9sZW41ID0gYXJndW1lbnRzLmxlbmd0aCwgdmFsdWVzID0gQXJyYXkoX2xlbjUpLCBfa2V5NSA9IDA7IF9rZXk1IDwgX2xlbjU7IF9rZXk1KyspIHtcbiAgICAgIHZhbHVlc1tfa2V5NV0gPSBhcmd1bWVudHNbX2tleTVdO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZXMucmVkdWNlKGZ1bmN0aW9uIChjb21wb3NpdGlvbiwgdmFsdWUsIGluZGV4KSB7XG4gICAgICBjb21wb3NpdGlvbltvYmplY3RLZXlzW2luZGV4XV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiBjb21wb3NpdGlvbjtcbiAgICB9LCB7fSk7XG4gIH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3Jlc2VsZWN0L2xpYi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDE2MlxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDMgMTIgMTMgMTQgMTVcbiAqKi8iLCJpbXBvcnQgQnV0dG9uIGZyb20gJy4vQnV0dG9uJ1xuaW1wb3J0IElucHV0IGZyb20gJy4vSW5wdXQnXG5pbXBvcnQgU2VsZWN0aXplSW5wdXQgZnJvbSAnLi9TZWxlY3RpemVJbnB1dCdcbmltcG9ydCBUZXh0YXJlYSBmcm9tICcuL1RleHRhcmVhJ1xuXG5leHBvcnQgeyBCdXR0b24sIElucHV0LCBTZWxlY3RpemVJbnB1dCwgVGV4dGFyZWEgfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvX2Zvcm0vaW5kZXgudHNcbiAqKi8iLCJpbXBvcnQgSW5wdXQgZnJvbSAnLi9JbnB1dCdcbmV4cG9ydCBkZWZhdWx0IElucHV0XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9JbnB1dC9pbmRleC50c1xuICoqLyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBDU1NNb2R1bGVzIGZyb20gJ3JlYWN0LWNzcy1tb2R1bGVzJ1xuY29uc3Qgc3R5bGVzID0gcmVxdWlyZSgnLi9JbnB1dC5jc3MnKVxuXG5leHBvcnQgaW50ZXJmYWNlIFByb3BzIHtcbiAgY2xhc3NOYW1lPzogc3RyaW5nXG4gIHBsYWNlaG9sZGVyPzogc3RyaW5nXG4gIG9uQ2hhbmdlPzogYW55XG4gIHZhbHVlPzogc3RyaW5nXG4gIHR5cGU/OiBzdHJpbmdcbiAgbmFtZT86IHN0cmluZ1xufVxuXG5AQ1NTTW9kdWxlcyhzdHlsZXMsIHtcbiAgYWxsb3dNdWx0aXBsZTogdHJ1ZVxufSlcbmNsYXNzIElucHV0IGV4dGVuZHMgQ29tcG9uZW50PFByb3BzLCBhbnk+IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQgcHJvcHMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnByb3BzKVxuICAgIGRlbGV0ZSBwcm9wcy5jbGFzc05hbWVcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IHN0eWxlTmFtZT1cImlucHV0LXdyYXBcIiBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lIHx8ICcnfT5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgc3R5bGVOYW1lPVwiaW5wdXRcIlxuICAgICAgICAgIHBsYWNlaG9sZGVyPXt0aGlzLnByb3BzLnBsYWNlaG9sZGVyfVxuICAgICAgICAgIHZhbHVlPXt0aGlzLnByb3BzLnZhbHVlfVxuICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UoZSlcbiAgICAgICAgICB9fVxuICAgICAgICAgIHR5cGU9e3RoaXMucHJvcHMudHlwZSA/IHRoaXMucHJvcHMudHlwZSA6ICd0ZXh0J31cbiAgICAgICAgICBuYW1lPXt0aGlzLnByb3BzLm5hbWUgPyB0aGlzLnByb3BzLm5hbWUgOiBudWxsfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IElucHV0XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9JbnB1dC9JbnB1dC50c3hcbiAqKi8iLCIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJpbnB1dC13cmFwXCI6XCJpbnB1dC13cmFwXzNkSEEzXCIsXCJpbnB1dFwiOlwiaW5wdXRfMmp1Qk9cIn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9pc29tb3JwaGljL2VsZW1lbnRzL19mb3JtL0lucHV0L0lucHV0LmNzc1xuICoqIG1vZHVsZSBpZCA9IDE3NFxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDMgNCA2IDcgOCA5IDExIDE0IDE1XG4gKiovIiwiaW1wb3J0IFNlbGVjdGl6ZUlucHV0IGZyb20gJy4vU2VsZWN0aXplSW5wdXQnXG5leHBvcnQgZGVmYXVsdCBTZWxlY3RpemVJbnB1dFxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvX2Zvcm0vU2VsZWN0aXplSW5wdXQvaW5kZXgudHNcbiAqKi8iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgSWNvbiBmcm9tICcuLi8uLi9JY29uJ1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcydcbmltcG9ydCBDU1NNb2R1bGVzIGZyb20gJ3JlYWN0LWNzcy1tb2R1bGVzJ1xuaW1wb3J0IGlzRGVzY2VuZGFudCBmcm9tICcuLi8uLi8uLi91dGlscy9kb20vaXNEZXNjZW5kYW50J1xuY29uc3Qgc3R5bGVzID0gcmVxdWlyZSgnLi9TZWxlY3RpemVJbnB1dC5zY3NzJylcblxudHlwZSBUeXBlT3B0aW9uID0ge1xuICB2YWx1ZTogc3RyaW5nXG4gIG5hbWU6IHN0cmluZ1xuICBkaXNhYmxlZD86IGJvb2xlYW5cbiAgYWRkaXRpb25hbD86IGFueVxufVxuXG50eXBlIFR5cGVWYWx1ZSA9IHtcbiAgdmFsdWU6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbn1cblxuaW50ZXJmYWNlIElQcm9wcyB7XG4gIGNsYXNzTmFtZT86IHN0cmluZ1xuICBwbGFjZWhvbGRlcj86IHN0cmluZ1xuICBsYWJlbD86IHN0cmluZ1xuICBzdGF5Rm9jdXNlZD86IGJvb2xlYW4gLy8gZGVmYXVsdCB0cnVlXG5cbiAgdmFsdWU6IHN0cmluZ1xuICBvbklucHV0Q2hhbmdlOiAobmV3VmFsdWU6IHN0cmluZykgPT4gdm9pZFxuXG4gIG9wdGlvbnM6IEFycmF5PFR5cGVPcHRpb24+XG4gIG9uT3B0aW9uc0NoYW5nZT86IChuZXdWYWx1ZXM6IEFycmF5PFR5cGVPcHRpb24+KSA9PiB2b2lkXG5cbiAgdmFsdWVzOiBBcnJheTxUeXBlVmFsdWU+XG4gIG9uVmFsdWVzQ2hhbmdlOiAobmV3VmFsdWVzOiBBcnJheTxUeXBlVmFsdWU+KSA9PiB2b2lkXG5cbiAgLy8g6aKd5aSW5Yqf6IO9XG4gIG9uQWRkTmV3VmFsdWU/OiAobmV3VmFsdWU6IHN0cmluZykgPT4gdm9pZFxuICBvbk9wdGlvbkNsaWNrPzogKHNlbGVjdGVkVmFsdWU6IFR5cGVPcHRpb24pID0+IHZvaWRcbn1cblxuaW50ZXJmYWNlIElTdGF0ZSB7XG4gIGZvY3VzPzogYm9vbGVhblxuICBzaG93T3B0aW9ucz86IGJvb2xlYW5cbiAgdmFsdWU/OiBzdHJpbmdcbiAgZXhwZW5kZWRPcHRpb25JbmRleD86IG51bWJlclxufVxuXG5AQ1NTTW9kdWxlcyhzdHlsZXMsIHtcbiAgYWxsb3dNdWx0aXBsZTogdHJ1ZVxufSlcbmNsYXNzIFNlbGVjdGl6ZUlucHV0IGV4dGVuZHMgQ29tcG9uZW50PElQcm9wcywgSVN0YXRlPiB7XG5cbiAgaW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnRcbiAgaW5wdXRXcmFwOiBIVE1MRGl2RWxlbWVudFxuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHNob3dPcHRpb25zOiBmYWxzZSxcbiAgICAgIGZvY3VzOiBmYWxzZSxcbiAgICAgIHZhbHVlOiAnJyxcbiAgICAgIGV4cGVuZGVkT3B0aW9uSW5kZXg6IDBcbiAgICB9XG4gICAgdGhpcy5oYW5kbGVPdXRzaWRlQ2xpY2sgPSB0aGlzLmhhbmRsZU91dHNpZGVDbGljay5iaW5kKHRoaXMpXG4gICAgdGhpcy5mb2N1c0lucHV0ID0gdGhpcy5mb2N1c0lucHV0LmJpbmQodGhpcylcbiAgICB0aGlzLmhhbmRsZUlucHV0V3JhcENsaWNrID0gdGhpcy5oYW5kbGVJbnB1dFdyYXBDbGljay5iaW5kKHRoaXMpXG4gIH1cblxuICBhZGRWYWx1ZShuZXdWYWx1ZSkge1xuICAgIHRoaXMucHJvcHMub25WYWx1ZXNDaGFuZ2UodGhpcy5wcm9wcy52YWx1ZXMuY29uY2F0KG5ld1ZhbHVlKSlcbiAgICBpZiAodGhpcy5wcm9wcy5vbk9wdGlvbnNDaGFuZ2UpIHtcbiAgICAgIHRoaXMucHJvcHMub25PcHRpb25zQ2hhbmdlKHRoaXMucHJvcHMub3B0aW9ucy5tYXAob3B0aW9uID0+IChvcHRpb24udmFsdWUgPT09IG5ld1ZhbHVlLnZhbHVlXG4gICAgICAgID8gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9uLCB7IGRpc2FibGVkOiB0cnVlIH0pXG4gICAgICAgIDogb3B0aW9uKSkpXG4gICAgfVxuICAgIHRoaXMuY2xlYXJJbnB1dFZhbHVlKClcbiAgICBpZiAodHlwZW9mIHRoaXMucHJvcHMuc3RheUZvY3VzZWQgPT09ICd1bmRlZmluZWQnIHx8IHRoaXMucHJvcHMuc3RheUZvY3VzZWQgIT09IGZhbHNlKSB7XG4gICAgICB0aGlzLmZvY3VzSW5wdXQoKVxuICAgIH1cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHNob3dPcHRpb25zOiBmYWxzZVxuICAgIH0pXG4gIH1cblxuICByZW1vdmVWYWx1ZShpbmRleCkge1xuICAgIGxldCBuZXdWYWx1ZXMgPSBbXVxuICAgIGxldCByZW1vdmVkVmFsdWVcblxuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgIG5ld1ZhbHVlcyA9IHRoaXMucHJvcHMudmFsdWVzLnNsaWNlKDAsIHRoaXMucHJvcHMudmFsdWVzLmxlbmd0aCAtIDEpXG4gICAgICByZW1vdmVkVmFsdWUgPSB0aGlzLnByb3BzLnZhbHVlc1t0aGlzLnByb3BzLnZhbHVlcy5sZW5ndGggLSAxXS52YWx1ZVxuICAgIH0gZWxzZSB7XG4gICAgICBuZXdWYWx1ZXMgPSB0aGlzLnByb3BzLnZhbHVlc1xuICAgICAgICAuZmlsdGVyKCh2LCBpKSA9PiB7XG4gICAgICAgICAgcmVtb3ZlZFZhbHVlID0gdi52YWx1ZVxuICAgICAgICAgIHJldHVybiBpICE9PSBpbmRleFxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGlmICh0aGlzLnByb3BzLm9uT3B0aW9uc0NoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5vbk9wdGlvbnNDaGFuZ2UodGhpcy5wcm9wcy5vcHRpb25zLm1hcChvcHRpb24gPT4gKG9wdGlvbi52YWx1ZSA9PT0gcmVtb3ZlZFZhbHVlXG4gICAgICAgID8gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9uLCB7IGRpc2FibGVkOiBmYWxzZSB9KVxuICAgICAgICA6IG9wdGlvbikpKVxuICAgIH1cblxuICAgIHRoaXMucHJvcHMub25WYWx1ZXNDaGFuZ2UobmV3VmFsdWVzKVxuICB9XG5cbiAgY2xlYXJJbnB1dFZhbHVlKCkge1xuICAgIHRoaXMucHJvcHMub25JbnB1dENoYW5nZSgnJylcbiAgfVxuXG4gIGhhbmRsZUtleVByZXNzKGUpIHtcbiAgICBpZiAoZS5rZXlDb2RlID09PSA4ICYmICF0aGlzLnByb3BzLnZhbHVlKSB7XG4gICAgICB0aGlzLnJlbW92ZVZhbHVlKC0gMSlcbiAgICB9XG4gICAgLy8gdG9kb1xuICAgIC8vIGlmIChlLmtleUNvZGUgPT09IDEzICYmIHRoaXMuc3RhdGUuc2hvd09wdGlvbnMpIHtcbiAgICAvLyAgIHRoaXMuYWRkVmFsdWUoKVxuICAgIC8vIH1cbiAgfVxuXG4gIGZvY3VzSW5wdXQoKSB7XG4gICAgdGhpcy5pbnB1dC5mb2N1cygpXG4gIH1cblxuICBoYW5kbGVPdXRzaWRlQ2xpY2soZSkge1xuICAgIGlmICghaXNEZXNjZW5kYW50KHRoaXMuaW5wdXRXcmFwLCBlLnRhcmdldCkpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzaG93T3B0aW9uczogZmFsc2VcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlSW5wdXRXcmFwQ2xpY2soKSB7XG4gICAgdGhpcy5mb2N1c0lucHV0KClcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2hvd09wdGlvbnM6IHRydWVcbiAgICB9KVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVPdXRzaWRlQ2xpY2spXG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZU91dHNpZGVDbGljaylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGxhYmVsLCB2YWx1ZXMsIG9uQWRkTmV3VmFsdWUgfSA9IHRoaXMucHJvcHNcblxuICAgIGxldCB2YWx1ZSA9IHRoaXMucHJvcHMudmFsdWUgfHwgJydcbiAgICBsZXQgb3B0aW9ucyA9IHRoaXMucHJvcHMub3B0aW9ucyB8fCBbXVxuXG4gICAgbGV0IGlucHV0V2lkdGggPSB2YWx1ZXMubGVuZ3RoID4gMCA/ICh2YWx1ZS5sZW5ndGggPT09IDAgPyAxNiA6IHZhbHVlLmxlbmd0aCAqIDE2KSA6ICcxMDAlJ1xuICAgIGxldCBwbGFjZWhvbGRlciA9IHZhbHVlcy5sZW5ndGggPiAwID8gJycgOiB0aGlzLnByb3BzLnBsYWNlaG9sZGVyXG5cbiAgICBjb25zdCBzZWxlY3RpemVJbnB1dFN0eWxlTmFtZSA9IGNsYXNzbmFtZXMoe1xuICAgICAgJ3NlbGVjdGl6ZS1pbnB1dCc6IHRydWUsXG4gICAgICAnc2VsZWN0aXplLWlucHV0LS1mb2N1cyc6IHRoaXMuc3RhdGUuZm9jdXMsXG4gICAgICAnc2VsZWN0aXplLWlucHV0LS1lbXB0eSc6IHZhbHVlcy5sZW5ndGggPT09IDBcbiAgICB9KVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgc3R5bGVOYW1lPVwic2VsZWN0aXplLXdyYXBcIiBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lIHx8ICcnfT5cbiAgICAgICAge1xuICAgICAgICAgIGxhYmVsID8gKFxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZvcm0tbGFiZWxcIj57bGFiZWx9PC9sYWJlbD5cbiAgICAgICAgICApIDogbnVsbFxuICAgICAgICB9XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBzdHlsZU5hbWU9e3NlbGVjdGl6ZUlucHV0U3R5bGVOYW1lfVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlSW5wdXRXcmFwQ2xpY2t9XG4gICAgICAgICAgcmVmPXtyZWYgPT4geyB0aGlzLmlucHV0V3JhcCA9IHJlZiB9IH1cbiAgICAgICAgICA+XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFsdWVzLm1hcCgodiwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8c3BhbiBrZXk9e2luZGV4fSBzdHlsZU5hbWU9XCJzZWxlY3RpemUtdGFnXCI+XG4gICAgICAgICAgICAgICAgICB7di5uYW1lfVxuICAgICAgICAgICAgICAgICAgPEljb25cbiAgICAgICAgICAgICAgICAgICAgc3R5bGVOYW1lPVwiaWNvbi1yZW1vdmVcIlxuICAgICAgICAgICAgICAgICAgICBzaXplPXsyMH1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVWYWx1ZShpbmRleClcbiAgICAgICAgICAgICAgICAgICAgfSB9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBpbnB1dFdpZHRoIH19XG4gICAgICAgICAgICByZWY9e3JlZiA9PiB7IHRoaXMuaW5wdXQgPSByZWYgfSB9XG4gICAgICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj17cGxhY2Vob2xkZXJ9XG4gICAgICAgICAgICBvbkJsdXI9e2UgPT4ge1xuICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZm9jdXM6IGZhbHNlIH0pXG4gICAgICAgICAgICB9IH1cbiAgICAgICAgICAgIG9uRm9jdXM9e2UgPT4ge1xuICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZm9jdXM6IHRydWUgfSlcbiAgICAgICAgICAgIH0gfVxuICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4ge1xuICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uSW5wdXRDaGFuZ2UoKGUudGFyZ2V0IGFzIGFueSkudmFsdWUpXG4gICAgICAgICAgICB9IH1cbiAgICAgICAgICAgIG9uS2V5RG93bj17ZSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuaGFuZGxlS2V5UHJlc3MoZSlcbiAgICAgICAgICAgIH0gfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnNob3dPcHRpb25zICYmIChvcHRpb25zLmxlbmd0aCAhPT0gMCB8fCBvbkFkZE5ld1ZhbHVlKSA/IChcbiAgICAgICAgICAgIDx1bCBzdHlsZU5hbWU9XCJxdWVyeS1yZXN1bHRzXCI+XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm1hcCgob3B0aW9uLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbi5kaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gPGxpIGtleT17aW5kZXh9IGNsYXNzTmFtZT1cImRpc2FibGVkXCI+e29wdGlvbi5uYW1lfTwvbGk+XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRWYWx1ZShvcHRpb24pXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vbk9wdGlvbkNsaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25PcHRpb25DbGljayhvcHRpb24pXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSB9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPntvcHRpb24ubmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgb25BZGROZXdWYWx1ZSA/IChcbiAgICAgICAgICAgICAgICAgIDxsaVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBvbkFkZE5ld1ZhbHVlKHRoaXMucHJvcHMudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIH0gfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhZGRcIj7mt7vliqAgPHN0cm9uZz57dGhpcy5wcm9wcy52YWx1ZX08L3N0cm9uZz48L2xpPlxuICAgICAgICAgICAgICAgICkgOiBudWxsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgKSA6IG51bGxcbiAgICAgICAgfVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNlbGVjdGl6ZUlucHV0XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9TZWxlY3RpemVJbnB1dC9TZWxlY3RpemVJbnB1dC50c3hcbiAqKi8iLCIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJzZWxlY3RpemUtd3JhcFwiOlwic2VsZWN0aXplLXdyYXBfM0FNQWlcIixcInNlbGVjdGl6ZS1pbnB1dFwiOlwic2VsZWN0aXplLWlucHV0XzE0YmdQXCIsXCJzZWxlY3RpemUtaW5wdXQtLWZvY3VzXCI6XCJzZWxlY3RpemUtaW5wdXQtLWZvY3VzX1VuWjhCXCIsXCJzZWxlY3RpemUtaW5wdXQtLWVtcHR5XCI6XCJzZWxlY3RpemUtaW5wdXQtLWVtcHR5X3huN1V5XCIsXCJxdWVyeS1yZXN1bHRzXCI6XCJxdWVyeS1yZXN1bHRzX09nRTJ0XCIsXCJzZWxlY3RpemUtdGFnXCI6XCJzZWxlY3RpemUtdGFnXzNhRDEzXCIsXCJpY29uLXJlbW92ZVwiOlwiaWNvbi1yZW1vdmVfMU83Rl9cIn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9pc29tb3JwaGljL2VsZW1lbnRzL19mb3JtL1NlbGVjdGl6ZUlucHV0L1NlbGVjdGl6ZUlucHV0LnNjc3NcbiAqKiBtb2R1bGUgaWQgPSAxNzdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzIDQgNiA3IDggOSAxMSAxNCAxNVxuICoqLyIsImltcG9ydCBUZXh0YXJlYSBmcm9tICcuL1RleHRhcmVhJ1xuZXhwb3J0IGRlZmF1bHQgVGV4dGFyZWFcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9pc29tb3JwaGljL2VsZW1lbnRzL19mb3JtL1RleHRhcmVhL2luZGV4LnRzXG4gKiovIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgUHJvcHMgYXMgSW5wdXRQcm9wcyB9IGZyb20gJy4uL0lucHV0L0lucHV0J1xuaW1wb3J0IENTU01vZHVsZXMgZnJvbSAncmVhY3QtY3NzLW1vZHVsZXMnXG5jb25zdCBzdHlsZXMgPSByZXF1aXJlKCcuL1RleHRhcmVhLmNzcycpXG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBJbnB1dFByb3BzIHtcbn1cblxuQENTU01vZHVsZXMoc3R5bGVzLCB7XG4gIGFsbG93TXVsdGlwbGU6IHRydWVcbn0pXG5jbGFzcyBUZXh0YXJlYSBleHRlbmRzIENvbXBvbmVudDxQcm9wcywgYW55PiB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgc3R5bGVOYW1lPVwidGV4dGFyZWEtd3JhcFwiIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWUgfHwgJyd9PlxuICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICBwbGFjZWhvbGRlcj17dGhpcy5wcm9wcy5wbGFjZWhvbGRlcn1cbiAgICAgICAgICB2YWx1ZT17dGhpcy5wcm9wcy52YWx1ZX1cbiAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKGUpXG4gICAgICAgICAgfX1cbiAgICAgICAgICBzdHlsZU5hbWU9XCJ0ZXh0YXJlYVwiXG4gICAgICAgICAgdHlwZT17dGhpcy5wcm9wcy50eXBlID8gdGhpcy5wcm9wcy50eXBlIDogJ3RleHQnfVxuICAgICAgICAgIG5hbWU9e3RoaXMucHJvcHMubmFtZSA/IHRoaXMucHJvcHMubmFtZSA6IG51bGx9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGV4dGFyZWFcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9pc29tb3JwaGljL2VsZW1lbnRzL19mb3JtL1RleHRhcmVhL1RleHRhcmVhLnRzeFxuICoqLyIsIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcInRleHRhcmVhLXdyYXBcIjpcInRleHRhcmVhLXdyYXBfWGtwajEgaW5wdXQtd3JhcF8zZEhBM1wiLFwidGV4dGFyZWFcIjpcInRleHRhcmVhXzFFZG9TXCJ9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9UZXh0YXJlYS9UZXh0YXJlYS5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxODBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzIDQgNiA3IDggOSAxMSAxNCAxNVxuICoqLyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQgeyBzZW5kTm90aWZpY2F0aW9uLCByZXNldCwgZmV0Y2hCb29rcyB9IGZyb20gJy4uLy4uL3N0b3JlL2FjdGlvbnMnXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnXG5pbXBvcnQgQWRkQ29sbGVjdGlvbkZvcm0gZnJvbSAnLi9jb21wb25lbnRzL0FkZENvbGxlY3Rpb25Gb3JtJ1xuaW1wb3J0IGFwaXMgZnJvbSAnLi4vLi4vYXBpcydcbmltcG9ydCBEb2NDb250YWluZXIgZnJvbSAnLi4vLi4vY29udGFpbmVycy9Eb2NDb250YWluZXInXG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIHNlc3Npb246IGFueVxuICBzZW5kTm90aWZpY2F0aW9uPzogYW55XG4gIG5vdGlmaWNhdGlvbj86IGFueVxuICByZXNldDogYW55XG4gIGZldGNoQm9va3M/OiAoZGF0YTogZmV0Y2hCb29rcykgPT4gdm9pZFxufVxuXG5jbGFzcyBBZGRDb2xsZWN0aW9uIGV4dGVuZHMgQ29tcG9uZW50PFByb3BzLCB7fT4ge1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gICAgdGhpcy5oYW5kbGVTYXZlID0gdGhpcy5oYW5kbGVTYXZlLmJpbmQodGhpcylcbiAgICB0aGlzLmhhbmRsZUJvb2tzVmFsdWVDaGFuZ2UgPSB0aGlzLmhhbmRsZUJvb2tzVmFsdWVDaGFuZ2UuYmluZCh0aGlzKVxuICB9XG5cbiAgaGFuZGxlU2F2ZShkYXRhKSB7XG4gICAgY29uc3QgY3JlYXRvciA9IHRoaXMucHJvcHMuc2Vzc2lvbi51c2VyLmlkXG4gICAgY29uc3QgcG9zdERhdGEgPSBPYmplY3QuYXNzaWduKHt9LCBkYXRhLCB7XG4gICAgICBjcmVhdG9yXG4gICAgfSlcblxuICAgIGFwaXMuYWRkQ29sbGVjdGlvbihwb3N0RGF0YSkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5zZW5kTm90aWZpY2F0aW9uKCfmt7vliqDmiJDlip/vvIEnKVxuICAgICAgdGhpcy5wcm9wcy5yZXNldCgnYWRkQ29sbGVjdGlvbicpXG4gICAgfSwgZXJyb3IgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5zZW5kTm90aWZpY2F0aW9uKGVycm9yLm1lc3NhZ2UpXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZUJvb2tzVmFsdWVDaGFuZ2UobmV3VmFsKSB7XG4gICAgaWYgKCFfLmlzRW1wdHkobmV3VmFsKSkge1xuICAgICAgdGhpcy5wcm9wcy5mZXRjaEJvb2tzKHtcbiAgICAgICAgcTogbmV3VmFsXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPERvY0NvbnRhaW5lciB0aXRsZT1cIua3u+WKoOWQiOmbhlwiPlxuICAgICAgICA8aDEgY2xhc3NOYW1lPVwicGFnZS10aXRsZVwiPua3u+WKoOWQiOmbhjwvaDE+XG4gICAgICAgIDxBZGRDb2xsZWN0aW9uRm9ybVxuICAgICAgICAgIG9uU2F2ZT17dGhpcy5oYW5kbGVTYXZlfVxuICAgICAgICAgIG9uQm9va3NWYWx1ZUNoYW5nZT17dGhpcy5oYW5kbGVCb29rc1ZhbHVlQ2hhbmdlfVxuICAgICAgICAgIC8+XG4gICAgICA8L0RvY0NvbnRhaW5lcj5cbiAgICApXG4gIH1cbn1cblxuZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG4gIHJldHVybiB7XG4gICAgbm90aWZpY2F0aW9uOiBzdGF0ZS5jb21wb25lbnRzLm5vdGlmaWNhdGlvbixcbiAgICBlbGVtZW50czogc3RhdGUuZWxlbWVudHMsXG4gICAgc2Vzc2lvbjogc3RhdGUuc2Vzc2lvblxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QoXG4gIG1hcFN0YXRlVG9Qcm9wcyxcbiAgeyBzZW5kTm90aWZpY2F0aW9uLCByZXNldCwgZmV0Y2hCb29rcyB9XG4pKEFkZENvbGxlY3Rpb24gYXMgYW55KVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL2lzb21vcnBoaWMvcm91dGVzL0FkZENvbGxlY3Rpb24vQWRkQ29sbGVjdGlvbi50c3hcbiAqKi8iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQgeyByZWR1eEZvcm0gfSBmcm9tICdyZWR1eC1mb3JtJ1xuaW1wb3J0IHsgc2VuZE5vdGlmaWNhdGlvbiB9IGZyb20gJy4uLy4uLy4uL3N0b3JlL2FjdGlvbnMnXG5pbXBvcnQgSW5wdXQgZnJvbSAnLi4vLi4vLi4vZWxlbWVudHMvX2Zvcm0vSW5wdXQnXG5pbXBvcnQgU2VsZWN0aXplSW5wdXQgZnJvbSAnLi4vLi4vLi4vZWxlbWVudHMvX2Zvcm0vU2VsZWN0aXplSW5wdXQnXG5pbXBvcnQge1RleHRhcmVhLCBCdXR0b259IGZyb20gJy4uLy4uLy4uL2VsZW1lbnRzL19mb3JtJ1xuaW1wb3J0ICogYXMgc2VsZWN0b3JzIGZyb20gJy4uLy4uLy4uL3N0b3JlL3NlbGVjdG9ycydcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgaW5pdGlhbERhdGE/OiBhbnlcbiAgb25TYXZlOiAoZGF0YTogYW55KSA9PiB2b2lkXG4gIG9uQm9va3NWYWx1ZUNoYW5nZT86ICh2YWw6IHN0cmluZykgPT4gdm9pZFxufVxuXG5pbnRlcmZhY2UgQWxsUHJvcHMgZXh0ZW5kcyBQcm9wcyB7XG4gIHJvdXRpbmc6IGFueVxuICBzZW5kTm90aWZpY2F0aW9uOiBhbnlcbiAgaGFuZGxlU3VibWl0OiBhbnlcbiAgZmllbGRzOiBhbnlcbiAgYm9va3NTZWFyY2hBc09wdGlvbnM6IGFueVxufVxuXG5pbnRlcmZhY2UgU3RhdGUge1xufVxuXG5AcmVkdXhGb3JtKHtcbiAgZm9ybTogJ2FkZENvbGxlY3Rpb24nLFxuICBmaWVsZHM6IFsnbmFtZScsICdfYm9va3NWYWx1ZScsICdfYm9va3NWYWx1ZXMnLCAnX2Jvb2tzT3B0aW9ucycsICdkZXNjcmlwdGlvbiddLFxufSlcbmNsYXNzIEFkZENvbGxlY3Rpb25Gb3JtIGV4dGVuZHMgQ29tcG9uZW50PEFsbFByb3BzLCBTdGF0ZT4ge1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBmaWVsZHM6IHsgbmFtZSwgX2Jvb2tzVmFsdWUsIF9ib29rc1ZhbHVlcywgX2Jvb2tzT3B0aW9ucywgZGVzY3JpcHRpb24gfSxcbiAgICAgIGhhbmRsZVN1Ym1pdCxcbiAgICAgIG9uU2F2ZSxcbiAgICAgIG9uQm9va3NWYWx1ZUNoYW5nZSxcbiAgICAgIGJvb2tzU2VhcmNoQXNPcHRpb25zXG4gICAgfSA9IHRoaXMucHJvcHNcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8SW5wdXQgcGxhY2Vob2xkZXI9XCLlkIjpm4blkI3np7BcIiB7Li4ubmFtZX0gLz5cbiAgICAgICAgPFNlbGVjdGl6ZUlucHV0XG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCLpgInmi6nkuabnsY1cIlxuICAgICAgICAgIG9uSW5wdXRDaGFuZ2U9e25ld1ZhbHVlID0+IHtcbiAgICAgICAgICAgIGlmIChvbkJvb2tzVmFsdWVDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgb25Cb29rc1ZhbHVlQ2hhbmdlKG5ld1ZhbHVlKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2Jvb2tzVmFsdWUub25DaGFuZ2UobmV3VmFsdWUpXG4gICAgICAgICAgfSB9XG4gICAgICAgICAgdmFsdWU9e19ib29rc1ZhbHVlLnZhbHVlfVxuICAgICAgICAgIG9uVmFsdWVzQ2hhbmdlPXtfYm9va3NWYWx1ZXMub25DaGFuZ2V9XG4gICAgICAgICAgb3B0aW9ucz17Ym9va3NTZWFyY2hBc09wdGlvbnN9XG4gICAgICAgICAgdmFsdWVzPXtfYm9va3NWYWx1ZXMudmFsdWUgfHwgW119XG4gICAgICAgICAgLz5cbiAgICAgICAgPFRleHRhcmVhXG4gICAgICAgICAgey4uLmRlc2NyaXB0aW9ufVxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwi5o+P6L+wXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgb25DbGljaz17aGFuZGxlU3VibWl0KGRhdGEgPT4ge1xuICAgICAgICAgICAgbGV0IHBvc3REYXRhID0gXy5waWNrKGRhdGEsIFsnbmFtZScsICdkZXNjcmlwdGlvbiddKVxuICAgICAgICAgICAgcG9zdERhdGEgPSBPYmplY3QuYXNzaWduKHt9LCBwb3N0RGF0YSwge1xuICAgICAgICAgICAgICBpdGVtczogX2Jvb2tzVmFsdWVzLnZhbHVlID8gX2Jvb2tzVmFsdWVzLnZhbHVlLm1hcChpdGVtID0+IGl0ZW0udmFsdWUpIDogW11cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBvblNhdmUocG9zdERhdGEpXG4gICAgICAgICAgfSkgfVxuICAgICAgICAgID7mt7vliqA8L0J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RhdGUsIG93blByb3BzKSA9PiB7XG4gIGNvbnN0IGJvb2tzUXVlcnkgPSBfLmdldChzdGF0ZS5mb3JtLCAnYWRkQ29sbGVjdGlvbi5fYm9va3NWYWx1ZS52YWx1ZScsICcnKVxuXG4gIHJldHVybiB7XG4gICAgaW5pdGlhbFZhbHVlczogb3duUHJvcHMuaW5pdGlhbERhdGEsXG4gICAgcm91dGluZzogc3RhdGUucm91dGluZy5sb2NhdGlvbkJlZm9yZVRyYW5zaXRpb25zLFxuICAgIGJvb2tzU2VhcmNoQXNPcHRpb25zOiBzZWxlY3RvcnMuYm9va3NTZWFyY2hBc09wdGlvbnMoYm9va3NRdWVyeSkoc3RhdGUpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdDx7fSwge30sIFByb3BzPihcbiAgbWFwU3RhdGVUb1Byb3BzLFxuICB7IHNlbmROb3RpZmljYXRpb24gfVxuKShBZGRDb2xsZWN0aW9uRm9ybSlcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9pc29tb3JwaGljL3JvdXRlcy9BZGRDb2xsZWN0aW9uL2NvbXBvbmVudHMvQWRkQ29sbGVjdGlvbkZvcm0udHN4XG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==