webpackJsonp([17],{0:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var r=n(116),i=n(1),u=o(i),a=n(14),l=n(306),c=o(l),s=n(8),f=n(117),d=n(310),p=o(d),y=(0,p["default"])(),b=(0,f.syncHistoryWithStore)(a.browserHistory,y);(0,r.render)(u["default"].createElement(s.Provider,{store:y},u["default"].createElement(a.Router,{history:b,routes:c["default"]})),document.getElementById("root"))},3:function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<t.length;r++){var u=t[r];"number"==typeof u[0]&&o[u[0]]||(n&&!u[2]?u[2]=n:n&&(u[2]="("+u[2]+") and ("+n+")"),e.push(u))}},e}},4:function(e,t,n){function o(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=p[o.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](o.parts[i]);for(;i<o.parts.length;i++)r.parts.push(c(o.parts[i],t))}else{for(var u=[],i=0;i<o.parts.length;i++)u.push(c(o.parts[i],t));p[o.id]={id:o.id,refs:1,parts:u}}}}function r(e){for(var t=[],n={},o=0;o<e.length;o++){var r=e[o],i=r[0],u=r[1],a=r[2],l=r[3],c={css:u,media:a,sourceMap:l};n[i]?n[i].parts.push(c):t.push(n[i]={id:i,parts:[c]})}return t}function i(e,t){var n=h(),o=_[_.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),_.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function u(e){e.parentNode.removeChild(e);var t=_.indexOf(e);t>=0&&_.splice(t,1)}function a(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function l(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function c(e,t){var n,o,r;if(t.singleton){var i=v++;n=m||(m=a(t)),o=s.bind(null,n,i,!1),r=s.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(t),o=d.bind(null,n),r=function(){u(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(t),o=f.bind(null,n),r=function(){u(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}function s(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=O(t,r);else{var i=document.createTextNode(r),u=e.childNodes;u[t]&&e.removeChild(u[t]),u.length?e.insertBefore(i,u[t]):e.appendChild(i)}}function f(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function d(e,t){var n=t.css,o=t.sourceMap;o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([n],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(r),i&&URL.revokeObjectURL(i)}var p={},y=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},b=y(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=y(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,v=0,_=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=b()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=r(e);return o(n,t),function(e){for(var i=[],u=0;u<n.length;u++){var a=n[u],l=p[a.id];l.refs--,i.push(l)}if(e){var c=r(e);o(c,t)}for(var u=0;u<i.length;u++){var l=i[u];if(0===l.refs){for(var s=0;s<l.parts.length;s++)l.parts[s]();delete p[l.id]}}}};var O=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},10:function(e,t,n){"use strict";function o(e,t){return{type:"CHANGE_VALUE",name:e,value:t}}function r(e,t){return{type:"UPDATE_ELEMENT",name:e,data:t}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(307);Object.keys(i).forEach(function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var u=n(308);Object.keys(u).forEach(function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})});var a=n(309);Object.keys(a).forEach(function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}),t.changeValue=o,t.updateElement=r},27:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(258),i=o(r);t["default"]=i["default"]},28:function(e,t,n){var o,r;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var r=typeof o;if("string"===r||"number"===r)e.push(o);else if(Array.isArray(o))e.push(n.apply(null,o));else if("object"===r)for(var u in o)i.call(o,u)&&o[u]&&e.push(u)}}return e.join(" ")}var i={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(o=[],r=function(){return n}.apply(t,o),!(void 0!==r&&(e.exports=r)))}()},30:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(264),i=o(r);t["default"]=i["default"]},50:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=o(l),s=function(e){function t(){return r(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),a(t,[{key:"render",value:function(){var e=(this.props.isFluid?"container-fluid":"container")+(this.props.className?" "+this.props.className:"");return c["default"].createElement("div",{className:e},this.props.children)}}]),t}(l.Component);t["default"]=s},71:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0});var r=n(232),i=o(r),u=n(233),a=o(u);t["default"]=Object.assign({},i,a)},74:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="undefined"!=typeof window?window.location.origin:"http://localhost:3000",o={LOCAL:n+"/api/",DOUBAN_BOOKS:"https://api.douban.com/v2/book/"};t["default"]=o},81:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var r=n(50),i=o(r);t.Container=i["default"]},82:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return fetch(e,s(t)).then(function(e){return 204!==e.status?e.json().then(function(t){return{json:t,response:e}}):{response:e,json:{}}}).then(function(e){var n=e.json,o=e.response;return o.ok?(0,l["default"])({json:n,response:o},t.schema):Promise.reject(n)})}Object.defineProperty(t,"__esModule",{value:!0}),t.callApi=r,n(158);var i=n(155),u=o(i),a=n(153),l=o(a),c={dataType:"json",method:"GET",credentials:"same-origin"},s=function(e){var t=Object.assign({},c,e),n=t.method,o=t.data,r=t.credentials,i=t.dataType,a={};if(n&&(a.method=n),r&&(a.credentials=r),"POST"===n||"PUT"===n){var l=void 0,s=void 0;"json"===i?(l="application/json",s=JSON.stringify(o)):"urlencoded"===i?(l="application/x-www-form-urlencoded",s=(0,u["default"])(o)):(i="urlencoded",l="application/x-www-form-urlencoded",s=(0,u["default"])(o),console.warn('Unsupported dataType used "urlencoded" instead!')),a.headers={"Content-Type":l,"Access-Control-Request-Method":n},a.body=s}return"DELETE"===n&&(a.headers={"Access-Control-Request-Method":"DELETE"}),a};t["default"]=r},110:function(e,t){e.exports={"dropdown-item":"dropdown-item_2C1dz light-link_2QDeA","light-link":"light-link_2QDeA",dropdown:"dropdown_SZfyp","dropdown-toggle":"dropdown-toggle_34Qfd","dropdown-menu":"dropdown-menu_1HgbS","dropdown-caret":"dropdown-caret_FcBWI",sep:"sep_10Y0o","dropdown-menu--dark":"dropdown-menu--dark_6eVPX dropdown-menu_1HgbS"}},146:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(244),i=o(r);t["default"]=i["default"]},147:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=n(1),s=o(c),f=n(27),d=o(f),p=n(2),y=o(p),b=function(e,t,n,o){var r,i=arguments.length,u=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(u=(3>i?r(u):i>3?r(t,n,u):r(t,n))||u);return i>3&&u&&Object.defineProperty(t,n,u),u},h=n(156),m=function(e){function t(){return r(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),a(t,[{key:"render",value:function(){var e=this.props.type?this.props.type:"success";return s["default"].createElement("div",null,this.props.visible&&s["default"].createElement("div",{styleName:"alert--"+e},s["default"].createElement("div",{styleName:"alert-close"},s["default"].createElement(d["default"],{onClick:this.props.onRequestClose,name:"close",size:15})),s["default"].createElement("div",{styleName:"content"},this.props.message)))}}]),t}(c.Component);m=b([(0,y["default"])(h,{allowMultiple:!0})],m),t["default"]=m},148:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DropdownItemSep=t.Dropdown=t.DropdownItem=void 0;var r=n(255),i=o(r),u=n(256),a=o(u),l=n(257),c=o(l);t.DropdownItem=a["default"],t.Dropdown=i["default"],t.DropdownItemSep=c["default"],t["default"]=i["default"]},149:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(262);Object.keys(r).forEach(function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var i=o(r);t["default"]=i["default"]},150:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(263),i=o(r);t["default"]=i["default"]},152:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Schemas=void 0;var o=n(113),r=new o.Schema("books",{idAttribute:"id"}),i=new o.Schema("bookCollections",{idAttribute:"id"}),u=new o.Schema("profiles",{idAttribute:"id"}),a=new o.Schema("users",{idAttribute:"id"}),l=new o.Schema("doubanBooks",{idAttribute:"id"}),c=new o.Schema("books",{idAttribute:"bookId"}),s=new o.Schema("books",{idAttribute:"bookId"});t.Schemas={BOOK:r,BOOK_PROGRESS:c,BOOK_ARRAY:(0,o.arrayOf)(r),DOUBAN_BOOK_SEARCH_RESULTS:{books:(0,o.arrayOf)(l)},USER_ARRAY:(0,o.arrayOf)(a),MATCHED_BOOK_ARRAY:(0,o.arrayOf)(s),COLLECTION:i,COLLECTION_ARRAY:(0,o.arrayOf)(i),PROFILE:u}},153:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=e.headers.get("link");if(!t)return"";var n=t.split(",").find(function(e){return e.indexOf('rel="next"')>-1});return n?n.split(";")[0].trim().slice(1,-1):""}function i(e,t){var n=e.json,o=e.response,i=l["default"].camelizeKeys(n);if("undefined"!=typeof t){var a=r(o);return Object.assign({},(0,u.normalize)(i,t),{nextPageUrl:a,nextPage:d["default"].get((0,s["default"])(a.split("?")[1]||""),"page",0)})}return i}Object.defineProperty(t,"__esModule",{value:!0});var u=n(113),a=n(157),l=o(a),c=n(320),s=o(c),f=n(25),d=o(f);t["default"]=i},154:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(155),i=o(r),u=n(319),a=o(u),l=n(321),c=o(l),s=n(316),f=o(s);t["default"]={parseFormData:i["default"],lockScroll:a["default"],unlockScroll:c["default"],getScreenInfo:f["default"]}},155:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=a["default"].cloneDeep(e),n="";for(var o in t)"object"===i(t[o])&&(t[o]=t[o].toString()),n=""+n+o+"="+t[o]+"&";return n.substr(0,n.length-1)}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t["default"]=r;var u=n(25),a=o(u)},156:function(e,t){e.exports={alerts:"alerts_3anah",alert:"alert_3WAye","alert--success":"alert--success_NTR5L","alert--error":"alert--error_1C2fM","alert--warning":"alert--warning_3gSWv",content:"content_1U4Ts","alert-close":"alert-close_1UULS"}},232:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){return(0,p["default"])(b["default"].LOCAL+"collections",{method:"POST",data:e})}function i(e){return(0,p["default"])(b["default"].LOCAL+"books",{method:"POST",data:e})}function u(e){return(0,p["default"])(b["default"].LOCAL+"authors",{method:"POST",data:e})}function a(e){return(0,p["default"])(b["default"].LOCAL+"authors?q="+e)}function l(e){return(0,p["default"])(b["default"].LOCAL+"books?q="+e)}function c(e,t){(0,p["default"])(b["default"].LOCAL+"user/books/"+e+"/progress",{method:"PUT",data:t})}function s(e){return(0,p["default"])(b["default"].LOCAL+"books/"+e,{method:"DELETE"})}function f(){return(0,p["default"])(b["default"].LOCAL+"auth/revoke",{method:"PUT"})}Object.defineProperty(t,"__esModule",{value:!0}),t.addCollection=r,t.addBook=i,t.addAuthor=u,t.searchAuthors=a,t.searchBooks=l,t.setProgress=c,t.deleteBook=s,t.logout=f;var d=n(82),p=o(d),y=n(74),b=o(y)},233:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){return(0,u["default"])(l["default"].DOUBAN_BOOKS+"/search?count=5&q="+e,{})}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchDoubanBooks=r;var i=n(318),u=o(i),a=n(74),l=o(a)},234:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=n(1),s=o(c),f=n(14),d=n(81),p=n(148),y=n(146),b=o(y),h=n(2),m=o(h),v=function(e,t,n,o){var r,i=arguments.length,u=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(u=(3>i?r(u):i>3?r(t,n,u):r(t,n))||u);return i>3&&u&&Object.defineProperty(t,n,u),u},_=n(344),O=function(e){function t(e){r(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={isDropdownMenuVisible:!1},n.handleLogoutClick=n.handleLogoutClick.bind(n),n}return u(t,e),a(t,[{key:"toggleDropdownMenu",value:function(){this.setState({isDropdownMenuVisible:!this.state.isDropdownMenuVisible})}},{key:"handleLogoutClick",value:function(){return this.props.onLogout(),!1}},{key:"render",value:function(){var e=this.props.isAdmin?this.props.isAdmin:!1,t=this.props,n=t.username,o=t.recentReading;return s["default"].createElement("div",{styleName:"branding "+(this.props.className?this.props.className:"")},s["default"].createElement(d.Container,{className:"clearfix"},s["default"].createElement("div",null,s["default"].createElement(b["default"],{to:"/"}),s["default"].createElement("div",{styleName:"nav"},s["default"].createElement("ul",{styleName:"nav-links"},s["default"].createElement("li",{styleName:"nav-item"},s["default"].createElement(f.Link,{styleName:"nav-link",to:"/browse"},"浏览")))),n?s["default"].createElement("div",{styleName:"nav--user"},0!==o.length&&s["default"].createElement(p.Dropdown,{styleName:"dropdown-recent-reading",title:"最近阅读"},o.slice(0,5).map(function(e,t){return s["default"].createElement(p.DropdownItem,{key:t},s["default"].createElement(f.Link,{to:"/viewer/book/"+e.id},e.title))}),s["default"].createElement(p.DropdownItemSep,null),s["default"].createElement(p.DropdownItem,null,s["default"].createElement(f.Link,{to:"/user/shelf"},"查看全部"))),s["default"].createElement(p.Dropdown,{title:s["default"].createElement("span",null,n,e&&s["default"].createElement("span",{className:"badge"},"Admin"))},e===!0&&s["default"].createElement(p.DropdownItem,null,s["default"].createElement(f.Link,{to:"/console"},"控制台")),s["default"].createElement(p.DropdownItem,null,s["default"].createElement(f.Link,{to:"/user/shelf"},"书架")),s["default"].createElement(p.DropdownItem,null,s["default"].createElement(f.Link,{to:"/user/profile"},"个人主页")),s["default"].createElement(p.DropdownItem,null,s["default"].createElement(f.Link,{to:"/user/preference"},"设置")),s["default"].createElement(p.DropdownItemSep,null),s["default"].createElement(p.DropdownItem,null,s["default"].createElement("a",{onClick:this.handleLogoutClick,href:"#"},"退出")))):s["default"].createElement("div",{styleName:"nav--user"},s["default"].createElement("ul",{styleName:"nav-links"},s["default"].createElement("li",{styleName:"nav-item"},s["default"].createElement(f.Link,{styleName:"nav-link",to:"/signin"},"登录")),s["default"].createElement("li",{styleName:"nav-item"},s["default"].createElement(f.Link,{styleName:"nav-link",to:"/signup"},"注册")))))))}}]),t}(c.Component);O=v([(0,m["default"])(_,{allowMultiple:!0})],O),t["default"]=O},235:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(234),i=o(r);t["default"]=i["default"]},238:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=n(1),s=o(c),f=n(50),d=o(f),p=n(2),y=o(p),b=function(e,t,n,o){var r,i=arguments.length,u=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(u=(3>i?r(u):i>3?r(t,n,u):r(t,n))||u);return i>3&&u&&Object.defineProperty(t,n,u),u},h=n(336),m=function(e){function t(){return r(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),a(t,[{key:"render",value:function(){return s["default"].createElement("div",{className:"colophon",styleName:"colophon"},s["default"].createElement(d["default"],null,s["default"].createElement("p",null,"© 2015－2016 readrweb.com, all rights reserved")))}}]),t}(c.Component);m=b([(0,y["default"])(h,{allowMultiple:!0})],m),t["default"]=m},239:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(238),i=o(r);t["default"]=i["default"]},240:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=n(1),s=o(c),f=n(14),d=n(50),p=o(d),y=n(148),b=n(2),h=o(b),m=n(146),v=o(m),_=function(e,t,n,o){var r,i=arguments.length,u=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(u=(3>i?r(u):i>3?r(t,n,u):r(t,n))||u);return i>3&&u&&Object.defineProperty(t,n,u),u},O=n(345),g=function(e){function t(e){r(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={isDropdownMenuVisible:!1},n}return u(t,e),a(t,[{key:"toggleDropdownMenu",value:function(){this.setState({isDropdownMenuVisible:!this.state.isDropdownMenuVisible})}},{key:"render",value:function(){var e=this.props.username,t=this.props.isAdmin?this.props.isAdmin:"false";return s["default"].createElement("div",{styleName:"branding"},s["default"].createElement(p["default"],{isFluid:!0,className:"clearfix"},s["default"].createElement("div",null,s["default"].createElement(v["default"],{to:"/console"}),s["default"].createElement("div",{styleName:"sub-name"},s["default"].createElement("span",{styleName:"sub"},"Console")),s["default"].createElement("div",{styleName:"nav right"},e?s["default"].createElement(y.Dropdown,{style:"dark",title:s["default"].createElement("span",null,e,t&&s["default"].createElement("span",{className:"badge badge--dark"},"Admin"))},s["default"].createElement(y.DropdownItem,null,s["default"].createElement(f.Link,{to:"/"},"回到 Readr")),s["default"].createElement(y.DropdownItem,null,s["default"].createElement(f.Link,{to:"/user/profile"},"个人主页")),s["default"].createElement(y.DropdownItem,null,s["default"].createElement(f.Link,{to:"/user/preference"},"设置")),s["default"].createElement(y.DropdownItemSep,null),s["default"].createElement(y.DropdownItem,null,s["default"].createElement("a",{href:"/logout"},"退出"))):s["default"].createElement("ul",{className:"nav-links"},s["default"].createElement("li",null,s["default"].createElement(f.Link,{to:"/signin"},"登录")),s["default"].createElement("li",null,s["default"].createElement(f.Link,{to:"/signup"},"注册")))))))}}]),t}(c.Component);g=_([(0,h["default"])(O,{allowMultiple:!0})],g),t["default"]=g},241:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(240),i=o(r);t["default"]=i["default"]},242:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=n(1),s=o(c),f=n(14),d=n(27),p=o(d),y=n(2),b=o(y),h=function(e,t,n,o){var r,i=arguments.length,u=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(u=(3>i?r(u):i>3?r(t,n,u):r(t,n))||u);return i>3&&u&&Object.defineProperty(t,n,u),u},m=n(337),v=function(e){function t(e){return r(this,t),i(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),a(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.menuMapping,n=e.currentPath,o={rootIndex:0,subIndex:0};t.forEach(function(e,t){var r=void 0,i=e.subMenu.filter(function(e,t){return e.path===n?(r=t,!0):void 0});i.length>0&&(o.rootIndex=t,o.subIndex=r)});var r=s["default"].createElement("ul",{styleName:"nav-side-root"},t.map(function(e,t){return s["default"].createElement("li",{key:t,styleName:t!==o.rootIndex?"root-item":"root-item--current"},s["default"].createElement(f.Link,{to:e.path},s["default"].createElement(p["default"],{size:25,styleName:"icon",name:e.component})))})),i=s["default"].createElement("ul",{styleName:"nav-side-sub"},t[o.rootIndex].subMenu.map(function(e,t){return s["default"].createElement("li",{key:t,styleName:t!==o.subIndex?"sub-item":"sub-item--current"},s["default"].createElement(f.Link,{to:e.path},e.displayName))}));return s["default"].createElement("div",{styleName:"sidebar-left"},r,i)}}]),t}(c.Component);v=h([(0,b["default"])(m,{allowMultiple:!0})],v),t["default"]=v},243:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(242),i=o(r);t["default"]=i["default"]},244:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){return u["default"].createElement("h1",{className:l["logo-wrap"]},u["default"].createElement(a.Link,{className:l.logo,to:e.to},"readr"))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),u=o(i),a=n(14),l=n(338);t["default"]=r},245:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=o(l),s=n(8),f=n(235),d=o(f),p=n(239),y=o(p),b=n(10),h=n(71),m=o(h),v=function(e){function t(e){return r(this,t),i(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),a(t,[{key:"handleLogout",value:function(){m["default"].logout().then(function(){location.href=location.href})}},{key:"componentDidMount",value:function(){"visitor"!==this.props.session.user.role&&this.props.fetchShelf()}},{key:"componentWillReceiveProps",value:function(e){var t="visitor"===this.props.session.user.role&&"visitor"!==e.session.user.role;t&&this.props.fetchShelf()}},{key:"render",value:function(){var e=!1,t=null;"visitor"!==this.props.session.user.role&&(e="admin"===this.props.session.user.role,t=this.props.session.user.username);var n=this.props.bookShelf,o=n.map(function(e){return{title:e.title,id:e.id}});return c["default"].createElement("div",null,c["default"].createElement(d["default"],{recentReading:o,isAdmin:e,username:t,onLogout:this.handleLogout}),this.props.children,c["default"].createElement(y["default"],null))}}]),t}(l.Component);t["default"]=(0,s.connect)(function(e){return{notification:e.components.notification,session:e.session,bookShelf:e.payloads.bookShelf||[]}},{fetchShelf:b.fetchShelf})(v)},246:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=o(l),s=n(8),f=function(e){function t(e){return r(this,t),i(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),a(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return c["default"].createElement("div",null,this.props.children)}}]),t}(l.Component);t["default"]=(0,s.connect)(function(e){return{elements:e.elements,routing:e.routing.locationBeforeTransitions}},{})(f)},247:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=n(1),s=o(c),f=n(8),d=n(50),p=o(d),y=n(241),b=o(y),h=n(10),m=n(243),v=o(m),_=n(250),O=o(_),g=n(2),w=o(g),E=function(e,t,n,o){var r,i=arguments.length,u=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(u=(3>i?r(u):i>3?r(t,n,u):r(t,n))||u);return i>3&&u&&Object.defineProperty(t,n,u),u},S=n(339),j=function(e){function t(){return r(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),a(t,[{key:"componentDidMount",value:function(){this.props.userAuth()}},{key:"render",value:function(){var e="admin"===this.props.session.user.role,t=this.props.session.user.username?this.props.session.user.username:null,n=this.props.routing.locationBeforeTransitions?this.props.routing.locationBeforeTransitions.pathname:"console";return s["default"].createElement("div",null,s["default"].createElement(b["default"],{isAdmin:e,username:t}),s["default"].createElement(p["default"],{isFluid:!0},s["default"].createElement(v["default"],{menuMapping:O["default"],currentPath:n}),s["default"].createElement("div",{styleName:"content"},this.props.children)))}}]),t}(c.Component);j=E([(0,w["default"])(S,{allowMultiple:!0})],j),t["default"]=(0,f.connect)(function(e){return{notifications:e.components.notifications,session:e.session,routing:e.routing}},{sendNotification:h.sendNotification,userAuth:h.userAuth})(j)},248:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(247),i=o(r);t["default"]=i["default"]},249:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=o(l),s=n(8),f=n(14),d=n(10),p=n(252),y=n(25),b=o(y),h=n(254),m=o(h),v=function(e){
function t(e){return r(this,t),i(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),a(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.errorMessage.length!==e.errorMessage.length,n=e.routing.locationBeforeTransitions.pathname!==this.props.routing.locationBeforeTransitions.pathname;t&&this.props.sendNotification(b["default"].last(e.errorMessage),"error"),n&&-1!==e.routing.locationBeforeTransitions.pathname.indexOf("console")&&"admin"!==this.props.session.user.role&&f.browserHistory.push("/")}},{key:"componentDidMount",value:function(){this.props.userAuth()}},{key:"render",value:function(){var e=this.props,t=e.dialog,n=e.closeDialog;return c["default"].createElement("div",{className:"app-root"},c["default"].createElement(m["default"],{isVisible:t.isVisible,title:t.title,onConfirm:t.onConfirm,onRequestClose:n,width:300},t.content),this.props.notifications.filter(function(e){return e.visible}).length>0&&c["default"].createElement(p.Alerts,{onRequestClose:this.props.hideNotification,messages:this.props.notifications.map(function(e){return{content:e.message,type:e.type,visible:e.visible,id:e.id}})}),this.props.children)}}]),t}(l.Component);t["default"]=(0,s.connect)(function(e){return{notifications:e.components.notifications,errorMessage:e.errorMessage,dialog:e.components.dialog,routing:e.routing,session:e.session}},{sendNotification:d.sendNotification,hideNotification:d.hideNotification,closeDialog:d.closeDialog,userAuth:d.userAuth})(v)},250:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[{component:"books",displayName:"",path:"/console/books",subMenu:[{component:"managebooks",displayName:"Manage Books",path:"/console/books"},{component:"addbook",displayName:"Add Book",path:"/console/books/new"},{component:"addcollection",displayName:"Add Collection",path:"/console/collections/new"}]},{component:"users",displayName:"",path:"/console/users",subMenu:[{component:"manageusers",displayName:"Manage Users",path:"/console/users"}]}];t["default"]=n},251:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){return u["default"].createElement("div",{className:c.alerts},e.messages.map(function(t,n){return u["default"].createElement(l["default"],{key:n,type:t.type,message:t.content,visible:t.visible,onRequestClose:function(){e.onRequestClose(t.id)}})}))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),u=o(i),a=n(147),l=o(a),c=n(156);t["default"]=r},252:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Alert=t.Alerts=void 0;var r=n(147),i=o(r),u=n(251),a=o(u);t.Alerts=a["default"],t.Alert=i["default"],t["default"]=i["default"]},253:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=o(l),s=n(149),f=o(s),d=n(30),p=o(d),y=function(e){function t(e){return r(this,t),i(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),a(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return c["default"].createElement(f["default"],{isVisible:this.props.isVisible,onRequestClose:this.props.onRequestClose,width:this.props.width},c["default"].createElement("div",{className:"dialog"},this.props.title&&c["default"].createElement("div",{className:"dialog-header"},c["default"].createElement("h1",{className:"dialog-title"},this.props.title)),c["default"].createElement("div",{className:"dialog-content"},this.props.children),c["default"].createElement("div",{className:"dialog-footer"},c["default"].createElement(p["default"],{color:"blue",onClick:this.props.onConfirm},"确认"),c["default"].createElement(p["default"],{onClick:this.props.onRequestClose},"取消"))))}}]),t}(l.Component);t["default"]=y},254:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(253),i=o(r);t["default"]=i["default"]},255:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){for(var n=t.parentNode;null!=n;){if(n===e)return!0;n=n.parentNode}return!1}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=n(1),f=o(s),d=n(2),p=o(d),y=function(e,t,n,o){var r,i=arguments.length,u=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(u=(3>i?r(u):i>3?r(t,n,u):r(t,n))||u);return i>3&&u&&Object.defineProperty(t,n,u),u},b=n(110),h=function(e){function t(e){r(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={showMenu:!1},n.toggleDropdown=n.toggleDropdown.bind(n),n.hideExpended=n.hideExpended.bind(n),n}return u(t,e),l(t,[{key:"toggleDropdown",value:function(e){this.setState({showMenu:!this.state.showMenu})}},{key:"hideExpended",value:function(e){a(this.dropdown,e.target)||this.setState({showMenu:!1})}},{key:"componentDidMount",value:function(){window.addEventListener("click",this.hideExpended)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.hideExpended)}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,o=t.style;return f["default"].createElement("div",{ref:function(t){e.dropdown=t},onClick:this.toggleDropdown,styleName:"dropdown",className:n||""},f["default"].createElement("span",{styleName:"dropdown-toggle"},this.props.title," ",f["default"].createElement("span",{styleName:"dropdown-caret"})),this.state.showMenu&&f["default"].createElement("div",{styleName:"dark"===o?"dropdown-menu--dark":"dropdown-menu"},f["default"].createElement("ul",null,this.props.children)))}}]),t}(s.Component);h=y([(0,p["default"])(b,{allowMultiple:!0})],h),t["default"]=h},256:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){return u["default"].createElement("li",null,"string"==typeof e.children?u["default"].createElement("div",{className:a["dropdown-item"]},e.children):u["default"].cloneElement(e.children,{className:a["dropdown-item"]}))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),u=o(i),a=n(110);t["default"]=r},257:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){return u["default"].createElement("li",{className:a.sep})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),u=o(i),a=n(110);t["default"]=r},258:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=n(1),s=o(c),f=n(28),d=o(f),p=n(259),y=o(p),b=n(2),h=o(b),m=Object.assign||function(e){for(var t,n=1,o=arguments.length;o>n;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},v=function(e,t,n,o){var r,i=arguments.length,u=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(u=(3>i?r(u):i>3?r(t,n,u):r(t,n))||u);return i>3&&u&&Object.defineProperty(t,n,u),u},_=n(340),O=function(e){function t(e){return r(this,t),i(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.onClick,o=e.size,r=(0,d["default"])("icon","icon-"+t,this.props.className);return"undefined"==typeof y["default"][t]&&console.error("Icon name (%s) not found! ",t),o=o||30,s["default"].createElement("span",{styleName:"icon",className:r,onClick:n},s["default"].createElement("svg",m({},y["default"][t].viewBox&&{viewBox:y["default"][t].viewBox},{width:o,height:o,styleName:"svg-shape"}),s["default"].createElement("path",{d:y["default"][t].path})))}}]),t}(c.Component);O=v([(0,h["default"])(_,{allowMultiple:!0})],O),t["default"]=O},259:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={close:{path:"M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z",viewBox:"0 0 12 16"},star:{path:"M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74z"},users:{path:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"},folder:{path:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"},database:{path:"M20.2 5.9l.8-.8C19.6 3.7 17.8 3 16 3s-3.6.7-5 2.1l.8.8C13 4.8 14.5 4.2 16 4.2s3 .6 4.2 1.7zm-.9.8c-.9-.9-2.1-1.4-3.3-1.4s-2.4.5-3.3 1.4l.8.8c.7-.7 1.6-1 2.5-1 .9 0 1.8.3 2.5 1l.8-.8zM19 13h-2V9h-2v4H5c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2zM8 18H6v-2h2v2zm3.5 0h-2v-2h2v2zm3.5 0h-2v-2h2v2z"},statistics:{path:"M21 2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7v2H8v2h8v-2h-2v-2h7c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H3V4h18v12z"},books:{path:"M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z"},back:{path:"m 26,25 c -0.467574,0 -0.909434,0.16865 -1.25,0.4375 C 24.555279,25.591215 6.6130516,42.546285 6.46875,42.71875 6.1782332,43.06596 6,43.51187 6,44 6,44.51946 6.2065566,44.98818 6.53125,45.34375 6.6683992,45.493941 24.625,62.4375 24.625,62.4375 c 0.759842,0.725152 2.121842,0.700421 2.84375,-0.0625 0.721908,-0.76293 0.672244,-2.125099 -0.09375,-2.84375 L 13.03125,46 64,46 c 13.888871,0 25.660392,11.63955 26,26.03125 0.0035,0.140557 0,0.77485 0,0.96875 0,1.108 0.892,2 2,2 1.108,0 2,-0.892 2,-2 l 0,-1.0625 C 93.610208,55.4194 80.118529,42 64,42 L 13.03125,42 C 13.03125,42 27.362732,28.495959 27.5,28.34375 27.81971,27.98925 28,27.51497 28,27 28,25.89543 27.104569,25 26,25 z",viewBox:"0 0 100 125"},preference:{path:"M 17.78125 8.96875 A 2.0002 2.0002 0 0 0 16 11 L 16 56.25 C 12.008188 57.168302 9 60.741406 9 65 C 9 69.259224 12.007427 72.863534 16 73.78125 L 16 89 A 2.0002 2.0002 0 1 0 20 89 L 20 73.78125 C 23.992573 72.863534 27 69.259224 27 65 C 27 60.741406 23.991812 57.168302 20 56.25 L 20 11 A 2.0002 2.0002 0 0 0 17.78125 8.96875 z M 49.78125 8.96875 A 2.0002 2.0002 0 0 0 48 11 L 48 26.25 C 44.008188 27.168305 41 30.741423 41 35 C 41 39.25912 44.007427 42.863511 48 43.78125 L 48 89 A 2.0002 2.0002 0 1 0 52 89 L 52 43.78125 C 55.992573 42.863511 59 39.25912 59 35 C 59 30.741423 55.991812 27.168305 52 26.25 L 52 11 A 2.0002 2.0002 0 0 0 49.78125 8.96875 z M 81.78125 8.96875 A 2.0002 2.0002 0 0 0 80 11 L 80 56.25 C 76.008188 57.168302 73 60.741406 73 65 C 73 69.259224 76.007427 72.863534 80 73.78125 L 80 89 A 2.0002 2.0002 0 1 0 84 89 L 84 73.78125 C 87.992573 72.863534 91 69.259224 91 65 C 91 60.741406 87.991812 57.168302 84 56.25 L 84 11 A 2.0002 2.0002 0 0 0 81.78125 8.96875 z M 50 30 C 52.785116 30 55 32.21488 55 35 C 55 37.78512 52.785116 40 50 40 C 47.214884 40 45 37.78512 45 35 C 45 32.21488 47.214884 30 50 30 z M 18 60 C 20.785116 60 23 62.2149 23 65 C 23 67.7852 20.785116 70 18 70 C 15.214884 70 13 67.7852 13 65 C 13 62.2149 15.214884 60 18 60 z M 82 60 C 84.785116 60 87 62.2149 87 65 C 87 67.7852 84.785116 70 82 70 C 79.214884 70 77 67.7852 77 65 C 77 62.2149 79.214884 60 82 60 z ",viewBox:"0 0 100 125"},font:{path:"M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74z"},arrowRight:{path:"M-290.9,430.1l-0.7-0.7l8.2-8.6l-8.2-8.2l0.7-0.7l8.9,8.9L-290.9,430.1z",viewBox:"-292 411.9 11 18"}}},262:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=n(1),s=o(c),f=n(116),d=o(f),p=n(154),y=o(p),b=n(150),h=o(b),m=n(2),v=o(m),_=function(e,t,n,o){var r,i=arguments.length,u=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(u=(3>i?r(u):i>3?r(t,n,u):r(t,n))||u);return i>3&&u&&Object.defineProperty(t,n,u),u},O=n(346),g=function(e){function t(e){r(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={modalHeight:0,isModalHidden:!1,isModalVerticalCenter:!0},n.setView=n.setView.bind(n),n.hideModal=n.hideModal.bind(n),n}return u(t,e),a(t,[{key:"hideModal",value:function(){this.props.onRequestClose(),y["default"].unlockScroll(),window.removeEventListener("resize",this.setView)}},{key:"setView",value:function(){var e=d["default"].findDOMNode(this.modal).clientHeight,t=!0,n=document.body.clientHeight;window.innerHeight<e&&(t=!1),window.innerHeight>document.body.clientHeight&&(n=window.innerHeight),this.setState({modalHeight:e,isModalVerticalCenter:t,documentHeight:n})}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){}},{key:"componentDidUpdate",value:function(e){e.isVisible||this.props.isVisible!==!0||(this.setView(),y["default"].lockScroll(),window.addEventListener("resize",this.setView)),e.isVisible===!0&&this.props.isVisible===!1&&(window.removeEventListener("resize",this.setView),this.hideModal())}},{key:"componentUnmount",value:function(){window.removeEventListener("resize",this.setView)}},{key:"render",value:function(){var e=this,t="modal",n="modal-"+(new Date).valueOf(),o=this.props.className?t+" "+this.props.className:t,r=this.props.width?this.props.width:500,i=this.state.modalHeight,u={backdrop:{},verticalCenter:{},scroll:{},modal:{}},a=this.props.isVisible?this.props.isVisible:!1;return u.backdrop={position:"fixed",height:"100%",width:"100%",left:0,top:0,background:"rgba(0, 0, 0, 0.23)",overflow:"scroll"},u.verticalCenter={width:r,marginTop:-i/2,marginLeft:-r/2,position:"absolute",left:"50%",top:"50%"},u.scroll={width:r,margin:"50px auto"},u.modal={},this.state.isModalVerticalCenter?u.modal=Object.assign({},u.modal,u.verticalCenter):u.modal=Object.assign({},u.modal,u.scroll),s["default"].createElement(h["default"],null,a===!0?s["default"].createElement("div",{onClick:function(t){t.target.querySelector("#"+n)&&e.hideModal()},styleName:"modal-backdrop",style:u.backdrop},s["default"].createElement("div",{id:n,style:u.modal,className:o,styleName:"modal",ref:function(t){e.modal=t}},this.props.children)):null)}}]),t}(c.Component);g=_([(0,v["default"])(O)],g),t["default"]=g},263:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),c=o(l),s=n(172),f=o(s),d=n(341),p=function(e){function t(e){return r(this,t),i(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),a(t,[{key:"render",value:function(){return c["default"].createElement(f["default"],{component:"div",transitionName:d,transitionEnterTimeout:300,transitionLeaveTimeout:300},this.props.children)}}]),t}(l.Component);t["default"]=p},264:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=n(1),f=o(s),d=n(14),p=n(2),y=o(p),b=n(28),h=o(b),m=n(25),v=o(m),_=Object.assign||function(e){for(var t,n=1,o=arguments.length;o>n;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},O=function(e,t,n,o){var r,i=arguments.length,u=3>i?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(u=(3>i?r(u):i>3?r(t,n,u):r(t,n))||u);return i>3&&u&&Object.defineProperty(t,n,u),u},g=n(347),w=function(e){function t(e){i(this,t);var n=u(this,Object.getPrototypeOf(t).call(this,e));return n.state={isMouseOver:!1},n}return a(t,e),l(t,[{key:"render",value:function(){var e,t=this,n=this.props,o=n.onClick,i=n.className,u=n.color,a=n.size,l=n.isFluid,c=n.width,s={},p=(0,h["default"])((e={btn:!0,"btn--hover":this.state.isMouseOver,"btn--fluid":l},r(e,"btn--"+u,Boolean(u)),r(e,"btn--"+a,Boolean(a)),e));o=this.props.to?function(e){e.preventDefault(),d.browserHistory.push(t.props.to)}:function(e){e.preventDefault(),t.props.onClick&&t.props.onClick(e)},"undefined"!=typeof c&&(s={width:c});var y=(0,v["default"])(this.props).omit(["to","color","size","isFluid","width"]).assign({},{className:i||"",onClick:o,style:s}).value();return f["default"].createElement("button",_({},y,{styleName:p,onMouseOver:function(){t.setState({isMouseOver:!0})},onMouseOut:function(){t.setState({isMouseOver:!1})}}),this.props.children)}}]),t}(s.Component);w=O([(0,y["default"])(g,{allowMultiple:!0})],w),w.defaultProps={color:"blue"},t["default"]=w},266:function(e,t,n){"use strict";e.exports={path:"books/new",getComponent:function(e,t){n.e(9,function(e){t(null,n(265)["default"])})}}},268:function(e,t,n){"use strict";e.exports={path:"collections/new",getComponent:function(e,t){n.e(8,function(e){t(null,n(267)["default"])})}}},270:function(e,t,n){"use strict";e.exports={path:"/",getComponent:function(e,t){n.e(1,function(e){t(null,n(269)["default"])})}}},272:function(e,t,n){"use strict";e.exports={path:"book/:id",getComponent:function(e,t){n.e(7,function(e){t(null,n(271)["default"])})}}},274:function(e,t,n){"use strict";e.exports={path:"browse",getComponent:function(e,t){n.e(3,function(e){t(null,n(273)["default"])})}}},276:function(e,t,n){"use strict";e.exports={path:"collections/:id",getComponent:function(e,t){n.e(2,function(e){t(null,n(275)["default"])})}}},278:function(e,t,n){"use strict";e.exports={path:"collections",getComponent:function(e,t){n.e(13,function(e){t(null,n(277)["default"])})}}},280:function(e,t,n){"use strict";e.exports={path:"books",getComponent:function(e,t){n.e(14,function(e){t(null,n(279)["default"])})}}},282:function(e,t,n){"use strict";e.exports={path:"users",getComponent:function(e,t){n.e(16,function(e){t(null,n(281)["default"])})}}},284:function(e,t,n){"use strict";e.exports={path:"*",getComponent:function(e,t){n.e(15,function(e){t(null,n(283)["default"])})}}},288:function(e,t,n){"use strict";e.exports={path:"preference",getComponent:function(e,t){n.e(12,function(e){t(null,n(285)["default"])})}}},290:function(e,t,n){"use strict";e.exports={path:"profile",getComponent:function(e,t){n.e(6,function(e){t(null,n(289)["default"])})}}},292:function(e,t,n){"use strict";e.exports={path:"shelf",getComponent:function(e,t){n.e(4,function(e){t(null,n(291)["default"])})}}},294:function(e,t,n){"use strict";e.exports={path:"signin",getComponent:function(e,t){n.e(11,function(e){t(null,n(293)["default"])})}}},296:function(e,t,n){"use strict";e.exports={path:"signup",getComponent:function(e,t){n.e(10,function(e){t(null,n(295)["default"])})}}},305:function(e,t,n){"use strict";e.exports={path:"viewer/book/:id",getComponent:function(e,t){n.e(5,function(e){t(null,n(300)["default"])})}}},306:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(249),i=o(r),u=n(246),a=o(u),l=n(245),c=o(l),s=n(248),f=o(s);t["default"]={component:i["default"],childRoutes:[{component:a["default"],childRoutes:[n(305),{component:c["default"],childRoutes:[n(270),n(274),n(272),n(278),n(276),n(294),n(296),{path:"user",childRoutes:[n(292),n(288),n(290)]}]},{component:f["default"],path:"console",childRoutes:[n(280),n(282),n(266),n(268),n(284)]}]}]}},307:function(e,t,n){"use strict";function o(){var e=arguments.length<=0||void 0===arguments[0]?{flowType:"newest",page:1}:arguments[0],t=e.flowType,n=e.page;return{flowType:t,CALL_API:{types:["BOOKS_REQUEST","BOOKS_SUCCESS","BOOKS_FAILURE"],endpoint:"books?exclude=content&page="+n,schema:a.Schemas.BOOK_ARRAY}}}function r(e,t){var n="books/"+e;return t&&(n+="?fields="+t.join(",")),{bookId:e,CALL_API:{types:["BOOK_REQUEST","BOOK_SUCCESS","BOOK_FAILURE"],endpoint:n,schema:a.Schemas.BOOK}}}function i(){var e=arguments.length<=0||void 0===arguments[0]?"newest":arguments[0];return{flowType:e,CALL_API:{types:["COLLECTIONS_REQUEST","COLLECTIONS_SUCCESS","COLLECTIONS_FAILURE"],endpoint:"collections",schema:a.Schemas.COLLECTION_ARRAY}}}function u(e){return{collectionId:e,CALL_API:{types:["COLLECTION_REQUEST","COLLECTION_SUCCESS","COLLECTION_FAILURE"],endpoint:"collections/"+e,schema:a.Schemas.COLLECTION}}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchBooks=o,t.fetchBook=r,t.fetchCollections=i,t.fetchCollection=u;var a=n(152)},308:function(e,t){"use strict";function n(e){var t=arguments.length<=1||void 0===arguments[1]?"success":arguments[1],n=arguments.length<=2||void 0===arguments[2]?2e3:arguments[2];return function(i,u){var a=Math.random().toFixed(8).substr(2);i(o(a,e,t)),0!==n&&setTimeout(function(){i(r(a))},n)}}function o(e,t){var n=arguments.length<=2||void 0===arguments[2]?"success":arguments[2];return{type:c,message:t,msgType:n,id:e}}function r(e){return{type:s,id:e}}function i(e){return{type:"OPEN_DIALOG",data:e}}function u(){return{type:"CLOSE_DIALOG"}}function a(e){return{type:"OPEN_BASIC_MODAL",data:e}}function l(){return{type:"CLOSE_BASIC_MODAL"}}Object.defineProperty(t,"__esModule",{value:!0}),t.sendNotification=n,t.showNotification=o,t.hideNotification=r,t.openDialog=i,t.closeDialog=u,t.openBasicModal=a,t.closeBasicModal=l;var c=t.SHOW_NOTIFICATION="SHOW_NOTIFICATION",s=t.HIDE_NOTIFICATION="HIDE_NOTIFICATION"},309:function(e,t,n){"use strict";function o(){return{CALL_API:{types:["USER_AUTH_REQUEST","USER_AUTH_SUCCESS","USER_AUTH_FAILURE"],endpoint:"auth"}}}function r(){return{payload:"profile",CALL_API:{types:["PROFILE_REQUEST","PROFILE_SUCCESS","PROFILE_FAILURE"],endpoint:"user/profile"}}}function i(){return{CALL_API:{types:["USER_LIST_REQUEST","USER_LIST_SUCCESS","USER_LIST_FAILURE"],endpoint:"users",schema:l.Schemas.USER_ARRAY}}}function u(){return{payload:"bookShelf",CALL_API:{types:["SHELF_REQUEST","SHELF_SUCCESS","SHELF_FAILURE"],endpoint:"user/books/shelf"}}}function a(e){return{bookId:e,payload:"progress",CALL_API:{types:["PROGRESS_REQUEST","PROGRESS_SUCCESS","PROGRESS_FAILURE"],endpoint:"user/books/"+e+"/progress"}}}Object.defineProperty(t,"__esModule",{value:!0}),t.userAuth=o,t.fetchProfile=r,t.fetchUserList=i,t.fetchShelf=u,t.fetchProgress=a;var l=n(152)},310:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=void 0;return e="undefined"==typeof window?(0,i.createStore)(c["default"],{},(0,i.applyMiddleware)(f["default"],a["default"],p["default"])):"production"===v?(0,i.createStore)(c["default"],(0,b["default"])(),(0,i.applyMiddleware)(f["default"],a["default"],p["default"])):(0,i.createStore)(c["default"],(0,b["default"])(),(0,i.compose)((0,i.applyMiddleware)(f["default"],a["default"],p["default"],(0,m["default"])({collapsed:!0}))))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var i=n(80),u=n(227),a=o(u),l=n(314),c=o(l),s=n(311),f=o(s),d=n(312),p=o(d),y=n(317),b=o(y),h=n(538),m=o(h),v="production"},311:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(o=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);o=!0);}catch(l){r=!0,i=l}finally{try{!o&&a["return"]&&a["return"]()}finally{if(r)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(82),u=o(i),a=n(74),l=o(a);t["default"]=function(e){return function(t){return function(n){function o(e){var t=Object.assign({},n,e);return delete t.CALL_API,t}var i=n.CALL_API;if("undefined"==typeof i)return t(n);var a=i.endpoint,c=i.apiUrl,s=i.extendedOptions,f=i.types,d=i.schema,p=r(f,3),y=p[0],b=p[1],h=p[2];t(o({type:y})),"function"==typeof a&&(a=a(e.getState())),"undefined"==typeof c&&(c=l["default"].LOCAL);var m=c+a,v={schema:d};return"undefined"!=typeof s&&(v=Object.assign({},v,s)),(0,u["default"])(m,v).then(function(e){return t(function(t){return t(o({response:e,type:b})),{ok:!0,response:e}})},function(e){return t(function(t){return t(o({type:h,error:e.message||"发生未知 API 错误！(Code 1000)"})),{ok:!1,error:{message:e.message}}})})}}}},312:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return function(e){return function(t){switch(t.type){case"DOUBAN_BOOK_SEARCH_SUCCESS":t.response.result=t.response.result.books}e(t)}}}},313:function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments[1];return"HIDE_NOTIFICATION"===t.type?e.map(function(e){return e.id===t.id?Object.assign({},e,{visible:!1}):e}):"SHOW_NOTIFICATION"===t.type?[].concat(o(e),[{visible:!0,message:t.message,type:t.msgType,id:t.id}]):e}function i(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];return"OPEN_DIALOG"===t.type?Object.assign({},e,{isVisible:!0},t.data):"CLOSE_DIALOG"===t.type?{isVisible:!1}:e}function u(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];return"OPEN_BASIC_MODAL"===t.type?Object.assign({},e,{isVisible:!0},t.data):"CLOSE_BASIC_MODAL"===t.type?{isVisible:!1}:e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(80),l=(0,a.combineReducers)({notifications:r,dialog:i,basicModal:u});t["default"]=l},314:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){var e=arguments.length<=0||void 0===arguments[0]?{books:{},users:{},bookCollections:{}}:arguments[0],t=arguments[1];
return t.response&&t.response.entities?v["default"].merge({},e,t.response.entities):e}function a(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];return(t.response||t.error)&&t.payload?v["default"].assign({},e,i({},t.payload,t.response)):e}function l(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments[1],n=t.error;return n?[].concat(r(e),[t.error]):e}function c(){var e=arguments.length<=0||void 0===arguments[0]?{user:{role:"visitor"}}:arguments[0],t=arguments[1];switch(t.type){case"USER_AUTH_REQUEST":return Object.assign({},e,{isFetching:!0});case"USER_AUTH_SUCCESS":return Object.assign({},e,{isFetching:!1,user:t.response});case"USER_AUTH_FAILURE":return Object.assign({},e,{isFetching:!1,user:t.response});default:return e}}function s(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];return"CHANGE_VALUE"===t.type?Object.assign({},e,i({},t.name,Object.assign({},e[t.name],{value:t.value}))):"UPDATE_ELEMENT"===t.type?Object.assign({},e,i({},t.name,Object.assign({},e[t.name],t.data))):e}Object.defineProperty(t,"__esModule",{value:!0});var f=n(80),d=n(117),p=n(313),y=o(p),b=n(315),h=o(b),m=n(25),v=o(m),_=(0,f.combineReducers)({books:(0,h["default"])({mapActionToKey:function(e){return e.flowType},types:["BOOKS_REQUEST","BOOKS_SUCCESS","BOOKS_FAILURE"]}),bookCollections:(0,h["default"])({mapActionToKey:function(e){return e.flowType},types:["COLLECTIONS_REQUEST","COLLECTIONS_SUCCESS","COLLECTIONS_FAILURE"]}),userList:(0,h["default"])({mapActionToKey:function(e){return"all"},types:["USER_LIST_REQUEST","USER_LIST_SUCCESS","USER_LIST_FAILURE"]}),doubanBookSearchResults:(0,h["default"])({mapActionToKey:function(e){return e.query},types:["DOUBAN_BOOK_SEARCH_REQUEST","DOUBAN_BOOK_SEARCH_SUCCESS","DOUBAN_BOOK_SEARCH_FAILURE"]}),bookSearchResults:(0,h["default"])({mapActionToKey:function(e){return e.query},types:["BOOK_SEARCH_REQUEST","BOOK_SEARCH_SUCCESS","BOOK_SEARCH_FAILURE"]})}),O=(0,f.combineReducers)({payloads:a,components:y["default"],elements:s,routing:d.routerReducer,entities:u,errorMessage:l,pagination:_,session:c});t["default"]=O},315:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{isFetching:!1,nextPageUrl:null,pageCount:0,ids:[]}:arguments[0],t=arguments[1];switch(t.type){case a:return Object.assign({},e,{isFetching:!0});case c:return Object.assign({},e,{isFetching:!1,ids:l["default"].union(e.ids,t.response.result),nextPageUrl:t.response.nextPageUrl,nextPage:t.response.nextPage,pageCount:e.pageCount+1});case s:return Object.assign({},e,{isFetching:!1});default:return e}}var n=e.types,o=e.mapActionToKey,i=u(n,3),a=i[0],c=i[1],s=i[2];return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments[1];switch(n.type){case a:case c:case s:var i=o(n);if("string"!=typeof i)throw new Error("Expected key to be a string.");var u=Object.assign({},e,r({},i,t(e[i],n)));return u;default:return e}}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(o=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);o=!0);}catch(l){r=!0,i=l}finally{try{!o&&a["return"]&&a["return"]()}finally{if(r)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t["default"]=i;var a=n(25),l=o(a)},316:function(e,t){"use strict";function n(){return"undefined"==typeof window?(console.error("window is undefined, empty info object will be returned!"),{view:{},screen:{}}):{view:{width:window.innerWidth,height:window.innerHeight,aspectRatio:window.innerWidth/window.innerHeight},screen:window.screen}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},317:function(e,t){"use strict";function n(){var e=void 0;return"undefined"!=typeof window.__INITIAL_STATE__&&(e=window.__INITIAL_STATE__),e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},318:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(-1!==e.indexOf("douban")){var n=function(){var n=(new Date).valueOf(),o="jsonp-"+n,r="jsonpCallback"+n,i="__JSONP_DATA_"+n+"__";window[r]=function(e){window[i]=e};var u=document.createElement("script");return u.setAttribute("src",e+"&callback="+r),u.setAttribute("id",o),document.body.appendChild(u),{v:new Promise(function(e){u.onload=function(){document.body.removeChild(document.getElementById(o));var n=window[i];e((0,a["default"])({json:n},t.schema))}})}}();if("object"===("undefined"==typeof n?"undefined":i(n)))return n.v}}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=n(153),a=o(u);t["default"]=r},319:function(e,t){"use strict";function n(){document.body.style.overflow="hidden"}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},320:function(e,t){"use strict";function n(e){var t=e.split("&"),n={};return t.forEach(function(e){var t=e.split("=")[0],o=e.split("=")[1];n[t]=o}),n}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},321:function(e,t){"use strict";function n(){document.body.style.overflow="visible"}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},336:function(e,t){e.exports={colophon:"colophon_FVdSR"}},337:function(e,t){e.exports={"sidebar-left":"sidebar-left_2Nfva","nav-side":"nav-side_3L8f6","nav-side-root":"nav-side-root_1_PBg nav-side_3L8f6","nav-side-root--current":"nav-side-root--current_3BV5t nav-side-root_1_PBg nav-side_3L8f6","nav-side-sub":"nav-side-sub_5Q_f5 nav-side_3L8f6","nav-item":"nav-item_2r1zn",icon:"icon_26PwG","root-item":"root-item_VPwuM nav-item_2r1zn","root-item--current":"root-item--current_3LMnD root-item_VPwuM nav-item_2r1zn","sub-item":"sub-item_waA-O nav-item_2r1zn","sub-item--current":"sub-item--current_3CzmM sub-item_waA-O nav-item_2r1zn"}},338:function(e,t){e.exports={"logo-wrap":"logo-wrap_CP5P9",logo:"logo_3qcbV"}},339:function(e,t){e.exports={content:"content_2oBQl"}},340:function(e,t){e.exports={"svg-shape":"svg-shape_30-k0",icon:"icon_VsVR4"}},341:function(e,t){e.exports={enter:"enter_1c4SW",enterActive:"enterActive_nCJQw",leave:"leave_1oTp_",leaveActive:"leaveActive_3hTgH"}},344:function(e,t){e.exports={"nav-link":"nav-link_3X0T8",branding:"branding_8EVAt","dropdown-menu":"dropdown-menu_5Sc50",username:"username_3Mm6z","nav-links":"nav-links_2wTYY",nav:"nav_1oj1z","nav--user":"nav--user_1L7Lb","dropdown-recent-reading":"dropdown-recent-reading_2oyjH","nav-item":"nav-item_f83bh","recent-reading":"recent-reading_1kJKh"}},345:function(e,t){e.exports={branding:"branding_3goRG",sep:"sep_AT6Gl",sub:"sub_Iyhms",right:"right_1ZAQP","sub-name":"sub-name_2T8ah",nav:"nav_10yn4 nav_1oj1z"}},346:function(e,t){e.exports={modal:"modal_uwXiR","icon-close":"icon-close_2uQN5","modal-backdrop":"modal-backdrop_29NrH","modal-header":"modal-header_3Ab1N","modal-footer":"modal-footer_3jnrI","modal-body":"modal-body_GggaJ","modal-title":"modal-title_3DcAt","modal-sub-title":"modal-sub-title_3hGWi","btn-red":"btn-red_33SHU"}},347:function(e,t){e.exports={btn:"btn_2aW__",focus:"focus_2Y5ov",active:"active_jFdNZ",disabled:"disabled_2NFJX","btn--hover":"btn--hover_344mi","btn--blue":"btn--blue_1nEIM","btn--orange":"btn--orange_v4x5_","btn--red":"btn--red_2gsfS","btn--white":"btn--white_3rWF3"}},538:function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function r(e,t,r,i){switch("undefined"==typeof e?"undefined":o(e)){case"object":return"function"==typeof e[i]?e[i].apply(e,n(r)):e[i];case"function":return e(t);default:return e}}function i(){function e(){C.forEach(function(e,t){var n=e.started,i=e.startedTime,a=e.action,c=e.prevState,s=e.error,d=e.took,p=e.nextState,b=C[t+1];b&&(p=b.prevState,d=b.started-n);var m=g(a),v="function"==typeof f?f(function(){return p},a):f,_=l(i),O=j.title?"color: "+j.title(m)+";":null,w="action "+(h?_:"")+" "+m.type+" "+(y?"(in "+d.toFixed(2)+" ms)":"");try{v?j.title?u.groupCollapsed("%c "+w,O):u.groupCollapsed(w):j.title?u.group("%c "+w,O):u.group(w)}catch(E){u.log(w)}var S=r(o,m,[c],"prevState"),M=r(o,m,[m],"action"),P=r(o,m,[s,c],"error"),A=r(o,m,[p],"nextState");S&&(j.prevState?u[S]("%c prev state","color: "+j.prevState(c)+"; font-weight: bold",c):u[S]("prev state",c)),M&&(j.action?u[M]("%c action","color: "+j.action(m)+"; font-weight: bold",m):u[M]("action",m)),s&&P&&(j.error?u[P]("%c error","color: "+j.error(s,c)+"; font-weight: bold",s):u[P]("error",s)),A&&(j.nextState?u[A]("%c next state","color: "+j.nextState(p)+"; font-weight: bold",p):u[A]("next state",p));try{u.groupEnd()}catch(E){u.log("—— log end ——")}}),C.length=0}var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.level,o=void 0===n?"log":n,i=t.logger,u=void 0===i?console:i,a=t.logErrors,s=void 0===a?!0:a,f=t.collapsed,d=t.predicate,p=t.duration,y=void 0===p?!1:p,b=t.timestamp,h=void 0===b?!0:b,m=t.transformer,v=t.stateTransformer,_=void 0===v?function(e){return e}:v,O=t.actionTransformer,g=void 0===O?function(e){return e}:O,w=t.errorTransformer,E=void 0===w?function(e){return e}:w,S=t.colors,j=void 0===S?{title:function(){return"#000000"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}}:S;if("undefined"==typeof u)return function(){return function(e){return function(t){return e(t)}}};m&&console.error("Option 'transformer' is deprecated, use stateTransformer instead");var C=[];return function(t){var n=t.getState;return function(t){return function(o){if("function"==typeof d&&!d(n,o))return t(o);var r={};C.push(r),r.started=c.now(),r.startedTime=new Date,r.prevState=_(n()),r.action=o;var i=void 0;if(s)try{i=t(o)}catch(u){r.error=E(u)}else i=t(o);if(r.took=c.now()-r.started,r.nextState=_(n()),e(),r.error)throw r.error;return i}}}}var u=function(e,t){return new Array(t+1).join(e)},a=function(e,t){return u("0",t-e.toString().length)+e},l=function(e){return"@ "+a(e.getHours(),2)+":"+a(e.getMinutes(),2)+":"+a(e.getSeconds(),2)+"."+a(e.getMilliseconds(),3)},c="undefined"!=typeof performance&&"function"==typeof performance.now?performance:Date;e.exports=i}});