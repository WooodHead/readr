webpackJsonp([10],{151:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(152),l=o(r);t["default"]=l["default"]},152:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=n(3),f=o(c),s=n(82),p=o(s),d=function(e,t,n,o){var r,l=arguments.length,a=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(3>l?r(a):l>3?r(t,n,a):r(t,n))||a);return l>3&&a&&Object.defineProperty(t,n,a),a},y=n(153),m=function(e){function t(e){return r(this,t),l(this,Object.getPrototypeOf(t).call(this,e))}return a(t,e),i(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,o=t.className;"string"==typeof this.props.value&&(n="1"===n||"true"===n);var r=Boolean(n)?"on":"off";return f["default"].createElement("div",{className:o||"",styleName:"switcher-wrap"},this.props.title&&f["default"].createElement("span",null,this.props.title),f["default"].createElement("div",{onClick:function(t){if(e.props.onChange){var n=void 0;if(e.props.options){var o=e.props.options.map(function(e){return e.value}).indexOf(e.props.value);1===o?n=e.props.options[0].value:0===o?n=e.props.options[1].value:(n=e.props.options[0].value,console.error("当前数据有误，将使用默认数据！"))}else"string"==typeof e.props.value?console.error("没有给 options 时必须使用布尔型的 value！"):n=!e.props.value;e.props.onChange(n)}},styleName:"switcher--"+r},f["default"].createElement("div",{styleName:"switcher-button"}),f["default"].createElement("div",{styleName:"switcher-track"})))}}]),t}(c.Component);m=d([(0,p["default"])(y,{allowMultiple:!0})],m),t["default"]=m},153:function(e,t){e.exports={"switcher-wrap":"switcher-wrap_3UMAU",switcher:"switcher_G3n4_","switcher--off":"switcher--off_1EoOU","switcher--on":"switcher--on_2xiwO","switcher-button":"switcher-button_2kHGL","switcher-track":"switcher-track_xvhjg"}},217:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(3),c=o(u),f=n(7),s=n(8),p=n(18),d=o(p),y=n(218),m=o(y),h=Object.assign||function(e){for(var t,n=1,o=arguments.length;o>n;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},b=function(e){function t(e){r(this,t);var n=l(this,Object.getPrototypeOf(t).call(this,e));return n.state={showFav:!0},n}return a(t,e),i(t,[{key:"componentDidMount",value:function(){this.props.fetchProfile()}},{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){return c["default"].createElement(m["default"],h({},this.props.profile))}}]),t}(u.Component);t["default"]=(0,f.connect)(function(e){return{profile:d["default"].get(e.payloads,"profile",{})}},{sendNotification:s.sendNotification,fetchProfile:s.fetchProfile})(b)},218:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(219),l=o(r);t["default"]=l["default"]},219:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=n(3),f=o(c),s=n(151),p=o(s),d=n(82),y=o(d),m=function(e,t,n,o){var r,l=arguments.length,a=3>l?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(3>l?r(a):l>3?r(t,n,a):r(t,n))||a);return l>3&&a&&Object.defineProperty(t,n,a),a},h=n(220),b=function(e){function t(e){return r(this,t),l(this,Object.getPrototypeOf(t).call(this,e))}return a(t,e),i(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,n=t.username,o=t.email,r=(t.encriptedPassword,t.showFav);return f["default"].createElement("div",{styleName:"settings"},f["default"].createElement("div",{className:"page-content"},f["default"].createElement("div",{className:"page-header"},f["default"].createElement("h1",{style:{marginBottom:0},className:"page-title"},"设置"),f["default"].createElement("span",null,"功能开发中，暂为只读")),f["default"].createElement("ul",{styleName:"options"},f["default"].createElement("li",{styleName:"option"},f["default"].createElement("h2",null,"用户名"),f["default"].createElement("span",{styleName:"option-input"},"readrweb.com/@",f["default"].createElement("strong",null,n)),f["default"].createElement("span",{styleName:"edit"},"编辑")),f["default"].createElement("li",{styleName:"option"},f["default"].createElement("h2",null,"邮箱"),f["default"].createElement("span",{styleName:"option-input"},o),f["default"].createElement("span",{styleName:"edit"},"编辑")),f["default"].createElement("li",{styleName:"option"},f["default"].createElement("h2",null,"密码"),f["default"].createElement("span",{styleName:"option-input"},"******"),f["default"].createElement("span",{styleName:"edit"},"编辑")),f["default"].createElement("li",{styleName:"option"},f["default"].createElement("h2",null,"公开展示我的收藏"),f["default"].createElement("span",{styleName:"option-desc"},"关闭后其他用户将无法查看您的收藏"),f["default"].createElement(p["default"],{styleName:"switcher",value:r,onChange:function(t){e.setState({showFav:t})}})))))}}]),t}(c.Component);b=m([(0,y["default"])(h,{allowMultiple:!0})],b),t["default"]=b},220:function(e,t){e.exports={settings:"settings_239Dg",options:"options_ADPll",option:"option_aC25y","option-input":"option-input_1K3I6","option-desc":"option-desc_3wAfQ","user-avatar":"user-avatar_1g7D4",edit:"edit_kzVtT",switcher:"switcher_sb9M0"}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vMTAuMTAuanMiLCJ3ZWJwYWNrOi8vL3NyYy9pc29tb3JwaGljL2VsZW1lbnRzL1N3aXRjaGVyL2luZGV4LnRzPzRkMGYiLCJ3ZWJwYWNrOi8vL3NyYy9pc29tb3JwaGljL2VsZW1lbnRzL1N3aXRjaGVyL1N3aXRjaGVyLnRzeD9jM2VjIiwid2VicGFjazovLy8uL3NyYy9pc29tb3JwaGljL2VsZW1lbnRzL1N3aXRjaGVyL19zd2l0Y2hlci5zY3NzPzBkY2UiLCJ3ZWJwYWNrOi8vL3NyYy9pc29tb3JwaGljL3JvdXRlcy9QcmVmZXJlbmNlL1ByZWZlcmVuY2UudHN4Iiwid2VicGFjazovLy9zcmMvaXNvbW9ycGhpYy9yb3V0ZXMvUHJlZmVyZW5jZS9QcmVmZXJlbmNlTGlzdC9pbmRleC50cyIsIndlYnBhY2s6Ly8vc3JjL2lzb21vcnBoaWMvcm91dGVzL1ByZWZlcmVuY2UvUHJlZmVyZW5jZUxpc3QvUHJlZmVyZW5jZUxpc3QudHN4Iiwid2VicGFjazovLy8uL3NyYy9pc29tb3JwaGljL3JvdXRlcy9QcmVmZXJlbmNlL1ByZWZlcmVuY2VMaXN0L19wcmVmZXJlbmNlLWxpc3Quc2NzcyJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnAiLDE1MSwibW9kdWxlIiwiZXhwb3J0cyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiX1N3aXRjaGVyIiwiX1N3aXRjaGVyMiIsMTUyLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJzZWxmIiwiY2FsbCIsIlJlZmVyZW5jZUVycm9yIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwicHJvdG90eXBlIiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwia2V5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX3R5cGVvZiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiX3JlYWN0IiwiX3JlYWN0MiIsIl9yZWFjdENzc01vZHVsZXMiLCJfcmVhY3RDc3NNb2R1bGVzMiIsIl9fZGVjb3JhdGUiLCJkZWNvcmF0b3JzIiwiZGVzYyIsImQiLCJjIiwiYXJndW1lbnRzIiwiciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIlJlZmxlY3QiLCJkZWNvcmF0ZSIsInN0eWxlcyIsIlN3aXRjaGVyIiwiX0NvbXBvbmVudCIsInRoaXMiLCJnZXRQcm90b3R5cGVPZiIsIl90aGlzMiIsIl9wcm9wcyIsImlzT24iLCJjbGFzc05hbWUiLCJzdGF0ZSIsIkJvb2xlYW4iLCJjcmVhdGVFbGVtZW50Iiwic3R5bGVOYW1lIiwidGl0bGUiLCJvbkNsaWNrIiwiZSIsIm9uQ2hhbmdlIiwibmV3VmFsdWUiLCJvcHRpb25zIiwiY3VycmVudFZhbHVlSW5kZXgiLCJtYXAiLCJvcHRpb24iLCJpbmRleE9mIiwiY29uc29sZSIsImVycm9yIiwiQ29tcG9uZW50IiwiYWxsb3dNdWx0aXBsZSIsMTUzLCJzd2l0Y2hlci13cmFwIiwic3dpdGNoZXIiLCJzd2l0Y2hlci0tb2ZmIiwic3dpdGNoZXItLW9uIiwic3dpdGNoZXItYnV0dG9uIiwic3dpdGNoZXItdHJhY2siLDIxNywiX3JlYWN0UmVkdXgiLCJfYWN0aW9ucyIsIl9sb2Rhc2giLCJfbG9kYXNoMiIsIl9QcmVmZXJlbmNlTGlzdCIsIl9QcmVmZXJlbmNlTGlzdDIiLCJfX2Fzc2lnbiIsImFzc2lnbiIsInQiLCJzIiwibiIsInAiLCJoYXNPd25Qcm9wZXJ0eSIsIlByZWZlcmVuY2UiLCJfdGhpcyIsInNob3dGYXYiLCJmZXRjaFByb2ZpbGUiLCJuZXh0UHJvcHMiLCJwcm9maWxlIiwiY29ubmVjdCIsImdldCIsInBheWxvYWRzIiwic2VuZE5vdGlmaWNhdGlvbiIsMjE4LDIxOSwiUHJlZmVyZW5jZUxpc3QiLCJ1c2VybmFtZSIsImVtYWlsIiwiZW5jcmlwdGVkUGFzc3dvcmQiLCJzdHlsZSIsIm1hcmdpbkJvdHRvbSIsInNldFN0YXRlIiwyMjAsInNldHRpbmdzIiwib3B0aW9uLWlucHV0Iiwib3B0aW9uLWRlc2MiLCJ1c2VyLWF2YXRhciIsImVkaXQiXSwibWFwcGluZ3MiOiJBQUFBQSxjQUFjLEtBRVJDLElBQ0EsU0FBU0MsRUFBUUMsRUFBU0MsR0FFL0IsWUFVQSxTQUFTQyxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFTRixHQVJ2RkcsT0FBT0MsZUFBZVAsRUFBUyxjQUM3QlEsT0FBTyxHQ1BhLElBQUFDLEdBQUFSLEVBQUEsS0RZbEJTLEVBQWFSLEVBQXVCTyxFQUl4Q1QsY0FBa0JVLGNBSWJDLElBQ0EsU0FBU1osRUFBUUMsRUFBU0MsR0FFL0IsWUFrQkEsU0FBU0MsR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBU0YsR0FFdkYsUUFBU1MsR0FBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSUMsV0FBVSxxQ0FFaEgsUUFBU0MsR0FBMkJDLEVBQU1DLEdBQVEsSUFBS0QsRUFBUSxLQUFNLElBQUlFLGdCQUFlLDREQUFnRSxRQUFPRCxHQUF5QixnQkFBVEEsSUFBcUMsa0JBQVRBLEdBQThCRCxFQUFQQyxFQUVsTyxRQUFTRSxHQUFVQyxFQUFVQyxHQUFjLEdBQTBCLGtCQUFmQSxJQUE0QyxPQUFmQSxFQUF1QixLQUFNLElBQUlQLFdBQVUsaUVBQW9FTyxHQUFlRCxHQUFTRSxVQUFZakIsT0FBT2tCLE9BQU9GLEdBQWNBLEVBQVdDLFdBQWFFLGFBQWVqQixN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QyxVQUFjLGVBQXdCLG9CQUFBekIsYUFDNUN3QixjQUFBM0QsY0FDRTRELFVBQVcsV0FDZjlELE1BQVVvRyxFQUNQbEMsU0FBQSxTQUFBQyxHQUNGWixFQUFTNkQsVUFDSmhCLFFBVTFCakMsZUFyRHFDMkMsR04yU25DMUUsRUFBT3VDLFVNOVNWbUMsR0FBQXRFLElBQUEsRUFBQUQsY0FBa0JXLEdBQ0gwQixlQUNiLEtBd0RGa0MsR053UEN0SCxhTXhQNEJzSCxHTjRQdkJPLElBQ0EsU0FBUzlILEVBQVFDLEdPclV2QkQsRUFBQUMsU0FBa0I4SCxTQUFBLGlCQUFBbEQsUUFBQSxnQkFBQUcsT0FBQSxlQUFBZ0QsZUFBQSxxQkFBQUMsY0FBQSxvQkFBQUMsY0FBQSxvQkFBQUMsS0FBQSxhQUFBM0MsU0FBQSIsImZpbGUiOiIxMC4xMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIndlYnBhY2tKc29ucChbMTBdLHtcblxuLyoqKi8gMTUxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX1N3aXRjaGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTIpO1xuXHRcblx0dmFyIF9Td2l0Y2hlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Td2l0Y2hlcik7XG5cblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuXHRleHBvcnRzLmRlZmF1bHQgPSBfU3dpdGNoZXIyLmRlZmF1bHQ7XG5cbi8qKiovIH0sXG5cbi8qKiovIDE1Mjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0Q3NzTW9kdWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oODIpO1xuXHRcblx0dmFyIF9yZWFjdENzc01vZHVsZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RDc3NNb2R1bGVzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBfX2RlY29yYXRlID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2RlY29yYXRlIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuXHQgICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLFxuXHQgICAgICAgIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLFxuXHQgICAgICAgIGQ7XG5cdCAgICBpZiAoKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoUmVmbGVjdCkpID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdCAgICAgICAgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcblx0ICAgIH1yZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xuXHR9O1xuXHRcblx0dmFyIHN0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTUzKTtcblx0dmFyIFN3aXRjaGVyID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAgIF9pbmhlcml0cyhTd2l0Y2hlciwgX0NvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gU3dpdGNoZXIocHJvcHMpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3dpdGNoZXIpO1xuXHRcblx0ICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgT2JqZWN0LmdldFByb3RvdHlwZU9mKFN3aXRjaGVyKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKFN3aXRjaGVyLCBbe1xuXHQgICAgICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHt9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcInJlbmRlclwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICAgICAgICAgIHZhciBpc09uID0gX3Byb3BzLnZhbHVlO1xuXHQgICAgICAgICAgICB2YXIgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZTtcblx0XG5cdCAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5wcm9wcy52YWx1ZSA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChpc09uID09PSAnMScgfHwgaXNPbiA9PT0gJ3RydWUnKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaXNPbiA9IHRydWU7XG5cdCAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgIGlzT24gPSBmYWxzZTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB2YXIgc3RhdGUgPSBCb29sZWFuKGlzT24pID8gJ29uJyA6ICdvZmYnO1xuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSB8fCAnJywgc3R5bGVOYW1lOiBcInN3aXRjaGVyLXdyYXBcIiB9LCB0aGlzLnByb3BzLnRpdGxlICYmIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCB0aGlzLnByb3BzLnRpdGxlKSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLnByb3BzLm9uQ2hhbmdlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IHZvaWQgMDtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMi5wcm9wcy5vcHRpb25zKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudFZhbHVlSW5kZXggPSBfdGhpczIucHJvcHMub3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wdGlvbikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb24udmFsdWU7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5pbmRleE9mKF90aGlzMi5wcm9wcy52YWx1ZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFZhbHVlSW5kZXggPT09IDEpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZSA9IF90aGlzMi5wcm9wcy5vcHRpb25zWzBdLnZhbHVlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50VmFsdWVJbmRleCA9PT0gMCkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlID0gX3RoaXMyLnByb3BzLm9wdGlvbnNbMV0udmFsdWU7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlID0gX3RoaXMyLnByb3BzLm9wdGlvbnNbMF0udmFsdWU7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign5b2T5YmN5pWw5o2u5pyJ6K+v77yM5bCG5L2/55So6buY6K6k5pWw5o2u77yBJyk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIF90aGlzMi5wcm9wcy52YWx1ZSA9PT0gJ3N0cmluZycpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfmsqHmnInnu5kgb3B0aW9ucyDml7blv4Xpobvkvb/nlKjluIPlsJTlnovnmoQgdmFsdWXvvIEnKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3VmFsdWUgPSAhX3RoaXMyLnByb3BzLnZhbHVlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5wcm9wcy5vbkNoYW5nZShuZXdWYWx1ZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfSwgc3R5bGVOYW1lOiBcInN3aXRjaGVyLS1cIiArIHN0YXRlIH0sIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgc3R5bGVOYW1lOiBcInN3aXRjaGVyLWJ1dHRvblwiIH0pLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlTmFtZTogXCJzd2l0Y2hlci10cmFja1wiIH0pKSk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBTd2l0Y2hlcjtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0U3dpdGNoZXIgPSBfX2RlY29yYXRlKFsoMCwgX3JlYWN0Q3NzTW9kdWxlczIuZGVmYXVsdCkoc3R5bGVzLCB7XG5cdCAgICBhbGxvd011bHRpcGxlOiB0cnVlXG5cdH0pXSwgU3dpdGNoZXIpO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBTd2l0Y2hlcjtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTUzOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XCJzd2l0Y2hlci13cmFwXCI6XCJzd2l0Y2hlci13cmFwXzNVTUFVXCIsXCJzd2l0Y2hlclwiOlwic3dpdGNoZXJfRzNuNF9cIixcInN3aXRjaGVyLS1vZmZcIjpcInN3aXRjaGVyLS1vZmZfMUVvT1VcIixcInN3aXRjaGVyLS1vblwiOlwic3dpdGNoZXItLW9uXzJ4aXdPXCIsXCJzd2l0Y2hlci1idXR0b25cIjpcInN3aXRjaGVyLWJ1dHRvbl8ya0hHTFwiLFwic3dpdGNoZXItdHJhY2tcIjpcInN3aXRjaGVyLXRyYWNrX3h2aGpnXCJ9O1xuXG4vKioqLyB9LFxuXG4vKioqLyAyMTc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0UmVkdXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9hY3Rpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBfbG9kYXNoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5cdFxuXHR2YXIgX2xvZGFzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2Rhc2gpO1xuXHRcblx0dmFyIF9QcmVmZXJlbmNlTGlzdCA9IF9fd2VicGFja19yZXF1aXJlX18oMjE4KTtcblx0XG5cdHZhciBfUHJlZmVyZW5jZUxpc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUHJlZmVyZW5jZUxpc3QpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9fYXNzaWduID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2Fzc2lnbiB8fCBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0KSB7XG5cdCAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcblx0ICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuXHQgICAgICAgIGZvciAodmFyIHAgaW4gcykge1xuXHQgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdCAgICByZXR1cm4gdDtcblx0fTtcblx0XG5cdHZhciBQcmVmZXJlbmNlID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAgIF9pbmhlcml0cyhQcmVmZXJlbmNlLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgICAvLyBzdGF0aWMgZmV0Y2hEYXRhKHtzdG9yZSwgcGFyYW1zfSkge1xuXHQgICAgLy8gICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goZmV0Y2goKSlcblx0ICAgIC8vIH1cblx0XG5cdCAgICBmdW5jdGlvbiBQcmVmZXJlbmNlKHByb3BzKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByZWZlcmVuY2UpO1xuXHRcblx0ICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUHJlZmVyZW5jZSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHRcblx0ICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgICAgICAgc2hvd0ZhdjogdHJ1ZVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgcmV0dXJuIF90aGlzO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhQcmVmZXJlbmNlLCBbe1xuXHQgICAgICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50Jyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICAgICAgICAgIHRoaXMucHJvcHMuZmV0Y2hQcm9maWxlKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge31cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfUHJlZmVyZW5jZUxpc3QyLmRlZmF1bHQsIF9fYXNzaWduKHt9LCB0aGlzLnByb3BzLnByb2ZpbGUpKTtcblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIFByZWZlcmVuY2U7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSAoMCwgX3JlYWN0UmVkdXguY29ubmVjdCkoZnVuY3Rpb24gKHN0YXRlKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIHByb2ZpbGU6IF9sb2Rhc2gyLmRlZmF1bHQuZ2V0KHN0YXRlLnBheWxvYWRzLCAncHJvZmlsZScsIHt9KVxuXHQgICAgfTtcblx0fSwgeyBzZW5kTm90aWZpY2F0aW9uOiBfYWN0aW9ucy5zZW5kTm90aWZpY2F0aW9uLCBmZXRjaFByb2ZpbGU6IF9hY3Rpb25zLmZldGNoUHJvZmlsZSB9KShQcmVmZXJlbmNlKTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMjE4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX1ByZWZlcmVuY2VMaXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMTkpO1xuXHRcblx0dmFyIF9QcmVmZXJlbmNlTGlzdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QcmVmZXJlbmNlTGlzdCk7XG5cblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuXHRleHBvcnRzLmRlZmF1bHQgPSBfUHJlZmVyZW5jZUxpc3QyLmRlZmF1bHQ7XG5cbi8qKiovIH0sXG5cbi8qKiovIDIxOTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX1N3aXRjaGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTEpO1xuXHRcblx0dmFyIF9Td2l0Y2hlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Td2l0Y2hlcik7XG5cdFxuXHR2YXIgX3JlYWN0Q3NzTW9kdWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oODIpO1xuXHRcblx0dmFyIF9yZWFjdENzc01vZHVsZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RDc3NNb2R1bGVzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBfX2RlY29yYXRlID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2RlY29yYXRlIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuXHQgICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLFxuXHQgICAgICAgIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLFxuXHQgICAgICAgIGQ7XG5cdCAgICBpZiAoKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoUmVmbGVjdCkpID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdCAgICAgICAgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcblx0ICAgIH1yZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xuXHR9O1xuXHRcblx0dmFyIHN0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMjIwKTtcblx0dmFyIFByZWZlcmVuY2VMaXN0ID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAgIF9pbmhlcml0cyhQcmVmZXJlbmNlTGlzdCwgX0NvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gUHJlZmVyZW5jZUxpc3QocHJvcHMpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUHJlZmVyZW5jZUxpc3QpO1xuXHRcblx0ICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgT2JqZWN0LmdldFByb3RvdHlwZU9mKFByZWZlcmVuY2VMaXN0KS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKFByZWZlcmVuY2VMaXN0LCBbe1xuXHQgICAgICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHt9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcInJlbmRlclwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICAgICAgICAgIHZhciB1c2VybmFtZSA9IF9wcm9wcy51c2VybmFtZTtcblx0ICAgICAgICAgICAgdmFyIGVtYWlsID0gX3Byb3BzLmVtYWlsO1xuXHQgICAgICAgICAgICB2YXIgZW5jcmlwdGVkUGFzc3dvcmQgPSBfcHJvcHMuZW5jcmlwdGVkUGFzc3dvcmQ7XG5cdCAgICAgICAgICAgIHZhciBzaG93RmF2ID0gX3Byb3BzLnNob3dGYXY7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBzdHlsZU5hbWU6IFwic2V0dGluZ3NcIiB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJwYWdlLWNvbnRlbnRcIiB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJwYWdlLWhlYWRlclwiIH0sIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaDFcIiwgeyBzdHlsZTogeyBtYXJnaW5Cb3R0b206IDAgfSwgY2xhc3NOYW1lOiBcInBhZ2UtdGl0bGVcIiB9LCBcIuiuvue9rlwiKSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIFwi5Yqf6IO95byA5Y+R5Lit77yM5pqC5Li65Y+q6K+7XCIpKSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCB7IHN0eWxlTmFtZTogXCJvcHRpb25zXCIgfSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7IHN0eWxlTmFtZTogXCJvcHRpb25cIiB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImgyXCIsIG51bGwsIFwi55So5oi35ZCNXCIpLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBzdHlsZU5hbWU6IFwib3B0aW9uLWlucHV0XCIgfSwgXCJyZWFkcndlYi5jb20vQFwiLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInN0cm9uZ1wiLCBudWxsLCB1c2VybmFtZSkpLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBzdHlsZU5hbWU6IFwiZWRpdFwiIH0sIFwi57yW6L6RXCIpKSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7IHN0eWxlTmFtZTogXCJvcHRpb25cIiB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImgyXCIsIG51bGwsIFwi6YKu566xXCIpLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBzdHlsZU5hbWU6IFwib3B0aW9uLWlucHV0XCIgfSwgZW1haWwpLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBzdHlsZU5hbWU6IFwiZWRpdFwiIH0sIFwi57yW6L6RXCIpKSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7IHN0eWxlTmFtZTogXCJvcHRpb25cIiB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImgyXCIsIG51bGwsIFwi5a+G56CBXCIpLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBzdHlsZU5hbWU6IFwib3B0aW9uLWlucHV0XCIgfSwgXCIqKioqKipcIiksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IHN0eWxlTmFtZTogXCJlZGl0XCIgfSwgXCLnvJbovpFcIikpLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImxpXCIsIHsgc3R5bGVOYW1lOiBcIm9wdGlvblwiIH0sIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaDJcIiwgbnVsbCwgXCLlhazlvIDlsZXnpLrmiJHnmoTmlLbol49cIiksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IHN0eWxlTmFtZTogXCJvcHRpb24tZGVzY1wiIH0sIFwi5YWz6Zet5ZCO5YW25LuW55So5oi35bCG5peg5rOV5p+l55yL5oKo55qE5pS26JePXCIpLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfU3dpdGNoZXIyLmRlZmF1bHQsIHsgc3R5bGVOYW1lOiBcInN3aXRjaGVyXCIsIHZhbHVlOiBzaG93RmF2LCBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UobmV3VmFsdWUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBzaG93RmF2OiBuZXdWYWx1ZVxuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgfSB9KSkpKSk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBQcmVmZXJlbmNlTGlzdDtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0UHJlZmVyZW5jZUxpc3QgPSBfX2RlY29yYXRlKFsoMCwgX3JlYWN0Q3NzTW9kdWxlczIuZGVmYXVsdCkoc3R5bGVzLCB7XG5cdCAgICBhbGxvd011bHRpcGxlOiB0cnVlXG5cdH0pXSwgUHJlZmVyZW5jZUxpc3QpO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBQcmVmZXJlbmNlTGlzdDtcblxuLyoqKi8gfSxcblxuLyoqKi8gMjIwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XCJzZXR0aW5nc1wiOlwic2V0dGluZ3NfMjM5RGdcIixcIm9wdGlvbnNcIjpcIm9wdGlvbnNfQURQbGxcIixcIm9wdGlvblwiOlwib3B0aW9uX2FDMjV5XCIsXCJvcHRpb24taW5wdXRcIjpcIm9wdGlvbi1pbnB1dF8xSzNJNlwiLFwib3B0aW9uLWRlc2NcIjpcIm9wdGlvbi1kZXNjXzN3QWZRXCIsXCJ1c2VyLWF2YXRhclwiOlwidXNlci1hdmF0YXJfMWc3RDRcIixcImVkaXRcIjpcImVkaXRfa3pWdFRcIixcInN3aXRjaGVyXCI6XCJzd2l0Y2hlcl9zYjlNMFwifTtcblxuLyoqKi8gfVxuXG59KTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAxMC4xMC5qc1xuICoqLyIsImltcG9ydCBTd2l0Y2hlciBmcm9tICcuL1N3aXRjaGVyJ1xuZXhwb3J0IGRlZmF1bHQgU3dpdGNoZXJcblxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvU3dpdGNoZXIvaW5kZXgudHNcbiAqKi8iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgQ1NTTW9kdWxlcyBmcm9tICdyZWFjdC1jc3MtbW9kdWxlcydcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnXG5jb25zdCBzdHlsZXMgPSByZXF1aXJlKCcuL19zd2l0Y2hlci5zY3NzJylcblxuLy8gaW50ZXJmYWNlIFByb3BzIHtcbi8vICAgb246IGJvb2xlYW5cbi8vIH1cblxuaW50ZXJmYWNlIElQcm9wcyB7XG4gIHZhbHVlOiBzdHJpbmcgfCBib29sZWFuXG4gIHRpdGxlPzogc3RyaW5nXG4gIG9uQ2hhbmdlPzogKG5ld1ZhbHVlOiBzdHJpbmcgfCBib29sZWFuKSA9PiB2b2lkXG4gIG9wdGlvbnM/OiB7XG4gICAgbmFtZT86IHN0cmluZ1xuICAgIHZhbHVlOiBzdHJpbmcgfCBib29sZWFuXG4gIH1bXVxuICBjbGFzc05hbWU/OiBzdHJpbmdcbiAgc3R5bGVOYW1lPzogc3RyaW5nXG59XG5cbmludGVyZmFjZSBJU3RhdGUge1xufVxuXG5AQ1NTTW9kdWxlcyhzdHlsZXMsIHtcbiAgYWxsb3dNdWx0aXBsZTogdHJ1ZVxufSlcbmNsYXNzIFN3aXRjaGVyIGV4dGVuZHMgQ29tcG9uZW50PElQcm9wcywgSVN0YXRlPiB7XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGxldCB7IHZhbHVlOiBpc09uLCBjbGFzc05hbWUgfSA9IHRoaXMucHJvcHNcblxuICAgIGlmICh0eXBlb2YgdGhpcy5wcm9wcy52YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGlmIChpc09uID09PSAnMScgfHwgaXNPbiA9PT0gJ3RydWUnKSB7XG4gICAgICAgIGlzT24gPSB0cnVlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpc09uID0gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHN0YXRlID0gQm9vbGVhbihpc09uKSA/ICdvbicgOiAnb2ZmJ1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWUgfHwgJyd9IHN0eWxlTmFtZT1cInN3aXRjaGVyLXdyYXBcIj5cbiAgICAgICAge1xuICAgICAgICAgIHRoaXMucHJvcHMudGl0bGUgJiYgKFxuICAgICAgICAgICAgPHNwYW4+e3RoaXMucHJvcHMudGl0bGV9PC9zcGFuPlxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICA8ZGl2XG4gICAgICAgICAgb25DbGljaz17ZSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vbkNoYW5nZSkge1xuICAgICAgICAgICAgICBsZXQgbmV3VmFsdWVcblxuICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFZhbHVlSW5kZXggPSB0aGlzLnByb3BzLm9wdGlvbnMubWFwKG9wdGlvbiA9PiBvcHRpb24udmFsdWUpLmluZGV4T2YodGhpcy5wcm9wcy52YWx1ZSlcblxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VmFsdWVJbmRleCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgbmV3VmFsdWUgPSB0aGlzLnByb3BzLm9wdGlvbnNbMF0udmFsdWVcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRWYWx1ZUluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICBuZXdWYWx1ZSA9IHRoaXMucHJvcHMub3B0aW9uc1sxXS52YWx1ZVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBuZXdWYWx1ZSA9IHRoaXMucHJvcHMub3B0aW9uc1swXS52YWx1ZVxuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign5b2T5YmN5pWw5o2u5pyJ6K+v77yM5bCG5L2/55So6buY6K6k5pWw5o2u77yBJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnByb3BzLnZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign5rKh5pyJ57uZIG9wdGlvbnMg5pe25b+F6aG75L2/55So5biD5bCU5Z6L55qEIHZhbHVl77yBJylcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgbmV3VmFsdWUgPSAhdGhpcy5wcm9wcy52YWx1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UobmV3VmFsdWUpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfX1cbiAgICAgICAgICBzdHlsZU5hbWU9e2Bzd2l0Y2hlci0tJHtzdGF0ZX1gfVxuICAgICAgICA+XG4gICAgICAgICAgPGRpdiBzdHlsZU5hbWU9XCJzd2l0Y2hlci1idXR0b25cIj48L2Rpdj5cbiAgICAgICAgICA8ZGl2IHN0eWxlTmFtZT1cInN3aXRjaGVyLXRyYWNrXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbi8vIGNsYXNzIFN3aXRjaGVyIGV4dGVuZHMgQ29tcG9uZW50PFByb3BzLCBhbnk+IHtcblxuLy8gICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuLy8gICAgIHN1cGVyKHByb3BzKVxuLy8gICB9XG5cbi8vICAgcmVuZGVyKCkge1xuLy8gICAgIGxldCBjbGFzc05hbWUgPSB0aGlzLnByb3BzLm9uID8gJ29uJyA6ICdvZmYnXG4vLyAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lICsgJyBzd2l0Y2hlcidcblxuLy8gICAgIHJldHVybiAoXG4vLyAgICAgICA8ZGl2IHN0eWxlTmFtZT17dGhpcy5wcm9wcy5vbiA/ICdzd2l0Y2hlci0tb24nIDogJ3N3aXRjaGVyLS1vZmYnfT5cbi8vICAgICAgICAgPGRpdiBzdHlsZU5hbWU9XCJzd2l0Y2hlci1idXR0b25cIj48L2Rpdj5cbi8vICAgICAgICAgPGRpdiBzdHlsZU5hbWU9XCJzd2l0Y2hlci10cmFja1wiPjwvZGl2PlxuLy8gICAgICAgPC9kaXY+XG4vLyAgICAgKVxuLy8gICB9XG4vLyB9XG5cbmV4cG9ydCBkZWZhdWx0IFN3aXRjaGVyXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvU3dpdGNoZXIvU3dpdGNoZXIudHN4XG4gKiovIiwiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wic3dpdGNoZXItd3JhcFwiOlwic3dpdGNoZXItd3JhcF8zVU1BVVwiLFwic3dpdGNoZXJcIjpcInN3aXRjaGVyX0czbjRfXCIsXCJzd2l0Y2hlci0tb2ZmXCI6XCJzd2l0Y2hlci0tb2ZmXzFFb09VXCIsXCJzd2l0Y2hlci0tb25cIjpcInN3aXRjaGVyLS1vbl8yeGl3T1wiLFwic3dpdGNoZXItYnV0dG9uXCI6XCJzd2l0Y2hlci1idXR0b25fMmtIR0xcIixcInN3aXRjaGVyLXRyYWNrXCI6XCJzd2l0Y2hlci10cmFja194dmhqZ1wifTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvU3dpdGNoZXIvX3N3aXRjaGVyLnNjc3NcbiAqKiBtb2R1bGUgaWQgPSAxNTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMSAxMFxuICoqLyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCdcbmltcG9ydCB7IHNlbmROb3RpZmljYXRpb24sIGZldGNoUHJvZmlsZSB9IGZyb20gJy4uLy4uL3N0b3JlL2FjdGlvbnMnXG4vLyBpbXBvcnQgQm9keSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL0JvZHknXG4vLyBpbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyJ1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJ1xuaW1wb3J0IFByZWZlcmVuY2VMaXN0IGZyb20gJy4vUHJlZmVyZW5jZUxpc3QnXG5cbmludGVyZmFjZSBJQWxsUHJvcHMge1xuICBmZXRjaFByb2ZpbGU/OiBhbnlcbiAgcHJvZmlsZT86IGFueVxufVxuXG5pbnRlcmZhY2UgSVN0YXRlIHtcbiAgc2hvd0Zhdj86IGJvb2xlYW5cbn1cblxuY2xhc3MgUHJlZmVyZW5jZSBleHRlbmRzIENvbXBvbmVudDxJQWxsUHJvcHMsIElTdGF0ZT4ge1xuXG4gIC8vIHN0YXRpYyBmZXRjaERhdGEoe3N0b3JlLCBwYXJhbXN9KSB7XG4gIC8vICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKGZldGNoKCkpXG4gIC8vIH1cblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBzaG93RmF2OiB0cnVlXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5wcm9wcy5mZXRjaFByb2ZpbGUoKVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFByZWZlcmVuY2VMaXN0XG4gICAgICAgIHsuLi50aGlzLnByb3BzLnByb2ZpbGV9XG4gICAgICAvPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KFxuICBzdGF0ZSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb2ZpbGU6IF8uZ2V0KHN0YXRlLnBheWxvYWRzLCAncHJvZmlsZScsIHt9KVxuICAgIH1cbiAgfSxcbiAgeyBzZW5kTm90aWZpY2F0aW9uLCBmZXRjaFByb2ZpbGUgfVxuKShQcmVmZXJlbmNlIGFzIGFueSlcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9pc29tb3JwaGljL3JvdXRlcy9QcmVmZXJlbmNlL1ByZWZlcmVuY2UudHN4XG4gKiovIiwiaW1wb3J0IFByZWZlcmVuY2VMaXN0IGZyb20gJy4vUHJlZmVyZW5jZUxpc3QnXG5leHBvcnQgZGVmYXVsdCBQcmVmZXJlbmNlTGlzdFxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL2lzb21vcnBoaWMvcm91dGVzL1ByZWZlcmVuY2UvUHJlZmVyZW5jZUxpc3QvaW5kZXgudHNcbiAqKi8iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgU3dpdGNoZXIgZnJvbSAnLi4vLi4vLi4vZWxlbWVudHMvU3dpdGNoZXInXG5pbXBvcnQgQ1NTTW9kdWxlcyBmcm9tICdyZWFjdC1jc3MtbW9kdWxlcydcbmNvbnN0IHN0eWxlcyA9IHJlcXVpcmUoJy4vX3ByZWZlcmVuY2UtbGlzdC5zY3NzJylcblxuaW50ZXJmYWNlIElQcm9wcyB7XG4gIHVzZXJuYW1lOiBzdHJpbmdcbiAgZW1haWw6IHN0cmluZ1xuICBlbmNyaXB0ZWRQYXNzd29yZDogc3RyaW5nXG4gIHNob3dGYXY6IGJvb2xlYW5cbn1cblxuaW50ZXJmYWNlIElTdGF0ZSB7XG59XG5cbkBDU1NNb2R1bGVzKHN0eWxlcywge1xuICBhbGxvd011bHRpcGxlOiB0cnVlXG59KVxuY2xhc3MgUHJlZmVyZW5jZUxpc3QgZXh0ZW5kcyBDb21wb25lbnQ8SVByb3BzLCBJU3RhdGU+IHtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyB1c2VybmFtZSwgZW1haWwsIGVuY3JpcHRlZFBhc3N3b3JkLCBzaG93RmF2IH0gPSB0aGlzLnByb3BzXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBzdHlsZU5hbWU9XCJzZXR0aW5nc1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhZ2UtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxoMSBzdHlsZT17e21hcmdpbkJvdHRvbTogMH19IGNsYXNzTmFtZT1cInBhZ2UtdGl0bGVcIj7orr7nva48L2gxPlxuICAgICAgICAgICAgPHNwYW4+5Yqf6IO95byA5Y+R5Lit77yM5pqC5Li65Y+q6K+7PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDx1bCBzdHlsZU5hbWU9XCJvcHRpb25zXCI+XG4gICAgICAgICAgICA8bGkgc3R5bGVOYW1lPVwib3B0aW9uXCI+XG4gICAgICAgICAgICAgIDxoMj7nlKjmiLflkI08L2gyPlxuICAgICAgICAgICAgICA8c3BhbiBzdHlsZU5hbWU9XCJvcHRpb24taW5wdXRcIj5yZWFkcndlYi5jb20vQDxzdHJvbmc+e3VzZXJuYW1lfTwvc3Ryb25nPjwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gc3R5bGVOYW1lPVwiZWRpdFwiPue8lui+kTwvc3Bhbj5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8bGkgc3R5bGVOYW1lPVwib3B0aW9uXCI+XG4gICAgICAgICAgICAgIDxoMj7pgq7nrrE8L2gyPlxuICAgICAgICAgICAgICA8c3BhbiBzdHlsZU5hbWU9XCJvcHRpb24taW5wdXRcIj57ZW1haWx9PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBzdHlsZU5hbWU9XCJlZGl0XCI+57yW6L6RPC9zcGFuPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDxsaSBzdHlsZU5hbWU9XCJvcHRpb25cIj5cbiAgICAgICAgICAgICAgPGgyPuWvhueggTwvaDI+XG4gICAgICAgICAgICAgIDxzcGFuIHN0eWxlTmFtZT1cIm9wdGlvbi1pbnB1dFwiPioqKioqKjwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gc3R5bGVOYW1lPVwiZWRpdFwiPue8lui+kTwvc3Bhbj5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8bGkgc3R5bGVOYW1lPVwib3B0aW9uXCI+XG4gICAgICAgICAgICAgIDxoMj7lhazlvIDlsZXnpLrmiJHnmoTmlLbol488L2gyPlxuICAgICAgICAgICAgICA8c3BhbiBzdHlsZU5hbWU9XCJvcHRpb24tZGVzY1wiPuWFs+mXreWQjuWFtuS7lueUqOaIt+WwhuaXoOazleafpeeci+aCqOeahOaUtuiXjzwvc3Bhbj5cbiAgICAgICAgICAgICAgPFN3aXRjaGVyXG4gICAgICAgICAgICAgICAgc3R5bGVOYW1lPVwic3dpdGNoZXJcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtzaG93RmF2fVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtuZXdWYWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgc2hvd0ZhdjogbmV3VmFsdWUgYXMgYm9vbGVhblxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICA8L3VsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQcmVmZXJlbmNlTGlzdFxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL2lzb21vcnBoaWMvcm91dGVzL1ByZWZlcmVuY2UvUHJlZmVyZW5jZUxpc3QvUHJlZmVyZW5jZUxpc3QudHN4XG4gKiovIiwiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wic2V0dGluZ3NcIjpcInNldHRpbmdzXzIzOURnXCIsXCJvcHRpb25zXCI6XCJvcHRpb25zX0FEUGxsXCIsXCJvcHRpb25cIjpcIm9wdGlvbl9hQzI1eVwiLFwib3B0aW9uLWlucHV0XCI6XCJvcHRpb24taW5wdXRfMUszSTZcIixcIm9wdGlvbi1kZXNjXCI6XCJvcHRpb24tZGVzY18zd0FmUVwiLFwidXNlci1hdmF0YXJcIjpcInVzZXItYXZhdGFyXzFnN0Q0XCIsXCJlZGl0XCI6XCJlZGl0X2t6VnRUXCIsXCJzd2l0Y2hlclwiOlwic3dpdGNoZXJfc2I5TTBcIn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9pc29tb3JwaGljL3JvdXRlcy9QcmVmZXJlbmNlL1ByZWZlcmVuY2VMaXN0L19wcmVmZXJlbmNlLWxpc3Quc2Nzc1xuICoqIG1vZHVsZSBpZCA9IDIyMFxuICoqIG1vZHVsZSBjaHVua3MgPSAxMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=