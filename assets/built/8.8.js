webpackJsonp([8],{171:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Textarea=t.SelectizeInput=t.Input=t.Button=void 0;var r=n(96),a=o(r),u=n(172),i=o(u),l=n(175),s=o(l),c=n(178),p=o(c);t.Button=a["default"],t.Input=i["default"],t.SelectizeInput=s["default"],t.Textarea=p["default"]},172:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(173),a=o(r);t["default"]=a["default"]},173:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=n(3),c=o(s),p=n(82),f=o(p),d=function(e,t,n,o){var r,a=arguments.length,u=3>a?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(u=(3>a?r(u):a>3?r(t,n,u):r(t,n))||u);return a>3&&u&&Object.defineProperty(t,n,u),u},h=n(174),y=function(e){function t(e){return r(this,t),a(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),i(t,[{key:"render",value:function(){var e=this,t=Object.assign({},this.props);return delete t.className,c["default"].createElement("div",{styleName:"input-wrap",className:this.props.className||""},c["default"].createElement("input",{styleName:"input",placeholder:this.props.placeholder,value:this.props.value,onChange:function(t){e.props.onChange(t)},type:this.props.type?this.props.type:"text",name:this.props.name?this.props.name:null}))}}]),t}(s.Component);y=d([(0,f["default"])(h,{allowMultiple:!0})],y),t["default"]=y},174:function(e,t){e.exports={"input-wrap":"input-wrap_3dHA3",input:"input_2juBO"}},175:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(176),a=o(r);t["default"]=a["default"]},176:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=n(3),c=o(s),p=n(78),f=o(p),d=n(80),h=o(d),y=n(82),m=o(y),b=n(108),v=o(b),O=function(e,t,n,o){var r,a=arguments.length,u=3>a?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(u=(3>a?r(u):a>3?r(t,n,u):r(t,n))||u);return a>3&&u&&Object.defineProperty(t,n,u),u},g=n(177),w=function(e){function t(e){r(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.state={showOptions:!1,focus:!1,value:"",expendedOptionIndex:0},n.handleOutsideClick=n.handleOutsideClick.bind(n),n.focusInput=n.focusInput.bind(n),n.handleInputWrapClick=n.handleInputWrapClick.bind(n),n}return u(t,e),i(t,[{key:"addValue",value:function(e){this.props.onValuesChange(this.props.values.concat(e)),this.props.onOptionsChange&&this.props.onOptionsChange(this.props.options.map(function(t){return t.value===e.value?Object.assign({},t,{disabled:!0}):t})),this.clearInputValue(),"undefined"!=typeof this.props.stayFocused&&this.props.stayFocused===!1||this.focusInput(),this.setState({showOptions:!1})}},{key:"removeValue",value:function(e){var t=[],n=void 0;-1===e?(t=this.props.values.slice(0,this.props.values.length-1),n=this.props.values[this.props.values.length-1].value):t=this.props.values.filter(function(t,o){return n=t.value,o!==e}),this.props.onOptionsChange&&this.props.onOptionsChange(this.props.options.map(function(e){return e.value===n?Object.assign({},e,{disabled:!1}):e})),this.props.onValuesChange(t)}},{key:"clearInputValue",value:function(){this.props.onInputChange("")}},{key:"handleKeyPress",value:function(e){8!==e.keyCode||this.props.value||this.removeValue(-1)}},{key:"focusInput",value:function(){this.input.focus()}},{key:"handleOutsideClick",value:function(e){(0,v["default"])(this.inputWrap,e.target)||this.setState({showOptions:!1})}},{key:"handleInputWrapClick",value:function(){this.focusInput(),this.setState({showOptions:!0})}},{key:"componentDidMount",value:function(){window.addEventListener("click",this.handleOutsideClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handleOutsideClick)}},{key:"render",value:function(){var e=this,t=this.props,n=t.label,o=t.values,r=t.onAddNewValue,a=this.props.value||"",u=this.props.options||[],i=o.length>0?0===a.length?16:16*a.length:"100%",l=o.length>0?"":this.props.placeholder,s=(0,h["default"])({"selectize-input":!0,"selectize-input--focus":this.state.focus,"selectize-input--empty":0===o.length});return c["default"].createElement("div",{styleName:"selectize-wrap",className:this.props.className||""},n?c["default"].createElement("label",{className:"form-label"},n):null,c["default"].createElement("div",{styleName:s,onClick:this.handleInputWrapClick,ref:function(t){e.inputWrap=t}},o.map(function(t,n){return c["default"].createElement("span",{key:n,styleName:"selectize-tag"},t.name,c["default"].createElement(f["default"],{styleName:"icon-remove",size:20,name:"close",onClick:function(t){e.removeValue(n)}}))}),c["default"].createElement("input",{style:{width:i},ref:function(t){e.input=t},value:a,placeholder:l,onBlur:function(t){e.setState({focus:!1})},onFocus:function(t){e.setState({focus:!0})},onChange:function(t){e.props.onInputChange(t.target.value)},onKeyDown:function(t){e.handleKeyPress(t)}})),this.state.showOptions&&(0!==u.length||r)?c["default"].createElement("ul",{styleName:"query-results"},u.map(function(t,n){return t.disabled?c["default"].createElement("li",{key:n,className:"disabled"},t.name):c["default"].createElement("li",{key:n,onClick:function(n){e.addValue(t),e.props.onOptionClick&&e.props.onOptionClick(t)}},c["default"].createElement("span",null,t.name))}),r?c["default"].createElement("li",{onClick:function(t){r(e.props.value)},className:"add"},"添加 ",c["default"].createElement("strong",null,this.props.value)):null):null)}}]),t}(s.Component);w=O([(0,m["default"])(g,{allowMultiple:!0})],w),t["default"]=w},177:function(e,t){e.exports={"selectize-wrap":"selectize-wrap_3AMAi","selectize-input":"selectize-input_14bgP","selectize-input--focus":"selectize-input--focus_UnZ8B","selectize-input--empty":"selectize-input--empty_xn7Uy","query-results":"query-results_OgE2t","selectize-tag":"selectize-tag_3aD13","icon-remove":"icon-remove_1O7F_"}},178:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(179),a=o(r);t["default"]=a["default"]},179:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=n(3),c=o(s),p=n(82),f=o(p),d=function(e,t,n,o){var r,a=arguments.length,u=3>a?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(u=(3>a?r(u):a>3?r(t,n,u):r(t,n))||u);return a>3&&u&&Object.defineProperty(t,n,u),u},h=n(180),y=function(e){function t(e){return r(this,t),a(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),i(t,[{key:"render",value:function(){var e=this;return c["default"].createElement("div",{styleName:"textarea-wrap",className:this.props.className||""},c["default"].createElement("textarea",{placeholder:this.props.placeholder,value:this.props.value,onChange:function(t){e.props.onChange(t)},styleName:"textarea",type:this.props.type?this.props.type:"text",name:this.props.name?this.props.name:null}))}}]),t}(s.Component);y=d([(0,f["default"])(h,{allowMultiple:!0})],y),t["default"]=y},180:function(e,t){e.exports={"textarea-wrap":"textarea-wrap_Xkpj1 input-wrap_3dHA3",textarea:"textarea_1EdoS"}},209:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(3),c=o(s),p=n(7),f=n(4),d=n(15),h=n(121),y=o(h),m=n(8),b=n(171),v=n(134),O=o(v),g=function(e){function t(e){a(this,t);var n=u(this,Object.getPrototypeOf(t).call(this,e));return n.state={username:"",email:"",password:""},n}return i(t,e),l(t,[{key:"handleSignup",value:function(e){var t=this;e.preventDefault();var n={username:this.state.username,email:this.state.email,password:this.state.password};(0,y["default"])(d.ApiRoots.LOCAL+"users",{method:"POST",data:n}).then(function(e){t.props.sendNotification("注册成功！"),setTimeout(function(){f.browserHistory.push("/")},600)},function(e){t.props.sendNotification(e.message,"error")})}},{key:"handleInput",value:function(e){this.setState(r({},e.target.name,e.target.value))}},{key:"render",value:function(){return c["default"].createElement(O["default"],{title:"注册"},c["default"].createElement("form",{className:"content-container",method:"post",action:"/signup"},c["default"].createElement("h1",{className:"page-title"},"加入 Readr"),c["default"].createElement(b.Input,{onChange:this.handleInput.bind(this),value:this.state.username,name:"username",placeholder:"用户名"}),c["default"].createElement(b.Input,{onChange:this.handleInput.bind(this),value:this.state.email,name:"email",placeholder:"邮箱"}),c["default"].createElement(b.Input,{onChange:this.handleInput.bind(this),value:this.state.password,name:"password",placeholder:"密码 ",type:"password"}),c["default"].createElement(b.Button,{className:"z1",color:"blue",onClick:this.handleSignup.bind(this)},"注册"),c["default"].createElement("p",{className:"hint"},"已有账号？",c["default"].createElement(f.Link,{to:"/signin"},"登录"))))}}]),t}(s.Component);t["default"]=(0,p.connect)(function(e){return{notification:e.components.notification,user:e.user}},{sendNotification:m.sendNotification})(g)}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vOC44LmpzIiwid2VicGFjazovLy9zcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9pbmRleC50cz81MGQ3KioqKiIsIndlYnBhY2s6Ly8vc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvX2Zvcm0vSW5wdXQvaW5kZXgudHM/MjFkMyoqKioiLCJ3ZWJwYWNrOi8vL3NyYy9pc29tb3JwaGljL2VsZW1lbnRzL19mb3JtL0lucHV0L0lucHV0LnRzeD9kYTFkKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9JbnB1dC9JbnB1dC5jc3M/ZWRmNSoqKioiLCJ3ZWJwYWNrOi8vL3NyYy9pc29tb3JwaGljL2VsZW1lbnRzL19mb3JtL1NlbGVjdGl6ZUlucHV0L2luZGV4LnRzPzdlODAqKioqIiwid2VicGFjazovLy9zcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9TZWxlY3RpemVJbnB1dC9TZWxlY3RpemVJbnB1dC50c3g/NGU3MyoqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvX2Zvcm0vU2VsZWN0aXplSW5wdXQvU2VsZWN0aXplSW5wdXQuc2Nzcz9mMDg2KioqKiIsIndlYnBhY2s6Ly8vc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvX2Zvcm0vVGV4dGFyZWEvaW5kZXgudHM/YjgxMioqKioiLCJ3ZWJwYWNrOi8vL3NyYy9pc29tb3JwaGljL2VsZW1lbnRzL19mb3JtL1RleHRhcmVhL1RleHRhcmVhLnRzeD9jMmFmKioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9UZXh0YXJlYS9UZXh0YXJlYS5jc3M/ZDlmZioqKioiLCJ3ZWJwYWNrOi8vL3NyYy9pc29tb3JwaGljL3JvdXRlcy9TaWdudXAvU2lnbnVwLnRzeCJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnAiLDE3MSwibW9kdWxlIiwiZXhwb3J0cyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiVGV4dGFyZWEiLCJTZWxlY3RpemVJbnB1dCIsIklucHV0IiwiQnV0dG9uIiwidW5kZWZpbmVkIiwiX0J1dHRvbiIsIl9CdXR0b24yIiwiX0lucHV0IiwiX0lucHV0MiIsIl9TZWxlY3RpemVJbnB1dCIsIl9TZWxlY3RpemVJbnB1dDIiLCJfVGV4dGFyZWEiLCJfVGV4dGFyZWEyIiwxNzIsMTczLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJzZWxmIiwiY2FsbCIsIlJlZmVyZW5jZUVycm9yIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwicHJvdG90eXBlIiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwia2V5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX3R5cGVvZiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiX3JlYWN0IiwiX3JlYWN0MiIsIl9yZWFjdENzc01vZHVsZXMiLCJfcmVhY3RDc3NNb2R1bGVzMiIsIl9fZGVjb3JhdGUiLCJkZWNvcmF0b3JzIiwiZGVzYyIsImQiLCJjIiwiYXJndW1lbnRzIiwiciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIlJlZmxlY3QiLCJkZWNvcmF0ZSIsInN0eWxlcyIsIl9Db21wb25lbnQiLCJ0aGlzIiwiZ2V0UHJvdG90eXBlT2YiLCJfdGhpczIiLCJhc3NpZ24iLCJjbGFzc05hbWUiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGVOYW1lIiwicGxhY2Vob2xkZXIiLCJvbkNoYW5nZSIsImUiLCJ0eXBlIiwibmFtZSIsIkNvbXBvbmVudCIsImFsbG93TXVsdGlwbGUiLDE3NCwiaW5wdXQtd3JhcCIsImlucHV0IiwxNzUsMTc2LCJfSWNvbiIsIl9JY29uMiIsIl9jbGFzc25hbWVzIiwiX2NsYXNzbmFtZXMyIiwiX2lzRGVzY2VuZGFudCIsIl9pc0Rlc2NlbmRhbnQyIiwiX3RoaXMiLCJzdGF0ZSIsInNob3dPcHRpb25zIiwiZm9jdXMiLCJleHBlbmRlZE9wdGlvbkluZGV4IiwiaGFuZGxlT3V0c2lkZUNsaWNrIiwiYmluZCIsImZvY3VzSW5wdXQiLCJoYW5kbGVJbnB1dFdyYXBDbGljayIsIm5ld1ZhbHVlIiwib25WYWx1ZXNDaGFuZ2UiLCJ2YWx1ZXMiLCJjb25jYXQiLCJvbk9wdGlvbnNDaGFuZ2UiLCJvcHRpb25zIiwibWFwIiwib3B0aW9uIiwiZGlzYWJsZWQiLCJjbGVhcklucHV0VmFsdWUiLCJzdGF5Rm9jdXNlZCIsInNldFN0YXRlIiwiaW5kZXgiLCJuZXdWYWx1ZXMiLCJyZW1vdmVkVmFsdWUiLCJzbGljZSIsImZpbHRlciIsInYiLCJvbklucHV0Q2hhbmdlIiwia2V5Q29kZSIsInJlbW92ZVZhbHVlIiwiaW5wdXRXcmFwIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfcHJvcHMiLCJsYWJlbCIsIm9uQWRkTmV3VmFsdWUiLCJpbnB1dFdpZHRoIiwic2VsZWN0aXplSW5wdXRTdHlsZU5hbWUiLCJzZWxlY3RpemUtaW5wdXQiLCJzZWxlY3RpemUtaW5wdXQtLWZvY3VzIiwic2VsZWN0aXplLWlucHV0LS1lbXB0eSIsIm9uQ2xpY2siLCJyZWYiLCJfcmVmIiwic2l6ZSIsInN0eWxlIiwid2lkdGgiLCJfcmVmMiIsIm9uQmx1ciIsIm9uRm9jdXMiLCJvbktleURvd24iLCJoYW5kbGVLZXlQcmVzcyIsImFkZFZhbHVlIiwib25PcHRpb25DbGljayIsMTc3LCJzZWxlY3RpemUtd3JhcCIsInF1ZXJ5LXJlc3VsdHMiLCJzZWxlY3RpemUtdGFnIiwiaWNvbi1yZW1vdmUiLDE3OCwxNzksMTgwLCJ0ZXh0YXJlYS13cmFwIiwidGV4dGFyZWEiLDIwOSwiX2RlZmluZVByb3BlcnR5IiwiX3JlYWN0UmVkdXgiLCJfcmVhY3RSb3V0ZXIiLCJfY29uZmlnIiwiX2NhbGxBcGkiLCJfY2FsbEFwaTIiLCJfYWN0aW9ucyIsIl9mb3JtIiwiX0RvY0NvbnRhaW5lciIsIl9Eb2NDb250YWluZXIyIiwiU2lnbnVwIiwidXNlcm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInBhcmFtcyIsIkFwaVJvb3RzIiwiTE9DQUwiLCJtZXRob2QiLCJkYXRhIiwidGhlbiIsInJlcyIsInNlbmROb3RpZmljYXRpb24iLCJzZXRUaW1lb3V0IiwiYnJvd3Nlckhpc3RvcnkiLCJwdXNoIiwiZXJyIiwibWVzc2FnZSIsInRpdGxlIiwiYWN0aW9uIiwiaGFuZGxlSW5wdXQiLCJjb2xvciIsImhhbmRsZVNpZ251cCIsIkxpbmsiLCJ0byIsImNvbm5lY3QiLCJub3RpZmljYXRpb24iLCJjb21wb25lbnRzIiwidXNlciJdLCJtYXBwaW5ncyI6IkFBQUFBLGNBQWMsSUFFUkMsSUFDQSxTQUFTQyxFQUFRQyxFQUFTQyxHQUUvQixZQXVCQSxTQUFTQyxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFTRixHQXJCdkZHLE9BQU9DLGVBQWVQLEVBQVMsY0FDN0JRLE9BQU8sSUFFVFIsRUFBUVMsU0FBV1QsRUFBUVUsZUFBaUJWLEVBQVFXLE1BQVFYLEVBQVFZLE9BQVNDLE1DVmpELElBQUFDLEdBQUFiLEVBQUEsSURjeEJjLEVBQVdiLEVBQXVCWSxHQ2JaRSxFQUFBZixFQUFBLEtEaUJ0QmdCLEVBQVVmLEVBQXVCYyxHQ2hCT0UsRUFBQWpCLEVBQUEsS0RvQnhDa0IsRUFBbUJqQixFQUF1QmdCLEdDakIvQ0UsRUFBQW5CLEVBQUEs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LFNBQ0wxQyxNQUFPLFdXbmdCTCxNQUNMaUQsY0FBYW9CLGNBQUErRixjQUFNb0IsTUFBSyxNQUN0QnZJLGFBQUFvQixjQUFLLFFBQVVELFVBQW9CLG9CQUFPMEcsT0FBTyxPQUFPVyxPQUFVLFdBQ2hFeEksYUFBQW9CLGNBQUcsTUFBVUQsVUFBYSxjQUFjLFlBQ3hDbkIsYUFBTW9CLGNBQUE2RixFQUFBL0osT0FBU3FFLFNBQU1SLEtBQVkwSCxZQUFLM0YsS0FBUS9CLE1BQU1oRSxNQUFNZ0UsS0FBTTBCLE1BQVU0RSxTQUFLM0YsS0FBVyxXQUFZSixZQUFTLFFBQy9HdEIsYUFBTW9CLGNBQUE2RixFQUFBL0osT0FBU3FFLFNBQU1SLEtBQVkwSCxZQUFLM0YsS0FBUS9CLE1BQU1oRSxNQUFNZ0UsS0FBTTBCLE1BQU82RSxNQUFLNUYsS0FBUSxRQUFZSixZQUFRLE9BQ3hHdEIsYUFBTW9CLGNBQUE2RixFQUFBL0osT0FBU3FFLFNBQU1SLEtBQVkwSCxZQUFLM0YsS0FBUS9CLE1BQU1oRSxNQUFNZ0UsS0FBTTBCLE1BQVU4RSxTQUFLN0YsS0FBVyxXQUFZSixZQUFNLE1BQUlHLEtBQWMsYUFDOUh6QixhQUFPb0IsY0FBQTZGLEVBQUE5SixRQUFVZ0UsVUFBSyxLQUFNdUgsTUFBTyxPQUFReEQsUUFBTW5FLEtBQWE0SCxhQUFLN0YsS0FBUS9CLE9BQVksTUFDdkZmLGFBQUFvQixjQUFFLEtBQVVELFVBQU8sZ0JBQU1uQixhQUFLb0IsY0FBQXdGLEVBQUFnQyxNQUFHQyxHQUFVLFdBT3JELGFYeWZZekIsR0FDVHJILEVBQU80QixVQUVUcEYsZVc1ZnFCLEVBQUFvSyxFQUFBbUMsU0FBQSxTQUFBckcsR1g2ZmpCLE9XM2ZXc0csYUFBT3RHLEVBQVd1RyxXQUFhRCxhQUN2Q0UsS0FBT3hHLEVBQ1h3RyxRQUVIaEIsaUJBQUFqQixFQUFBaUIsbUJBQVFiIiwiZmlsZSI6IjguOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIndlYnBhY2tKc29ucChbOF0se1xuXG4vKioqLyAxNzE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5UZXh0YXJlYSA9IGV4cG9ydHMuU2VsZWN0aXplSW5wdXQgPSBleHBvcnRzLklucHV0ID0gZXhwb3J0cy5CdXR0b24gPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX0J1dHRvbiA9IF9fd2VicGFja19yZXF1aXJlX18oOTYpO1xuXHRcblx0dmFyIF9CdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQnV0dG9uKTtcblx0XG5cdHZhciBfSW5wdXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Mik7XG5cdFxuXHR2YXIgX0lucHV0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0lucHV0KTtcblx0XG5cdHZhciBfU2VsZWN0aXplSW5wdXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3NSk7XG5cdFxuXHR2YXIgX1NlbGVjdGl6ZUlucHV0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlbGVjdGl6ZUlucHV0KTtcblx0XG5cdHZhciBfVGV4dGFyZWEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3OCk7XG5cdFxuXHR2YXIgX1RleHRhcmVhMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHRhcmVhKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRleHBvcnRzLkJ1dHRvbiA9IF9CdXR0b24yLmRlZmF1bHQ7XG5cdGV4cG9ydHMuSW5wdXQgPSBfSW5wdXQyLmRlZmF1bHQ7XG5cdGV4cG9ydHMuU2VsZWN0aXplSW5wdXQgPSBfU2VsZWN0aXplSW5wdXQyLmRlZmF1bHQ7XG5cdGV4cG9ydHMuVGV4dGFyZWEgPSBfVGV4dGFyZWEyLmRlZmF1bHQ7XG5cbi8qKiovIH0sXG5cbi8qKiovIDE3Mjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9JbnB1dCA9IF9fd2VicGFja19yZXF1aXJlX18oMTczKTtcblx0XG5cdHZhciBfSW5wdXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW5wdXQpO1xuXG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cblx0ZXhwb3J0cy5kZWZhdWx0ID0gX0lucHV0Mi5kZWZhdWx0O1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNzM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdENzc01vZHVsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgyKTtcblx0XG5cdHZhciBfcmVhY3RDc3NNb2R1bGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0Q3NzTW9kdWxlcyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX19kZWNvcmF0ZSA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19kZWNvcmF0ZSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcblx0ICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCxcblx0ICAgICAgICByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYyxcblx0ICAgICAgICBkO1xuXHQgICAgaWYgKCh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKFJlZmxlY3QpKSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7ZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHQgICAgICAgIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG5cdCAgICB9cmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcblx0fTtcblx0XG5cdHZhciBzdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3NCk7XG5cdHZhciBJbnB1dCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgICBfaW5oZXJpdHMoSW5wdXQsIF9Db21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIElucHV0KHByb3BzKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIElucHV0KTtcblx0XG5cdCAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIE9iamVjdC5nZXRQcm90b3R5cGVPZihJbnB1dCkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhJbnB1dCwgW3tcblx0ICAgICAgICBrZXk6IFwicmVuZGVyXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICAgICAgICB2YXIgcHJvcHMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnByb3BzKTtcblx0ICAgICAgICAgICAgZGVsZXRlIHByb3BzLmNsYXNzTmFtZTtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgc3R5bGVOYW1lOiBcImlucHV0LXdyYXBcIiwgY2xhc3NOYW1lOiB0aGlzLnByb3BzLmNsYXNzTmFtZSB8fCAnJyB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIHsgc3R5bGVOYW1lOiBcImlucHV0XCIsIHBsYWNlaG9sZGVyOiB0aGlzLnByb3BzLnBsYWNlaG9sZGVyLCB2YWx1ZTogdGhpcy5wcm9wcy52YWx1ZSwgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBfdGhpczIucHJvcHMub25DaGFuZ2UoZSk7XG5cdCAgICAgICAgICAgICAgICB9LCB0eXBlOiB0aGlzLnByb3BzLnR5cGUgPyB0aGlzLnByb3BzLnR5cGUgOiAndGV4dCcsIG5hbWU6IHRoaXMucHJvcHMubmFtZSA/IHRoaXMucHJvcHMubmFtZSA6IG51bGwgfSkpO1xuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gSW5wdXQ7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdElucHV0ID0gX19kZWNvcmF0ZShbKDAsIF9yZWFjdENzc01vZHVsZXMyLmRlZmF1bHQpKHN0eWxlcywge1xuXHQgICAgYWxsb3dNdWx0aXBsZTogdHJ1ZVxuXHR9KV0sIElucHV0KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gSW5wdXQ7XG5cbi8qKiovIH0sXG5cbi8qKiovIDE3NDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cdG1vZHVsZS5leHBvcnRzID0ge1wiaW5wdXQtd3JhcFwiOlwiaW5wdXQtd3JhcF8zZEhBM1wiLFwiaW5wdXRcIjpcImlucHV0XzJqdUJPXCJ9O1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNzU6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfU2VsZWN0aXplSW5wdXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Nik7XG5cdFxuXHR2YXIgX1NlbGVjdGl6ZUlucHV0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NlbGVjdGl6ZUlucHV0KTtcblxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5cdGV4cG9ydHMuZGVmYXVsdCA9IF9TZWxlY3RpemVJbnB1dDIuZGVmYXVsdDtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTc2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfSWNvbiA9IF9fd2VicGFja19yZXF1aXJlX18oNzgpO1xuXHRcblx0dmFyIF9JY29uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ljb24pO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MCk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgX3JlYWN0Q3NzTW9kdWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oODIpO1xuXHRcblx0dmFyIF9yZWFjdENzc01vZHVsZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RDc3NNb2R1bGVzKTtcblx0XG5cdHZhciBfaXNEZXNjZW5kYW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMDgpO1xuXHRcblx0dmFyIF9pc0Rlc2NlbmRhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNEZXNjZW5kYW50KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBfX2RlY29yYXRlID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2RlY29yYXRlIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuXHQgICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLFxuXHQgICAgICAgIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLFxuXHQgICAgICAgIGQ7XG5cdCAgICBpZiAoKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoUmVmbGVjdCkpID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdCAgICAgICAgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcblx0ICAgIH1yZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xuXHR9O1xuXHRcblx0dmFyIHN0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTc3KTtcblx0dmFyIFNlbGVjdGl6ZUlucHV0ID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAgIF9pbmhlcml0cyhTZWxlY3RpemVJbnB1dCwgX0NvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gU2VsZWN0aXplSW5wdXQocHJvcHMpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2VsZWN0aXplSW5wdXQpO1xuXHRcblx0ICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2VsZWN0aXplSW5wdXQpLmNhbGwodGhpcywgcHJvcHMpKTtcblx0XG5cdCAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgICAgICAgIHNob3dPcHRpb25zOiBmYWxzZSxcblx0ICAgICAgICAgICAgZm9jdXM6IGZhbHNlLFxuXHQgICAgICAgICAgICB2YWx1ZTogJycsXG5cdCAgICAgICAgICAgIGV4cGVuZGVkT3B0aW9uSW5kZXg6IDBcblx0ICAgICAgICB9O1xuXHQgICAgICAgIF90aGlzLmhhbmRsZU91dHNpZGVDbGljayA9IF90aGlzLmhhbmRsZU91dHNpZGVDbGljay5iaW5kKF90aGlzKTtcblx0ICAgICAgICBfdGhpcy5mb2N1c0lucHV0ID0gX3RoaXMuZm9jdXNJbnB1dC5iaW5kKF90aGlzKTtcblx0ICAgICAgICBfdGhpcy5oYW5kbGVJbnB1dFdyYXBDbGljayA9IF90aGlzLmhhbmRsZUlucHV0V3JhcENsaWNrLmJpbmQoX3RoaXMpO1xuXHQgICAgICAgIHJldHVybiBfdGhpcztcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoU2VsZWN0aXplSW5wdXQsIFt7XG5cdCAgICAgICAga2V5OiBcImFkZFZhbHVlXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFZhbHVlKG5ld1ZhbHVlKSB7XG5cdCAgICAgICAgICAgIHRoaXMucHJvcHMub25WYWx1ZXNDaGFuZ2UodGhpcy5wcm9wcy52YWx1ZXMuY29uY2F0KG5ld1ZhbHVlKSk7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uT3B0aW9uc0NoYW5nZSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbk9wdGlvbnNDaGFuZ2UodGhpcy5wcm9wcy5vcHRpb25zLm1hcChmdW5jdGlvbiAob3B0aW9uKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi52YWx1ZSA9PT0gbmV3VmFsdWUudmFsdWUgPyBPYmplY3QuYXNzaWduKHt9LCBvcHRpb24sIHsgZGlzYWJsZWQ6IHRydWUgfSkgOiBvcHRpb247XG5cdCAgICAgICAgICAgICAgICB9KSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdGhpcy5jbGVhcklucHV0VmFsdWUoKTtcblx0ICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnByb3BzLnN0YXlGb2N1c2VkID09PSAndW5kZWZpbmVkJyB8fCB0aGlzLnByb3BzLnN0YXlGb2N1c2VkICE9PSBmYWxzZSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5mb2N1c0lucHV0KCk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICBzaG93T3B0aW9uczogZmFsc2Vcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJyZW1vdmVWYWx1ZVwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVWYWx1ZShpbmRleCkge1xuXHQgICAgICAgICAgICB2YXIgbmV3VmFsdWVzID0gW107XG5cdCAgICAgICAgICAgIHZhciByZW1vdmVkVmFsdWUgPSB2b2lkIDA7XG5cdCAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcblx0ICAgICAgICAgICAgICAgIG5ld1ZhbHVlcyA9IHRoaXMucHJvcHMudmFsdWVzLnNsaWNlKDAsIHRoaXMucHJvcHMudmFsdWVzLmxlbmd0aCAtIDEpO1xuXHQgICAgICAgICAgICAgICAgcmVtb3ZlZFZhbHVlID0gdGhpcy5wcm9wcy52YWx1ZXNbdGhpcy5wcm9wcy52YWx1ZXMubGVuZ3RoIC0gMV0udmFsdWU7XG5cdCAgICAgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgICAgICBuZXdWYWx1ZXMgPSB0aGlzLnByb3BzLnZhbHVlcy5maWx0ZXIoZnVuY3Rpb24gKHYsIGkpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZW1vdmVkVmFsdWUgPSB2LnZhbHVlO1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBpICE9PSBpbmRleDtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uT3B0aW9uc0NoYW5nZSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbk9wdGlvbnNDaGFuZ2UodGhpcy5wcm9wcy5vcHRpb25zLm1hcChmdW5jdGlvbiAob3B0aW9uKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi52YWx1ZSA9PT0gcmVtb3ZlZFZhbHVlID8gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9uLCB7IGRpc2FibGVkOiBmYWxzZSB9KSA6IG9wdGlvbjtcblx0ICAgICAgICAgICAgICAgIH0pKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB0aGlzLnByb3BzLm9uVmFsdWVzQ2hhbmdlKG5ld1ZhbHVlcyk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJjbGVhcklucHV0VmFsdWVcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJJbnB1dFZhbHVlKCkge1xuXHQgICAgICAgICAgICB0aGlzLnByb3BzLm9uSW5wdXRDaGFuZ2UoJycpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwiaGFuZGxlS2V5UHJlc3NcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlS2V5UHJlc3MoZSkge1xuXHQgICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSA4ICYmICF0aGlzLnByb3BzLnZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVZhbHVlKC0xKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAvLyB0b2RvXG5cdCAgICAgICAgICAgIC8vIGlmIChlLmtleUNvZGUgPT09IDEzICYmIHRoaXMuc3RhdGUuc2hvd09wdGlvbnMpIHtcblx0ICAgICAgICAgICAgLy8gICB0aGlzLmFkZFZhbHVlKClcblx0ICAgICAgICAgICAgLy8gfVxuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwiZm9jdXNJbnB1dFwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBmb2N1c0lucHV0KCkge1xuXHQgICAgICAgICAgICB0aGlzLmlucHV0LmZvY3VzKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJoYW5kbGVPdXRzaWRlQ2xpY2tcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlT3V0c2lkZUNsaWNrKGUpIHtcblx0ICAgICAgICAgICAgaWYgKCEoMCwgX2lzRGVzY2VuZGFudDIuZGVmYXVsdCkodGhpcy5pbnB1dFdyYXAsIGUudGFyZ2V0KSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICAgICAgc2hvd09wdGlvbnM6IGZhbHNlXG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwiaGFuZGxlSW5wdXRXcmFwQ2xpY2tcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlSW5wdXRXcmFwQ2xpY2soKSB7XG5cdCAgICAgICAgICAgIHRoaXMuZm9jdXNJbnB1dCgpO1xuXHQgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgIHNob3dPcHRpb25zOiB0cnVlXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwiY29tcG9uZW50RGlkTW91bnRcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG5cdCAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlT3V0c2lkZUNsaWNrKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHQgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZU91dHNpZGVDbGljayk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJyZW5kZXJcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgICAgICAgICB2YXIgbGFiZWwgPSBfcHJvcHMubGFiZWw7XG5cdCAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBfcHJvcHMudmFsdWVzO1xuXHQgICAgICAgICAgICB2YXIgb25BZGROZXdWYWx1ZSA9IF9wcm9wcy5vbkFkZE5ld1ZhbHVlO1xuXHRcblx0ICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5wcm9wcy52YWx1ZSB8fCAnJztcblx0ICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLnByb3BzLm9wdGlvbnMgfHwgW107XG5cdCAgICAgICAgICAgIHZhciBpbnB1dFdpZHRoID0gdmFsdWVzLmxlbmd0aCA+IDAgPyB2YWx1ZS5sZW5ndGggPT09IDAgPyAxNiA6IHZhbHVlLmxlbmd0aCAqIDE2IDogJzEwMCUnO1xuXHQgICAgICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSB2YWx1ZXMubGVuZ3RoID4gMCA/ICcnIDogdGhpcy5wcm9wcy5wbGFjZWhvbGRlcjtcblx0ICAgICAgICAgICAgdmFyIHNlbGVjdGl6ZUlucHV0U3R5bGVOYW1lID0gKDAsIF9jbGFzc25hbWVzMi5kZWZhdWx0KSh7XG5cdCAgICAgICAgICAgICAgICAnc2VsZWN0aXplLWlucHV0JzogdHJ1ZSxcblx0ICAgICAgICAgICAgICAgICdzZWxlY3RpemUtaW5wdXQtLWZvY3VzJzogdGhpcy5zdGF0ZS5mb2N1cyxcblx0ICAgICAgICAgICAgICAgICdzZWxlY3RpemUtaW5wdXQtLWVtcHR5JzogdmFsdWVzLmxlbmd0aCA9PT0gMFxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgc3R5bGVOYW1lOiBcInNlbGVjdGl6ZS13cmFwXCIsIGNsYXNzTmFtZTogdGhpcy5wcm9wcy5jbGFzc05hbWUgfHwgJycgfSwgbGFiZWwgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIsIHsgY2xhc3NOYW1lOiBcImZvcm0tbGFiZWxcIiB9LCBsYWJlbCkgOiBudWxsLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlTmFtZTogc2VsZWN0aXplSW5wdXRTdHlsZU5hbWUsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlSW5wdXRXcmFwQ2xpY2ssIHJlZjogZnVuY3Rpb24gcmVmKF9yZWYpIHtcblx0ICAgICAgICAgICAgICAgICAgICBfdGhpczIuaW5wdXRXcmFwID0gX3JlZjtcblx0ICAgICAgICAgICAgICAgIH0gfSwgdmFsdWVzLm1hcChmdW5jdGlvbiAodiwgaW5kZXgpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBrZXk6IGluZGV4LCBzdHlsZU5hbWU6IFwic2VsZWN0aXplLXRhZ1wiIH0sIHYubmFtZSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0ljb24yLmRlZmF1bHQsIHsgc3R5bGVOYW1lOiBcImljb24tcmVtb3ZlXCIsIHNpemU6IDIwLCBuYW1lOiBcImNsb3NlXCIsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIucmVtb3ZlVmFsdWUoaW5kZXgpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0gfSkpO1xuXHQgICAgICAgICAgICB9KSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7IHN0eWxlOiB7IHdpZHRoOiBpbnB1dFdpZHRoIH0sIHJlZjogZnVuY3Rpb24gcmVmKF9yZWYyKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmlucHV0ID0gX3JlZjI7XG5cdCAgICAgICAgICAgICAgICB9LCB2YWx1ZTogdmFsdWUsIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlciwgb25CbHVyOiBmdW5jdGlvbiBvbkJsdXIoZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7IGZvY3VzOiBmYWxzZSB9KTtcblx0ICAgICAgICAgICAgICAgIH0sIG9uRm9jdXM6IGZ1bmN0aW9uIG9uRm9jdXMoZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7IGZvY3VzOiB0cnVlIH0pO1xuXHQgICAgICAgICAgICAgICAgfSwgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBfdGhpczIucHJvcHMub25JbnB1dENoYW5nZShlLnRhcmdldC52YWx1ZSk7XG5cdCAgICAgICAgICAgICAgICB9LCBvbktleURvd246IGZ1bmN0aW9uIG9uS2V5RG93bihlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmhhbmRsZUtleVByZXNzKGUpO1xuXHQgICAgICAgICAgICAgICAgfSB9KSksIHRoaXMuc3RhdGUuc2hvd09wdGlvbnMgJiYgKG9wdGlvbnMubGVuZ3RoICE9PSAwIHx8IG9uQWRkTmV3VmFsdWUpID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCB7IHN0eWxlTmFtZTogXCJxdWVyeS1yZXN1bHRzXCIgfSwgb3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wdGlvbiwgaW5kZXgpIHtcblx0ICAgICAgICAgICAgICAgIGlmIChvcHRpb24uZGlzYWJsZWQpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7IGtleTogaW5kZXgsIGNsYXNzTmFtZTogXCJkaXNhYmxlZFwiIH0sIG9wdGlvbi5uYW1lKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImxpXCIsIHsga2V5OiBpbmRleCwgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5hZGRWYWx1ZShvcHRpb24pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLnByb3BzLm9uT3B0aW9uQ2xpY2spIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5wcm9wcy5vbk9wdGlvbkNsaWNrKG9wdGlvbik7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB9IH0sIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCBvcHRpb24ubmFtZSkpO1xuXHQgICAgICAgICAgICB9KSwgb25BZGROZXdWYWx1ZSA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwibGlcIiwgeyBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBvbkFkZE5ld1ZhbHVlKF90aGlzMi5wcm9wcy52YWx1ZSk7XG5cdCAgICAgICAgICAgICAgICB9LCBjbGFzc05hbWU6IFwiYWRkXCIgfSwgXCLmt7vliqAgXCIsIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3Ryb25nXCIsIG51bGwsIHRoaXMucHJvcHMudmFsdWUpKSA6IG51bGwpIDogbnVsbCk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBTZWxlY3RpemVJbnB1dDtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0U2VsZWN0aXplSW5wdXQgPSBfX2RlY29yYXRlKFsoMCwgX3JlYWN0Q3NzTW9kdWxlczIuZGVmYXVsdCkoc3R5bGVzLCB7XG5cdCAgICBhbGxvd011bHRpcGxlOiB0cnVlXG5cdH0pXSwgU2VsZWN0aXplSW5wdXQpO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBTZWxlY3RpemVJbnB1dDtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTc3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XCJzZWxlY3RpemUtd3JhcFwiOlwic2VsZWN0aXplLXdyYXBfM0FNQWlcIixcInNlbGVjdGl6ZS1pbnB1dFwiOlwic2VsZWN0aXplLWlucHV0XzE0YmdQXCIsXCJzZWxlY3RpemUtaW5wdXQtLWZvY3VzXCI6XCJzZWxlY3RpemUtaW5wdXQtLWZvY3VzX1VuWjhCXCIsXCJzZWxlY3RpemUtaW5wdXQtLWVtcHR5XCI6XCJzZWxlY3RpemUtaW5wdXQtLWVtcHR5X3huN1V5XCIsXCJxdWVyeS1yZXN1bHRzXCI6XCJxdWVyeS1yZXN1bHRzX09nRTJ0XCIsXCJzZWxlY3RpemUtdGFnXCI6XCJzZWxlY3RpemUtdGFnXzNhRDEzXCIsXCJpY29uLXJlbW92ZVwiOlwiaWNvbi1yZW1vdmVfMU83Rl9cIn07XG5cbi8qKiovIH0sXG5cbi8qKiovIDE3ODpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9UZXh0YXJlYSA9IF9fd2VicGFja19yZXF1aXJlX18oMTc5KTtcblx0XG5cdHZhciBfVGV4dGFyZWEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGV4dGFyZWEpO1xuXG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cblx0ZXhwb3J0cy5kZWZhdWx0ID0gX1RleHRhcmVhMi5kZWZhdWx0O1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNzk6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdENzc01vZHVsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgyKTtcblx0XG5cdHZhciBfcmVhY3RDc3NNb2R1bGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0Q3NzTW9kdWxlcyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX19kZWNvcmF0ZSA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19kZWNvcmF0ZSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcblx0ICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCxcblx0ICAgICAgICByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYyxcblx0ICAgICAgICBkO1xuXHQgICAgaWYgKCh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKFJlZmxlY3QpKSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7ZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHQgICAgICAgIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG5cdCAgICB9cmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcblx0fTtcblx0XG5cdHZhciBzdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4MCk7XG5cdHZhciBUZXh0YXJlYSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgICBfaW5oZXJpdHMoVGV4dGFyZWEsIF9Db21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIFRleHRhcmVhKHByb3BzKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRleHRhcmVhKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIE9iamVjdC5nZXRQcm90b3R5cGVPZihUZXh0YXJlYSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhUZXh0YXJlYSwgW3tcblx0ICAgICAgICBrZXk6IFwicmVuZGVyXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBzdHlsZU5hbWU6IFwidGV4dGFyZWEtd3JhcFwiLCBjbGFzc05hbWU6IHRoaXMucHJvcHMuY2xhc3NOYW1lIHx8ICcnIH0sIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIiwgeyBwbGFjZWhvbGRlcjogdGhpcy5wcm9wcy5wbGFjZWhvbGRlciwgdmFsdWU6IHRoaXMucHJvcHMudmFsdWUsIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnByb3BzLm9uQ2hhbmdlKGUpO1xuXHQgICAgICAgICAgICAgICAgfSwgc3R5bGVOYW1lOiBcInRleHRhcmVhXCIsIHR5cGU6IHRoaXMucHJvcHMudHlwZSA/IHRoaXMucHJvcHMudHlwZSA6ICd0ZXh0JywgbmFtZTogdGhpcy5wcm9wcy5uYW1lID8gdGhpcy5wcm9wcy5uYW1lIDogbnVsbCB9KSk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBUZXh0YXJlYTtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0VGV4dGFyZWEgPSBfX2RlY29yYXRlKFsoMCwgX3JlYWN0Q3NzTW9kdWxlczIuZGVmYXVsdCkoc3R5bGVzLCB7XG5cdCAgICBhbGxvd011bHRpcGxlOiB0cnVlXG5cdH0pXSwgVGV4dGFyZWEpO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBUZXh0YXJlYTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTgwOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XCJ0ZXh0YXJlYS13cmFwXCI6XCJ0ZXh0YXJlYS13cmFwX1hrcGoxIGlucHV0LXdyYXBfM2RIQTNcIixcInRleHRhcmVhXCI6XCJ0ZXh0YXJlYV8xRWRvU1wifTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMjA5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdFJlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfcmVhY3RSb3V0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9jb25maWcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTtcblx0XG5cdHZhciBfY2FsbEFwaSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIxKTtcblx0XG5cdHZhciBfY2FsbEFwaTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jYWxsQXBpKTtcblx0XG5cdHZhciBfYWN0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgX2Zvcm0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3MSk7XG5cdFxuXHR2YXIgX0RvY0NvbnRhaW5lciA9IF9fd2VicGFja19yZXF1aXJlX18oMTM0KTtcblx0XG5cdHZhciBfRG9jQ29udGFpbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RvY0NvbnRhaW5lcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIFNpZ251cCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgICBfaW5oZXJpdHMoU2lnbnVwLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBTaWdudXAocHJvcHMpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2lnbnVwKTtcblx0XG5cdCAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgT2JqZWN0LmdldFByb3RvdHlwZU9mKFNpZ251cCkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHRcblx0ICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgICAgICAgdXNlcm5hbWU6ICcnLFxuXHQgICAgICAgICAgICBlbWFpbDogJycsXG5cdCAgICAgICAgICAgIHBhc3N3b3JkOiAnJ1xuXHQgICAgICAgIH07XG5cdCAgICAgICAgcmV0dXJuIF90aGlzO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhTaWdudXAsIFt7XG5cdCAgICAgICAga2V5OiAnaGFuZGxlU2lnbnVwJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlU2lnbnVwKGV2ZW50KSB7XG5cdCAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHtcblx0ICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnN0YXRlLnVzZXJuYW1lLFxuXHQgICAgICAgICAgICAgICAgZW1haWw6IHRoaXMuc3RhdGUuZW1haWwsXG5cdCAgICAgICAgICAgICAgICBwYXNzd29yZDogdGhpcy5zdGF0ZS5wYXNzd29yZFxuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICAoMCwgX2NhbGxBcGkyLmRlZmF1bHQpKF9jb25maWcuQXBpUm9vdHMuTE9DQUwgKyAndXNlcnMnLCB7IG1ldGhvZDogJ1BPU1QnLCBkYXRhOiBwYXJhbXMgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgICAgICAgICBfdGhpczIucHJvcHMuc2VuZE5vdGlmaWNhdGlvbign5rOo5YaM5oiQ5Yqf77yBJyk7XG5cdCAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICBfcmVhY3RSb3V0ZXIuYnJvd3Nlckhpc3RvcnkucHVzaCgnLycpO1xuXHQgICAgICAgICAgICAgICAgfSwgNjAwKTtcblx0ICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuXHQgICAgICAgICAgICAgICAgX3RoaXMyLnByb3BzLnNlbmROb3RpZmljYXRpb24oZXJyLm1lc3NhZ2UsICdlcnJvcicpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiAnaGFuZGxlSW5wdXQnLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVJbnB1dChldmVudCkge1xuXHQgICAgICAgICAgICB0aGlzLnNldFN0YXRlKF9kZWZpbmVQcm9wZXJ0eSh7fSwgZXZlbnQudGFyZ2V0Lm5hbWUsIGV2ZW50LnRhcmdldC52YWx1ZSkpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdyZW5kZXInLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRG9jQ29udGFpbmVyMi5kZWZhdWx0LCB7IHRpdGxlOiBcIuazqOWGjFwiIH0sIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiLCB7IGNsYXNzTmFtZTogXCJjb250ZW50LWNvbnRhaW5lclwiLCBtZXRob2Q6IFwicG9zdFwiLCBhY3Rpb246IFwiL3NpZ251cFwiIH0sIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaDFcIiwgeyBjbGFzc05hbWU6IFwicGFnZS10aXRsZVwiIH0sIFwi5Yqg5YWlIFJlYWRyXCIpLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZm9ybS5JbnB1dCwgeyBvbkNoYW5nZTogdGhpcy5oYW5kbGVJbnB1dC5iaW5kKHRoaXMpLCB2YWx1ZTogdGhpcy5zdGF0ZS51c2VybmFtZSwgbmFtZTogXCJ1c2VybmFtZVwiLCBwbGFjZWhvbGRlcjogXCLnlKjmiLflkI1cIiB9KSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2Zvcm0uSW5wdXQsIHsgb25DaGFuZ2U6IHRoaXMuaGFuZGxlSW5wdXQuYmluZCh0aGlzKSwgdmFsdWU6IHRoaXMuc3RhdGUuZW1haWwsIG5hbWU6IFwiZW1haWxcIiwgcGxhY2Vob2xkZXI6IFwi6YKu566xXCIgfSksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9mb3JtLklucHV0LCB7IG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUlucHV0LmJpbmQodGhpcyksIHZhbHVlOiB0aGlzLnN0YXRlLnBhc3N3b3JkLCBuYW1lOiBcInBhc3N3b3JkXCIsIHBsYWNlaG9sZGVyOiBcIuWvhueggSBcIiwgdHlwZTogXCJwYXNzd29yZFwiIH0pLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZm9ybS5CdXR0b24sIHsgY2xhc3NOYW1lOiBcInoxXCIsIGNvbG9yOiBcImJsdWVcIiwgb25DbGljazogdGhpcy5oYW5kbGVTaWdudXAuYmluZCh0aGlzKSB9LCBcIuazqOWGjFwiKSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHsgY2xhc3NOYW1lOiBcImhpbnRcIiB9LCBcIuW3suaciei0puWPt++8n1wiLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RSb3V0ZXIuTGluaywgeyB0bzogXCIvc2lnbmluXCIgfSwgXCLnmbvlvZVcIikpKSk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBTaWdudXA7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSAoMCwgX3JlYWN0UmVkdXguY29ubmVjdCkoZnVuY3Rpb24gKHN0YXRlKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIG5vdGlmaWNhdGlvbjogc3RhdGUuY29tcG9uZW50cy5ub3RpZmljYXRpb24sXG5cdCAgICAgICAgdXNlcjogc3RhdGUudXNlclxuXHQgICAgfTtcblx0fSwgeyBzZW5kTm90aWZpY2F0aW9uOiBfYWN0aW9ucy5zZW5kTm90aWZpY2F0aW9uIH0pKFNpZ251cCk7XG5cbi8qKiovIH1cblxufSk7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogOC44LmpzXG4gKiovIiwiaW1wb3J0IEJ1dHRvbiBmcm9tICcuL0J1dHRvbidcbmltcG9ydCBJbnB1dCBmcm9tICcuL0lucHV0J1xuaW1wb3J0IFNlbGVjdGl6ZUlucHV0IGZyb20gJy4vU2VsZWN0aXplSW5wdXQnXG5pbXBvcnQgVGV4dGFyZWEgZnJvbSAnLi9UZXh0YXJlYSdcblxuZXhwb3J0IHsgQnV0dG9uLCBJbnB1dCwgU2VsZWN0aXplSW5wdXQsIFRleHRhcmVhIH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9pc29tb3JwaGljL2VsZW1lbnRzL19mb3JtL2luZGV4LnRzXG4gKiovIiwiaW1wb3J0IElucHV0IGZyb20gJy4vSW5wdXQnXG5leHBvcnQgZGVmYXVsdCBJbnB1dFxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvX2Zvcm0vSW5wdXQvaW5kZXgudHNcbiAqKi8iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgQ1NTTW9kdWxlcyBmcm9tICdyZWFjdC1jc3MtbW9kdWxlcydcbmNvbnN0IHN0eWxlcyA9IHJlcXVpcmUoJy4vSW5wdXQuY3NzJylcblxuZXhwb3J0IGludGVyZmFjZSBQcm9wcyB7XG4gIGNsYXNzTmFtZT86IHN0cmluZ1xuICBwbGFjZWhvbGRlcj86IHN0cmluZ1xuICBvbkNoYW5nZT86IGFueVxuICB2YWx1ZT86IHN0cmluZ1xuICB0eXBlPzogc3RyaW5nXG4gIG5hbWU/OiBzdHJpbmdcbn1cblxuQENTU01vZHVsZXMoc3R5bGVzLCB7XG4gIGFsbG93TXVsdGlwbGU6IHRydWVcbn0pXG5jbGFzcyBJbnB1dCBleHRlbmRzIENvbXBvbmVudDxQcm9wcywgYW55PiB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgbGV0IHByb3BzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wcm9wcylcbiAgICBkZWxldGUgcHJvcHMuY2xhc3NOYW1lXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBzdHlsZU5hbWU9XCJpbnB1dC13cmFwXCIgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZSB8fCAnJ30+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHN0eWxlTmFtZT1cImlucHV0XCJcbiAgICAgICAgICBwbGFjZWhvbGRlcj17dGhpcy5wcm9wcy5wbGFjZWhvbGRlcn1cbiAgICAgICAgICB2YWx1ZT17dGhpcy5wcm9wcy52YWx1ZX1cbiAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKGUpXG4gICAgICAgICAgfX1cbiAgICAgICAgICB0eXBlPXt0aGlzLnByb3BzLnR5cGUgPyB0aGlzLnByb3BzLnR5cGUgOiAndGV4dCd9XG4gICAgICAgICAgbmFtZT17dGhpcy5wcm9wcy5uYW1lID8gdGhpcy5wcm9wcy5uYW1lIDogbnVsbH1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbnB1dFxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvX2Zvcm0vSW5wdXQvSW5wdXQudHN4XG4gKiovIiwiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wiaW5wdXQtd3JhcFwiOlwiaW5wdXQtd3JhcF8zZEhBM1wiLFwiaW5wdXRcIjpcImlucHV0XzJqdUJPXCJ9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9JbnB1dC9JbnB1dC5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNzRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzIDQgNiA3IDggOSAxMSAxNCAxNVxuICoqLyIsImltcG9ydCBTZWxlY3RpemVJbnB1dCBmcm9tICcuL1NlbGVjdGl6ZUlucHV0J1xuZXhwb3J0IGRlZmF1bHQgU2VsZWN0aXplSW5wdXRcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9pc29tb3JwaGljL2VsZW1lbnRzL19mb3JtL1NlbGVjdGl6ZUlucHV0L2luZGV4LnRzXG4gKiovIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IEljb24gZnJvbSAnLi4vLi4vSWNvbidcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnXG5pbXBvcnQgQ1NTTW9kdWxlcyBmcm9tICdyZWFjdC1jc3MtbW9kdWxlcydcbmltcG9ydCBpc0Rlc2NlbmRhbnQgZnJvbSAnLi4vLi4vLi4vdXRpbHMvZG9tL2lzRGVzY2VuZGFudCdcbmNvbnN0IHN0eWxlcyA9IHJlcXVpcmUoJy4vU2VsZWN0aXplSW5wdXQuc2NzcycpXG5cbnR5cGUgVHlwZU9wdGlvbiA9IHtcbiAgdmFsdWU6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbiAgZGlzYWJsZWQ/OiBib29sZWFuXG4gIGFkZGl0aW9uYWw/OiBhbnlcbn1cblxudHlwZSBUeXBlVmFsdWUgPSB7XG4gIHZhbHVlOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG59XG5cbmludGVyZmFjZSBJUHJvcHMge1xuICBjbGFzc05hbWU/OiBzdHJpbmdcbiAgcGxhY2Vob2xkZXI/OiBzdHJpbmdcbiAgbGFiZWw/OiBzdHJpbmdcbiAgc3RheUZvY3VzZWQ/OiBib29sZWFuIC8vIGRlZmF1bHQgdHJ1ZVxuXG4gIHZhbHVlOiBzdHJpbmdcbiAgb25JbnB1dENoYW5nZTogKG5ld1ZhbHVlOiBzdHJpbmcpID0+IHZvaWRcblxuICBvcHRpb25zOiBBcnJheTxUeXBlT3B0aW9uPlxuICBvbk9wdGlvbnNDaGFuZ2U/OiAobmV3VmFsdWVzOiBBcnJheTxUeXBlT3B0aW9uPikgPT4gdm9pZFxuXG4gIHZhbHVlczogQXJyYXk8VHlwZVZhbHVlPlxuICBvblZhbHVlc0NoYW5nZTogKG5ld1ZhbHVlczogQXJyYXk8VHlwZVZhbHVlPikgPT4gdm9pZFxuXG4gIC8vIOmineWkluWKn+iDvVxuICBvbkFkZE5ld1ZhbHVlPzogKG5ld1ZhbHVlOiBzdHJpbmcpID0+IHZvaWRcbiAgb25PcHRpb25DbGljaz86IChzZWxlY3RlZFZhbHVlOiBUeXBlT3B0aW9uKSA9PiB2b2lkXG59XG5cbmludGVyZmFjZSBJU3RhdGUge1xuICBmb2N1cz86IGJvb2xlYW5cbiAgc2hvd09wdGlvbnM/OiBib29sZWFuXG4gIHZhbHVlPzogc3RyaW5nXG4gIGV4cGVuZGVkT3B0aW9uSW5kZXg/OiBudW1iZXJcbn1cblxuQENTU01vZHVsZXMoc3R5bGVzLCB7XG4gIGFsbG93TXVsdGlwbGU6IHRydWVcbn0pXG5jbGFzcyBTZWxlY3RpemVJbnB1dCBleHRlbmRzIENvbXBvbmVudDxJUHJvcHMsIElTdGF0ZT4ge1xuXG4gIGlucHV0OiBIVE1MSW5wdXRFbGVtZW50XG4gIGlucHV0V3JhcDogSFRNTERpdkVsZW1lbnRcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBzaG93T3B0aW9uczogZmFsc2UsXG4gICAgICBmb2N1czogZmFsc2UsXG4gICAgICB2YWx1ZTogJycsXG4gICAgICBleHBlbmRlZE9wdGlvbkluZGV4OiAwXG4gICAgfVxuICAgIHRoaXMuaGFuZGxlT3V0c2lkZUNsaWNrID0gdGhpcy5oYW5kbGVPdXRzaWRlQ2xpY2suYmluZCh0aGlzKVxuICAgIHRoaXMuZm9jdXNJbnB1dCA9IHRoaXMuZm9jdXNJbnB1dC5iaW5kKHRoaXMpXG4gICAgdGhpcy5oYW5kbGVJbnB1dFdyYXBDbGljayA9IHRoaXMuaGFuZGxlSW5wdXRXcmFwQ2xpY2suYmluZCh0aGlzKVxuICB9XG5cbiAgYWRkVmFsdWUobmV3VmFsdWUpIHtcbiAgICB0aGlzLnByb3BzLm9uVmFsdWVzQ2hhbmdlKHRoaXMucHJvcHMudmFsdWVzLmNvbmNhdChuZXdWYWx1ZSkpXG4gICAgaWYgKHRoaXMucHJvcHMub25PcHRpb25zQ2hhbmdlKSB7XG4gICAgICB0aGlzLnByb3BzLm9uT3B0aW9uc0NoYW5nZSh0aGlzLnByb3BzLm9wdGlvbnMubWFwKG9wdGlvbiA9PiAob3B0aW9uLnZhbHVlID09PSBuZXdWYWx1ZS52YWx1ZVxuICAgICAgICA/IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbiwgeyBkaXNhYmxlZDogdHJ1ZSB9KVxuICAgICAgICA6IG9wdGlvbikpKVxuICAgIH1cbiAgICB0aGlzLmNsZWFySW5wdXRWYWx1ZSgpXG4gICAgaWYgKHR5cGVvZiB0aGlzLnByb3BzLnN0YXlGb2N1c2VkID09PSAndW5kZWZpbmVkJyB8fCB0aGlzLnByb3BzLnN0YXlGb2N1c2VkICE9PSBmYWxzZSkge1xuICAgICAgdGhpcy5mb2N1c0lucHV0KClcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzaG93T3B0aW9uczogZmFsc2VcbiAgICB9KVxuICB9XG5cbiAgcmVtb3ZlVmFsdWUoaW5kZXgpIHtcbiAgICBsZXQgbmV3VmFsdWVzID0gW11cbiAgICBsZXQgcmVtb3ZlZFZhbHVlXG5cbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICBuZXdWYWx1ZXMgPSB0aGlzLnByb3BzLnZhbHVlcy5zbGljZSgwLCB0aGlzLnByb3BzLnZhbHVlcy5sZW5ndGggLSAxKVxuICAgICAgcmVtb3ZlZFZhbHVlID0gdGhpcy5wcm9wcy52YWx1ZXNbdGhpcy5wcm9wcy52YWx1ZXMubGVuZ3RoIC0gMV0udmFsdWVcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3VmFsdWVzID0gdGhpcy5wcm9wcy52YWx1ZXNcbiAgICAgICAgLmZpbHRlcigodiwgaSkgPT4ge1xuICAgICAgICAgIHJlbW92ZWRWYWx1ZSA9IHYudmFsdWVcbiAgICAgICAgICByZXR1cm4gaSAhPT0gaW5kZXhcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wcm9wcy5vbk9wdGlvbnNDaGFuZ2UpIHtcbiAgICAgIHRoaXMucHJvcHMub25PcHRpb25zQ2hhbmdlKHRoaXMucHJvcHMub3B0aW9ucy5tYXAob3B0aW9uID0+IChvcHRpb24udmFsdWUgPT09IHJlbW92ZWRWYWx1ZVxuICAgICAgICA/IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbiwgeyBkaXNhYmxlZDogZmFsc2UgfSlcbiAgICAgICAgOiBvcHRpb24pKSlcbiAgICB9XG5cbiAgICB0aGlzLnByb3BzLm9uVmFsdWVzQ2hhbmdlKG5ld1ZhbHVlcylcbiAgfVxuXG4gIGNsZWFySW5wdXRWYWx1ZSgpIHtcbiAgICB0aGlzLnByb3BzLm9uSW5wdXRDaGFuZ2UoJycpXG4gIH1cblxuICBoYW5kbGVLZXlQcmVzcyhlKSB7XG4gICAgaWYgKGUua2V5Q29kZSA9PT0gOCAmJiAhdGhpcy5wcm9wcy52YWx1ZSkge1xuICAgICAgdGhpcy5yZW1vdmVWYWx1ZSgtIDEpXG4gICAgfVxuICAgIC8vIHRvZG9cbiAgICAvLyBpZiAoZS5rZXlDb2RlID09PSAxMyAmJiB0aGlzLnN0YXRlLnNob3dPcHRpb25zKSB7XG4gICAgLy8gICB0aGlzLmFkZFZhbHVlKClcbiAgICAvLyB9XG4gIH1cblxuICBmb2N1c0lucHV0KCkge1xuICAgIHRoaXMuaW5wdXQuZm9jdXMoKVxuICB9XG5cbiAgaGFuZGxlT3V0c2lkZUNsaWNrKGUpIHtcbiAgICBpZiAoIWlzRGVzY2VuZGFudCh0aGlzLmlucHV0V3JhcCwgZS50YXJnZXQpKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2hvd09wdGlvbnM6IGZhbHNlXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZUlucHV0V3JhcENsaWNrKCkge1xuICAgIHRoaXMuZm9jdXNJbnB1dCgpXG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHNob3dPcHRpb25zOiB0cnVlXG4gICAgfSlcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlT3V0c2lkZUNsaWNrKVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVPdXRzaWRlQ2xpY2spXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBsYWJlbCwgdmFsdWVzLCBvbkFkZE5ld1ZhbHVlIH0gPSB0aGlzLnByb3BzXG5cbiAgICBsZXQgdmFsdWUgPSB0aGlzLnByb3BzLnZhbHVlIHx8ICcnXG4gICAgbGV0IG9wdGlvbnMgPSB0aGlzLnByb3BzLm9wdGlvbnMgfHwgW11cblxuICAgIGxldCBpbnB1dFdpZHRoID0gdmFsdWVzLmxlbmd0aCA+IDAgPyAodmFsdWUubGVuZ3RoID09PSAwID8gMTYgOiB2YWx1ZS5sZW5ndGggKiAxNikgOiAnMTAwJSdcbiAgICBsZXQgcGxhY2Vob2xkZXIgPSB2YWx1ZXMubGVuZ3RoID4gMCA/ICcnIDogdGhpcy5wcm9wcy5wbGFjZWhvbGRlclxuXG4gICAgY29uc3Qgc2VsZWN0aXplSW5wdXRTdHlsZU5hbWUgPSBjbGFzc25hbWVzKHtcbiAgICAgICdzZWxlY3RpemUtaW5wdXQnOiB0cnVlLFxuICAgICAgJ3NlbGVjdGl6ZS1pbnB1dC0tZm9jdXMnOiB0aGlzLnN0YXRlLmZvY3VzLFxuICAgICAgJ3NlbGVjdGl6ZS1pbnB1dC0tZW1wdHknOiB2YWx1ZXMubGVuZ3RoID09PSAwXG4gICAgfSlcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IHN0eWxlTmFtZT1cInNlbGVjdGl6ZS13cmFwXCIgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZSB8fCAnJ30+XG4gICAgICAgIHtcbiAgICAgICAgICBsYWJlbCA/IChcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmb3JtLWxhYmVsXCI+e2xhYmVsfTwvbGFiZWw+XG4gICAgICAgICAgKSA6IG51bGxcbiAgICAgICAgfVxuICAgICAgICA8ZGl2XG4gICAgICAgICAgc3R5bGVOYW1lPXtzZWxlY3RpemVJbnB1dFN0eWxlTmFtZX1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZUlucHV0V3JhcENsaWNrfVxuICAgICAgICAgIHJlZj17cmVmID0+IHsgdGhpcy5pbnB1dFdyYXAgPSByZWYgfSB9XG4gICAgICAgICAgPlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHZhbHVlcy5tYXAoKHYsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPHNwYW4ga2V5PXtpbmRleH0gc3R5bGVOYW1lPVwic2VsZWN0aXplLXRhZ1wiPlxuICAgICAgICAgICAgICAgICAge3YubmFtZX1cbiAgICAgICAgICAgICAgICAgIDxJY29uXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlTmFtZT1cImljb24tcmVtb3ZlXCJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZT17MjB9XG4gICAgICAgICAgICAgICAgICAgIG5hbWU9XCJjbG9zZVwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlVmFsdWUoaW5kZXgpXG4gICAgICAgICAgICAgICAgICAgIH0gfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogaW5wdXRXaWR0aCB9fVxuICAgICAgICAgICAgcmVmPXtyZWYgPT4geyB0aGlzLmlucHV0ID0gcmVmIH0gfVxuICAgICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9e3BsYWNlaG9sZGVyfVxuICAgICAgICAgICAgb25CbHVyPXtlID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZvY3VzOiBmYWxzZSB9KVxuICAgICAgICAgICAgfSB9XG4gICAgICAgICAgICBvbkZvY3VzPXtlID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZvY3VzOiB0cnVlIH0pXG4gICAgICAgICAgICB9IH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbklucHV0Q2hhbmdlKChlLnRhcmdldCBhcyBhbnkpLnZhbHVlKVxuICAgICAgICAgICAgfSB9XG4gICAgICAgICAgICBvbktleURvd249e2UgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmhhbmRsZUtleVByZXNzKGUpXG4gICAgICAgICAgICB9IH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5zaG93T3B0aW9ucyAmJiAob3B0aW9ucy5sZW5ndGggIT09IDAgfHwgb25BZGROZXdWYWx1ZSkgPyAoXG4gICAgICAgICAgICA8dWwgc3R5bGVOYW1lPVwicXVlcnktcmVzdWx0c1wiPlxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5tYXAoKG9wdGlvbiwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChvcHRpb24uZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxsaSBrZXk9e2luZGV4fSBjbGFzc05hbWU9XCJkaXNhYmxlZFwiPntvcHRpb24ubmFtZX08L2xpPlxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgPGxpXG4gICAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVmFsdWUob3B0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub25PcHRpb25DbGljaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uT3B0aW9uQ2xpY2sob3B0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0gfVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57b3B0aW9uLm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG9uQWRkTmV3VmFsdWUgPyAoXG4gICAgICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgb25BZGROZXdWYWx1ZSh0aGlzLnByb3BzLnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB9IH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWRkXCI+5re75YqgIDxzdHJvbmc+e3RoaXMucHJvcHMudmFsdWV9PC9zdHJvbmc+PC9saT5cbiAgICAgICAgICAgICAgICApIDogbnVsbFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICkgOiBudWxsXG4gICAgICAgIH1cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTZWxlY3RpemVJbnB1dFxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvX2Zvcm0vU2VsZWN0aXplSW5wdXQvU2VsZWN0aXplSW5wdXQudHN4XG4gKiovIiwiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wic2VsZWN0aXplLXdyYXBcIjpcInNlbGVjdGl6ZS13cmFwXzNBTUFpXCIsXCJzZWxlY3RpemUtaW5wdXRcIjpcInNlbGVjdGl6ZS1pbnB1dF8xNGJnUFwiLFwic2VsZWN0aXplLWlucHV0LS1mb2N1c1wiOlwic2VsZWN0aXplLWlucHV0LS1mb2N1c19Vblo4QlwiLFwic2VsZWN0aXplLWlucHV0LS1lbXB0eVwiOlwic2VsZWN0aXplLWlucHV0LS1lbXB0eV94bjdVeVwiLFwicXVlcnktcmVzdWx0c1wiOlwicXVlcnktcmVzdWx0c19PZ0UydFwiLFwic2VsZWN0aXplLXRhZ1wiOlwic2VsZWN0aXplLXRhZ18zYUQxM1wiLFwiaWNvbi1yZW1vdmVcIjpcImljb24tcmVtb3ZlXzFPN0ZfXCJ9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9TZWxlY3RpemVJbnB1dC9TZWxlY3RpemVJbnB1dC5zY3NzXG4gKiogbW9kdWxlIGlkID0gMTc3XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgMyA0IDYgNyA4IDkgMTEgMTQgMTVcbiAqKi8iLCJpbXBvcnQgVGV4dGFyZWEgZnJvbSAnLi9UZXh0YXJlYSdcbmV4cG9ydCBkZWZhdWx0IFRleHRhcmVhXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9UZXh0YXJlYS9pbmRleC50c1xuICoqLyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFByb3BzIGFzIElucHV0UHJvcHMgfSBmcm9tICcuLi9JbnB1dC9JbnB1dCdcbmltcG9ydCBDU1NNb2R1bGVzIGZyb20gJ3JlYWN0LWNzcy1tb2R1bGVzJ1xuY29uc3Qgc3R5bGVzID0gcmVxdWlyZSgnLi9UZXh0YXJlYS5jc3MnKVxuXG5leHBvcnQgaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgSW5wdXRQcm9wcyB7XG59XG5cbkBDU1NNb2R1bGVzKHN0eWxlcywge1xuICBhbGxvd011bHRpcGxlOiB0cnVlXG59KVxuY2xhc3MgVGV4dGFyZWEgZXh0ZW5kcyBDb21wb25lbnQ8UHJvcHMsIGFueT4ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IHN0eWxlTmFtZT1cInRleHRhcmVhLXdyYXBcIiBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lIHx8ICcnfT5cbiAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgcGxhY2Vob2xkZXI9e3RoaXMucHJvcHMucGxhY2Vob2xkZXJ9XG4gICAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMudmFsdWV9XG4gICAgICAgICAgb25DaGFuZ2U9e2UgPT4ge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZShlKVxuICAgICAgICAgIH19XG4gICAgICAgICAgc3R5bGVOYW1lPVwidGV4dGFyZWFcIlxuICAgICAgICAgIHR5cGU9e3RoaXMucHJvcHMudHlwZSA/IHRoaXMucHJvcHMudHlwZSA6ICd0ZXh0J31cbiAgICAgICAgICBuYW1lPXt0aGlzLnByb3BzLm5hbWUgPyB0aGlzLnByb3BzLm5hbWUgOiBudWxsfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRleHRhcmVhXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9UZXh0YXJlYS9UZXh0YXJlYS50c3hcbiAqKi8iLCIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJ0ZXh0YXJlYS13cmFwXCI6XCJ0ZXh0YXJlYS13cmFwX1hrcGoxIGlucHV0LXdyYXBfM2RIQTNcIixcInRleHRhcmVhXCI6XCJ0ZXh0YXJlYV8xRWRvU1wifTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvX2Zvcm0vVGV4dGFyZWEvVGV4dGFyZWEuY3NzXG4gKiogbW9kdWxlIGlkID0gMTgwXG4gKiogbW9kdWxlIGNodW5rcyA9IDIgMyA0IDYgNyA4IDkgMTEgMTQgMTVcbiAqKi8iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQgeyBMaW5rLCBicm93c2VySGlzdG9yeSB9IGZyb20gJ3JlYWN0LXJvdXRlcidcbmltcG9ydCB7QXBpUm9vdHN9IGZyb20gJy4uLy4uL2NvbmZpZydcbmltcG9ydCBjYWxsQXBpIGZyb20gJy4uLy4uL3V0aWxzL2NhbGxBcGknXG5pbXBvcnQgeyBzZW5kTm90aWZpY2F0aW9uIH0gZnJvbSAnLi4vLi4vc3RvcmUvYWN0aW9ucydcbmltcG9ydCB7IElucHV0LCBCdXR0b24gfSBmcm9tICcuLi8uLi9lbGVtZW50cy9fZm9ybSdcbmltcG9ydCBEb2NDb250YWluZXIgZnJvbSAnLi4vLi4vY29udGFpbmVycy9Eb2NDb250YWluZXInXG5cbmNsYXNzIFNpZ251cCBleHRlbmRzIENvbXBvbmVudDxhbnksIGFueT4ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICB1c2VybmFtZTogJycsXG4gICAgICBlbWFpbDogJycsXG4gICAgICBwYXNzd29yZDogJydcbiAgICB9XG4gIH1cblxuICBoYW5kbGVTaWdudXAoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBsZXQgcGFyYW1zID0ge1xuICAgICAgdXNlcm5hbWU6IHRoaXMuc3RhdGUudXNlcm5hbWUsXG4gICAgICBlbWFpbDogdGhpcy5zdGF0ZS5lbWFpbCxcbiAgICAgIHBhc3N3b3JkOiB0aGlzLnN0YXRlLnBhc3N3b3JkXG4gICAgfVxuXG4gICAgY2FsbEFwaShgJHtBcGlSb290cy5MT0NBTH11c2Vyc2AsIHsgbWV0aG9kOiAnUE9TVCcsIGRhdGE6IHBhcmFtcyB9KVxuICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5zZW5kTm90aWZpY2F0aW9uKCfms6jlhozmiJDlip/vvIEnKVxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBicm93c2VySGlzdG9yeS5wdXNoKCcvJylcbiAgICAgICAgfSwgNjAwKVxuICAgICAgfSwgZXJyID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5zZW5kTm90aWZpY2F0aW9uKGVyci5tZXNzYWdlLCAnZXJyb3InKVxuICAgICAgfSlcbiAgfVxuXG4gIGhhbmRsZUlucHV0KGV2ZW50KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IFtldmVudC50YXJnZXQubmFtZV06IGV2ZW50LnRhcmdldC52YWx1ZSB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8RG9jQ29udGFpbmVyIHRpdGxlPVwi5rOo5YaMXCI+XG4gICAgICAgIDxmb3JtIGNsYXNzTmFtZT1cImNvbnRlbnQtY29udGFpbmVyXCIgbWV0aG9kPVwicG9zdFwiIGFjdGlvbj1cIi9zaWdudXBcIj5cbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwicGFnZS10aXRsZVwiPuWKoOWFpSBSZWFkcjwvaDE+XG4gICAgICAgICAgPElucHV0IG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUlucHV0LmJpbmQodGhpcykgfSB2YWx1ZT17dGhpcy5zdGF0ZS51c2VybmFtZX0gbmFtZT1cInVzZXJuYW1lXCIgcGxhY2Vob2xkZXI9XCLnlKjmiLflkI1cIiAvPlxuICAgICAgICAgIDxJbnB1dCBvbkNoYW5nZT17dGhpcy5oYW5kbGVJbnB1dC5iaW5kKHRoaXMpIH0gdmFsdWU9e3RoaXMuc3RhdGUuZW1haWx9IG5hbWU9XCJlbWFpbFwiIHBsYWNlaG9sZGVyPVwi6YKu566xXCIgLz5cbiAgICAgICAgICA8SW5wdXQgb25DaGFuZ2U9e3RoaXMuaGFuZGxlSW5wdXQuYmluZCh0aGlzKSB9IHZhbHVlPXt0aGlzLnN0YXRlLnBhc3N3b3JkfSBuYW1lPVwicGFzc3dvcmRcIiBwbGFjZWhvbGRlcj1cIuWvhueggSBcInR5cGU9XCJwYXNzd29yZFwiIC8+XG4gICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJ6MVwiIGNvbG9yPVwiYmx1ZVwiIG9uQ2xpY2s9e3RoaXMuaGFuZGxlU2lnbnVwLmJpbmQodGhpcykgfT7ms6jlhow8L0J1dHRvbj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJoaW50XCI+5bey5pyJ6LSm5Y+377yfPExpbmsgdG89XCIvc2lnbmluXCI+55m75b2VPC9MaW5rPjwvcD5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9Eb2NDb250YWluZXI+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QoXG4gIHN0YXRlID0+ICh7XG4gICAgbm90aWZpY2F0aW9uOiBzdGF0ZS5jb21wb25lbnRzLm5vdGlmaWNhdGlvbixcbiAgICB1c2VyOiBzdGF0ZS51c2VyXG4gIH0pLFxuICB7IHNlbmROb3RpZmljYXRpb24gfSBhcyBhbnlcbikoU2lnbnVwKVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL2lzb21vcnBoaWMvcm91dGVzL1NpZ251cC9TaWdudXAudHN4XG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==