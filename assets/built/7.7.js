webpackJsonp([7],{171:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Textarea=t.SelectizeInput=t.Input=t.Button=void 0;var r=n(96),u=o(r),a=n(172),i=o(a),l=n(175),s=o(l),c=n(178),p=o(c);t.Button=u["default"],t.Input=i["default"],t.SelectizeInput=s["default"],t.Textarea=p["default"]},172:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(173),u=o(r);t["default"]=u["default"]},173:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=n(3),c=o(s),p=n(82),f=o(p),d=function(e,t,n,o){var r,u=arguments.length,a=3>u?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(3>u?r(a):u>3?r(t,n,a):r(t,n))||a);return u>3&&a&&Object.defineProperty(t,n,a),a},h=n(174),y=function(e){function t(e){return r(this,t),u(this,Object.getPrototypeOf(t).call(this,e))}return a(t,e),i(t,[{key:"render",value:function(){var e=this,t=Object.assign({},this.props);return delete t.className,c["default"].createElement("div",{styleName:"input-wrap",className:this.props.className||""},c["default"].createElement("input",{styleName:"input",placeholder:this.props.placeholder,value:this.props.value,onChange:function(t){e.props.onChange(t)},type:this.props.type?this.props.type:"text",name:this.props.name?this.props.name:null}))}}]),t}(s.Component);y=d([(0,f["default"])(h,{allowMultiple:!0})],y),t["default"]=y},174:function(e,t){e.exports={"input-wrap":"input-wrap_3dHA3",input:"input_2juBO"}},175:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(176),u=o(r);t["default"]=u["default"]},176:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=n(3),c=o(s),p=n(78),f=o(p),d=n(80),h=o(d),y=n(82),b=o(y),m=n(108),v=o(m),O=function(e,t,n,o){var r,u=arguments.length,a=3>u?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(3>u?r(a):u>3?r(t,n,a):r(t,n))||a);return u>3&&a&&Object.defineProperty(t,n,a),a},g=n(177),w=function(e){function t(e){r(this,t);var n=u(this,Object.getPrototypeOf(t).call(this,e));return n.state={showOptions:!1,focus:!1,value:"",expendedOptionIndex:0},n.handleOutsideClick=n.handleOutsideClick.bind(n),n.focusInput=n.focusInput.bind(n),n.handleInputWrapClick=n.handleInputWrapClick.bind(n),n}return a(t,e),i(t,[{key:"addValue",value:function(e){this.props.onValuesChange(this.props.values.concat(e)),this.props.onOptionsChange&&this.props.onOptionsChange(this.props.options.map(function(t){return t.value===e.value?Object.assign({},t,{disabled:!0}):t})),this.clearInputValue(),"undefined"!=typeof this.props.stayFocused&&this.props.stayFocused===!1||this.focusInput(),this.setState({showOptions:!1})}},{key:"removeValue",value:function(e){var t=[],n=void 0;-1===e?(t=this.props.values.slice(0,this.props.values.length-1),n=this.props.values[this.props.values.length-1].value):t=this.props.values.filter(function(t,o){return n=t.value,o!==e}),this.props.onOptionsChange&&this.props.onOptionsChange(this.props.options.map(function(e){return e.value===n?Object.assign({},e,{disabled:!1}):e})),this.props.onValuesChange(t)}},{key:"clearInputValue",value:function(){this.props.onInputChange("")}},{key:"handleKeyPress",value:function(e){8!==e.keyCode||this.props.value||this.removeValue(-1)}},{key:"focusInput",value:function(){this.input.focus()}},{key:"handleOutsideClick",value:function(e){(0,v["default"])(this.inputWrap,e.target)||this.setState({showOptions:!1})}},{key:"handleInputWrapClick",value:function(){this.focusInput(),this.setState({showOptions:!0})}},{key:"componentDidMount",value:function(){window.addEventListener("click",this.handleOutsideClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handleOutsideClick)}},{key:"render",value:function(){var e=this,t=this.props,n=t.label,o=t.values,r=t.onAddNewValue,u=this.props.value||"",a=this.props.options||[],i=o.length>0?0===u.length?16:16*u.length:"100%",l=o.length>0?"":this.props.placeholder,s=(0,h["default"])({"selectize-input":!0,"selectize-input--focus":this.state.focus,"selectize-input--empty":0===o.length});return c["default"].createElement("div",{styleName:"selectize-wrap",className:this.props.className||""},n?c["default"].createElement("label",{className:"form-label"},n):null,c["default"].createElement("div",{styleName:s,onClick:this.handleInputWrapClick,ref:function(t){e.inputWrap=t}},o.map(function(t,n){return c["default"].createElement("span",{key:n,styleName:"selectize-tag"},t.name,c["default"].createElement(f["default"],{styleName:"icon-remove",size:20,name:"close",onClick:function(t){e.removeValue(n)}}))}),c["default"].createElement("input",{style:{width:i},ref:function(t){e.input=t},value:u,placeholder:l,onBlur:function(t){e.setState({focus:!1})},onFocus:function(t){e.setState({focus:!0})},onChange:function(t){e.props.onInputChange(t.target.value)},onKeyDown:function(t){e.handleKeyPress(t)}})),this.state.showOptions&&(0!==a.length||r)?c["default"].createElement("ul",{styleName:"query-results"},a.map(function(t,n){return t.disabled?c["default"].createElement("li",{key:n,className:"disabled"},t.name):c["default"].createElement("li",{key:n,onClick:function(n){e.addValue(t),e.props.onOptionClick&&e.props.onOptionClick(t)}},c["default"].createElement("span",null,t.name))}),r?c["default"].createElement("li",{onClick:function(t){r(e.props.value)},className:"add"},"添加 ",c["default"].createElement("strong",null,this.props.value)):null):null)}}]),t}(s.Component);w=O([(0,b["default"])(g,{allowMultiple:!0})],w),t["default"]=w},177:function(e,t){e.exports={"selectize-wrap":"selectize-wrap_3AMAi","selectize-input":"selectize-input_14bgP","selectize-input--focus":"selectize-input--focus_UnZ8B","selectize-input--empty":"selectize-input--empty_xn7Uy","query-results":"query-results_OgE2t","selectize-tag":"selectize-tag_3aD13","icon-remove":"icon-remove_1O7F_"}},178:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(179),u=o(r);t["default"]=u["default"]},179:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=n(3),c=o(s),p=n(82),f=o(p),d=function(e,t,n,o){var r,u=arguments.length,a=3>u?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(3>u?r(a):u>3?r(t,n,a):r(t,n))||a);return u>3&&a&&Object.defineProperty(t,n,a),a},h=n(180),y=function(e){function t(e){return r(this,t),u(this,Object.getPrototypeOf(t).call(this,e))}return a(t,e),i(t,[{key:"render",value:function(){var e=this;return c["default"].createElement("div",{styleName:"textarea-wrap",className:this.props.className||""},c["default"].createElement("textarea",{placeholder:this.props.placeholder,value:this.props.value,onChange:function(t){e.props.onChange(t)},styleName:"textarea",type:this.props.type?this.props.type:"text",name:this.props.name?this.props.name:null}))}}]),t}(s.Component);y=d([(0,f["default"])(h,{allowMultiple:!0})],y),t["default"]=y},180:function(e,t){e.exports={"textarea-wrap":"textarea-wrap_Xkpj1 input-wrap_3dHA3",textarea:"textarea_1EdoS"}},207:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(3),c=o(s),p=n(7),f=n(4),d=n(15),h=n(121),y=o(h),b=n(8),m=n(171),v=n(134),O=o(v),g=function(e){function t(e){u(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.state={login:"",password:""},n}return i(t,e),l(t,[{key:"handleSignin",value:function(e){var t=this;e.preventDefault();var n={login:this.state.login,password:this.state.password};(0,y["default"])(d.ApiRoots.LOCAL+"auth",{method:"POST",data:n}).then(function(e){t.props.sendNotification("登录成功！","success",1500),t.props.userAuth().then(function(){setTimeout(function(){f.browserHistory.push("/")},600)})})["catch"](function(e){t.props.sendNotification(e.message,"error")})}},{key:"handleInput",value:function(e){this.setState(r({},e.target.name,e.target.value))}},{key:"render",value:function(){return c["default"].createElement(O["default"],{title:"登录"},c["default"].createElement("form",{className:"content-container",action:d.ApiRoots.LOCAL+"auth",method:"post"},c["default"].createElement("h1",{className:"page-title"},"欢迎回来"),c["default"].createElement(m.Input,{onChange:this.handleInput.bind(this),value:this.state.login,name:"login",placeholder:"用户名或邮箱"}),c["default"].createElement(m.Input,{onChange:this.handleInput.bind(this),value:this.state.password,name:"password",placeholder:"密码",type:"password"}),c["default"].createElement(m.Button,{className:"z1",color:"blue",onClick:this.handleSignin.bind(this)},"登录"),c["default"].createElement("p",{className:"hint"},"没有账号？",c["default"].createElement(f.Link,{to:"/signup"},"注册"))))}}]),t}(s.Component);t["default"]=(0,p.connect)(function(e){return{notification:e.components.notification,user:e.user}},{sendNotification:b.sendNotification,userAuth:b.userAuth})(g)}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vNy43LmpzIiwid2VicGFjazovLy9zcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9pbmRleC50cz81MGQ3KioqIiwid2VicGFjazovLy9zcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9JbnB1dC9pbmRleC50cz8yMWQzKioqIiwid2VicGFjazovLy9zcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9JbnB1dC9JbnB1dC50c3g/ZGExZCoqKiIsIndlYnBhY2s6Ly8vLi9zcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9JbnB1dC9JbnB1dC5jc3M/ZWRmNSoqKiIsIndlYnBhY2s6Ly8vc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvX2Zvcm0vU2VsZWN0aXplSW5wdXQvaW5kZXgudHM/N2U4MCoqKiIsIndlYnBhY2s6Ly8vc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvX2Zvcm0vU2VsZWN0aXplSW5wdXQvU2VsZWN0aXplSW5wdXQudHN4PzRlNzMqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvX2Zvcm0vU2VsZWN0aXplSW5wdXQvU2VsZWN0aXplSW5wdXQuc2Nzcz9mMDg2KioqIiwid2VicGFjazovLy9zcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9UZXh0YXJlYS9pbmRleC50cz9iODEyKioqIiwid2VicGFjazovLy9zcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9UZXh0YXJlYS9UZXh0YXJlYS50c3g/YzJhZioqKiIsIndlYnBhY2s6Ly8vLi9zcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9UZXh0YXJlYS9UZXh0YXJlYS5jc3M/ZDlmZioqKiIsIndlYnBhY2s6Ly8vc3JjL2lzb21vcnBoaWMvcm91dGVzL1NpZ25pbi9TaWduaW4udHN4Il0sIm5hbWVzIjpbIndlYnBhY2tKc29ucCIsMTcxLCJtb2R1bGUiLCJleHBvcnRzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJUZXh0YXJlYSIsIlNlbGVjdGl6ZUlucHV0IiwiSW5wdXQiLCJCdXR0b24iLCJ1bmRlZmluZWQiLCJfQnV0dG9uIiwiX0J1dHRvbjIiLCJfSW5wdXQiLCJfSW5wdXQyIiwiX1NlbGVjdGl6ZUlucHV0IiwiX1NlbGVjdGl6ZUlucHV0MiIsIl9UZXh0YXJlYSIsIl9UZXh0YXJlYTIiLDE3MiwxNzMsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsInNlbGYiLCJjYWxsIiwiUmVmZXJlbmNlRXJyb3IiLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJwcm90b3R5cGUiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJrZXkiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfdHlwZW9mIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfcmVhY3QiLCJfcmVhY3QyIiwiX3JlYWN0Q3NzTW9kdWxlcyIsIl9yZWFjdENzc01vZHVsZXMyIiwiX19kZWNvcmF0ZSIsImRlY29yYXRvcnMiLCJkZXNjIiwiZCIsImMiLCJhcmd1bWVudHMiLCJyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiUmVmbGVjdCIsImRlY29yYXRlIiwic3R5bGVzIiwiX0NvbXBvbmVudCIsInRoaXMiLCJnZXRQcm90b3R5cGVPZiIsIl90aGlzMiIsImFzc2lnbiIsImNsYXNzTmFtZSIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZU5hbWUiLCJwbGFjZWhvbGRlciIsIm9uQ2hhbmdlIiwiZSIsInR5cGUiLCJuYW1lIiwiQ29tcG9uZW50IiwiYWxsb3dNdWx0aXBsZSIsMTc0LCJpbnB1dC13cmFwIiwiaW5wdXQiLDE3NSwxNzYsIl9JY29uIiwiX0ljb24yIiwiX2NsYXNzbmFtZXMiLCJfY2xhc3NuYW1lczIiLCJfaXNEZXNjZW5kYW50IiwiX2lzRGVzY2VuZGFudDIiLCJfdGhpcyIsInN0YXRlIiwic2hvd09wdGlvbnMiLCJmb2N1cyIsImV4cGVuZGVkT3B0aW9uSW5kZXgiLCJoYW5kbGVPdXRzaWRlQ2xpY2siLCJiaW5kIiwiZm9jdXNJbnB1dCIsImhhbmRsZUlucHV0V3JhcENsaWNrIiwibmV3VmFsdWUiLCJvblZhbHVlc0NoYW5nZSIsInZhbHVlcyIsImNvbmNhdCIsIm9uT3B0aW9uc0NoYW5nZSIsIm9wdGlvbnMiLCJtYXAiLCJvcHRpb24iLCJkaXNhYmxlZCIsImNsZWFySW5wdXRWYWx1ZSIsInN0YXlGb2N1c2VkIiwic2V0U3RhdGUiLCJpbmRleCIsIm5ld1ZhbHVlcyIsInJlbW92ZWRWYWx1ZSIsInNsaWNlIiwiZmlsdGVyIiwidiIsIm9uSW5wdXRDaGFuZ2UiLCJrZXlDb2RlIiwicmVtb3ZlVmFsdWUiLCJpbnB1dFdyYXAiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9wcm9wcyIsImxhYmVsIiwib25BZGROZXdWYWx1ZSIsImlucHV0V2lkdGgiLCJzZWxlY3RpemVJbnB1dFN0eWxlTmFtZSIsInNlbGVjdGl6ZS1pbnB1dCIsInNlbGVjdGl6ZS1pbnB1dC0tZm9jdXMiLCJzZWxlY3RpemUtaW5wdXQtLWVtcHR5Iiwib25DbGljayIsInJlZiIsIl9yZWYiLCJzaXplIiwic3R5bGUiLCJ3aWR0aCIsIl9yZWYyIiwib25CbHVyIiwib25Gb2N1cyIsIm9uS2V5RG93biIsImhhbmRsZUtleVByZXNzIiwiYWRkVmFsdWUiLCJvbk9wdGlvbkNsaWNrIiwxNzcsInNlbGVjdGl6ZS13cmFwIiwicXVlcnktcmVzdWx0cyIsInNlbGVjdGl6ZS10YWciLCJpY29uLXJlbW92ZSIsMTc4LDE3OSwxODAsInRleHRhcmVhLXdyYXAiLCJ0ZXh0YXJlYSIsMjA3LCJfZGVmaW5lUHJvcGVydHkiLCJfcmVhY3RSZWR1eCIsIl9yZWFjdFJvdXRlciIsIl9jb25maWciLCJfY2FsbEFwaSIsIl9jYWxsQXBpMiIsIl9hY3Rpb25zIiwiX2Zvcm0iLCJfRG9jQ29udGFpbmVyIiwiX0RvY0NvbnRhaW5lcjIiLCJTaWduaW4iLCJsb2dpbiIsInBhc3N3b3JkIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInBhcmFtcyIsIkFwaVJvb3RzIiwiTE9DQUwiLCJtZXRob2QiLCJkYXRhIiwidGhlbiIsInJlcyIsInNlbmROb3RpZmljYXRpb24iLCJ1c2VyQXV0aCIsInNldFRpbWVvdXQiLCJicm93c2VySGlzdG9yeSIsInB1c2giLCJlcnIiLCJtZXNzYWdlIiwidGl0bGUiLCJhY3Rpb24iLCJoYW5kbGVJbnB1dCIsImNvbG9yIiwiaGFuZGxlU2lnbmluIiwiTGluayIsInRvIiwiY29ubmVjdCIsIm5vdGlmaWNhdGlvbiIsImNvbXBvbmVudHMiLCJ1c2VyIl0sIm1hcHBpbmdzIjoiQUFBQUEsY0FBYyxJQUVSQyxJQUNBLFNBQVNDLEVBQVFDLEVBQVNDLEdBRS9CLFlBdUJBLFNBQVNDLEdBQXVCQyxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFFLFVBQVNGLEdBckJ2RkcsT0FBT0MsZUFBZVAsRUFBUyxjQUM3QlEsT0FBTyxJQUVUUixFQUFRUyxTQUFXVCxFQUFRVSxlQUFpQlYsRUFBUVcsTUFBUVgsRUFBUVksT0FBU0MsTUNWakQsSUFBQUMsR0FBQWIsRUFBQSxJRGN4QmMsRUFBV2IsRUFBdUJZLEdDYlpFLEVBQUFmLEVBQUEsS0RpQnRCZ0IsRUFBVWYsRUFBdUJjLEdDaEJPRSxFQUFBakIsRUFBQSxLRG9CeENrQixFQUFtQmpCLEVBQXVCZ0IsR0NqQi9DRSxFQUFBbkIsRUFBQSxLRHFCS29CLEVB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U0FDTDFDLE1BQU8sV1dwZ0JMLE1BQ0xpRCxjQUFhb0IsY0FBQStGLGNBQU1vQixNQUFLLE1BQ3RCdkksYUFBQW9CLGNBQUssUUFBVUQsVUFBb0Isb0JBQVNxSCxPQUFXM0IsRUFBQWEsU0FBYUMsTUFBQSxPQUFPQyxPQUFPLFFBQ2hGNUgsYUFBQW9CLGNBQUcsTUFBVUQsVUFBYSxjQUFVLFFBQ3BDbkIsYUFBTW9CLGNBQUE2RixFQUFBL0osT0FBU3FFLFNBQU1SLEtBQVkwSCxZQUFLM0YsS0FBUS9CLE1BQU1oRSxNQUFNZ0UsS0FBTTBCLE1BQU80RSxNQUFLM0YsS0FBUSxRQUFZSixZQUFZLFdBQzVHdEIsYUFBTW9CLGNBQUE2RixFQUFBL0osT0FBU3FFLFNBQU1SLEtBQVkwSCxZQUFLM0YsS0FBUS9CLE1BQU1oRSxNQUFNZ0UsS0FBTTBCLE1BQVU2RSxTQUFLNUYsS0FBVyxXQUFZSixZQUFLLEtBQUtHLEtBQWMsYUFDOUh6QixhQUFPb0IsY0FBQTZGLEVBQUE5SixRQUFVZ0UsVUFBSyxLQUFNdUgsTUFBTyxPQUFReEQsUUFBTW5FLEtBQWE0SCxhQUFLN0YsS0FBUS9CLE9BQVksTUFDdkZmLGFBQUFvQixjQUFFLEtBQVVELFVBQU8sZ0JBQU1uQixhQUFLb0IsY0FBQXdGLEVBQUFnQyxNQUFHQyxHQUFVLFdBT3JELGFYMmZZekIsR0FDVHJILEVBQU80QixVQUVUcEYsZVc5ZnFCLEVBQUFvSyxFQUFBbUMsU0FBQSxTQUFBckcsR1grZmpCLE9XN2ZXc0csYUFBT3RHLEVBQVd1RyxXQUFhRCxhQUN2Q0UsS0FBT3hHLEVBQ1h3RyxRQUNnQmpCLGlCQUFBaEIsRUFBQWdCLGlCQUNuQkMsU0FBQWpCLEVBQUFpQixXQUFRYiIsImZpbGUiOiI3LjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3ZWJwYWNrSnNvbnAoWzddLHtcblxuLyoqKi8gMTcxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuVGV4dGFyZWEgPSBleHBvcnRzLlNlbGVjdGl6ZUlucHV0ID0gZXhwb3J0cy5JbnB1dCA9IGV4cG9ydHMuQnV0dG9uID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9CdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk2KTtcblx0XG5cdHZhciBfQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0J1dHRvbik7XG5cdFxuXHR2YXIgX0lucHV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzIpO1xuXHRcblx0dmFyIF9JbnB1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbnB1dCk7XG5cdFxuXHR2YXIgX1NlbGVjdGl6ZUlucHV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzUpO1xuXHRcblx0dmFyIF9TZWxlY3RpemVJbnB1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWxlY3RpemVJbnB1dCk7XG5cdFxuXHR2YXIgX1RleHRhcmVhID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzgpO1xuXHRcblx0dmFyIF9UZXh0YXJlYTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0YXJlYSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5CdXR0b24gPSBfQnV0dG9uMi5kZWZhdWx0O1xuXHRleHBvcnRzLklucHV0ID0gX0lucHV0Mi5kZWZhdWx0O1xuXHRleHBvcnRzLlNlbGVjdGl6ZUlucHV0ID0gX1NlbGVjdGl6ZUlucHV0Mi5kZWZhdWx0O1xuXHRleHBvcnRzLlRleHRhcmVhID0gX1RleHRhcmVhMi5kZWZhdWx0O1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNzI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfSW5wdXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Myk7XG5cdFxuXHR2YXIgX0lucHV0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0lucHV0KTtcblxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5cdGV4cG9ydHMuZGVmYXVsdCA9IF9JbnB1dDIuZGVmYXVsdDtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTczOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3RDc3NNb2R1bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Mik7XG5cdFxuXHR2YXIgX3JlYWN0Q3NzTW9kdWxlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdENzc01vZHVsZXMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9fZGVjb3JhdGUgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fZGVjb3JhdGUgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG5cdCAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdCAgICAgICAgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsXG5cdCAgICAgICAgZDtcblx0ICAgIGlmICgodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihSZWZsZWN0KSkgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO2Vsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0ICAgICAgICBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuXHQgICAgfXJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG5cdH07XG5cdFxuXHR2YXIgc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzQpO1xuXHR2YXIgSW5wdXQgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICAgX2luaGVyaXRzKElucHV0LCBfQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBJbnB1dChwcm9wcykge1xuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbnB1dCk7XG5cdFxuXHQgICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoSW5wdXQpLmNhbGwodGhpcywgcHJvcHMpKTtcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoSW5wdXQsIFt7XG5cdCAgICAgICAga2V5OiBcInJlbmRlclwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgICAgICAgdmFyIHByb3BzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wcm9wcyk7XG5cdCAgICAgICAgICAgIGRlbGV0ZSBwcm9wcy5jbGFzc05hbWU7XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlTmFtZTogXCJpbnB1dC13cmFwXCIsIGNsYXNzTmFtZTogdGhpcy5wcm9wcy5jbGFzc05hbWUgfHwgJycgfSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7IHN0eWxlTmFtZTogXCJpbnB1dFwiLCBwbGFjZWhvbGRlcjogdGhpcy5wcm9wcy5wbGFjZWhvbGRlciwgdmFsdWU6IHRoaXMucHJvcHMudmFsdWUsIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnByb3BzLm9uQ2hhbmdlKGUpO1xuXHQgICAgICAgICAgICAgICAgfSwgdHlwZTogdGhpcy5wcm9wcy50eXBlID8gdGhpcy5wcm9wcy50eXBlIDogJ3RleHQnLCBuYW1lOiB0aGlzLnByb3BzLm5hbWUgPyB0aGlzLnByb3BzLm5hbWUgOiBudWxsIH0pKTtcblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIElucHV0O1xuXHR9KF9yZWFjdC5Db21wb25lbnQpO1xuXHRJbnB1dCA9IF9fZGVjb3JhdGUoWygwLCBfcmVhY3RDc3NNb2R1bGVzMi5kZWZhdWx0KShzdHlsZXMsIHtcblx0ICAgIGFsbG93TXVsdGlwbGU6IHRydWVcblx0fSldLCBJbnB1dCk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IElucHV0O1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNzQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcImlucHV0LXdyYXBcIjpcImlucHV0LXdyYXBfM2RIQTNcIixcImlucHV0XCI6XCJpbnB1dF8yanVCT1wifTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTc1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX1NlbGVjdGl6ZUlucHV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzYpO1xuXHRcblx0dmFyIF9TZWxlY3RpemVJbnB1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWxlY3RpemVJbnB1dCk7XG5cblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuXHRleHBvcnRzLmRlZmF1bHQgPSBfU2VsZWN0aXplSW5wdXQyLmRlZmF1bHQ7XG5cbi8qKiovIH0sXG5cbi8qKiovIDE3Njpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX0ljb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc4KTtcblx0XG5cdHZhciBfSWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JY29uKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oODApO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF9yZWFjdENzc01vZHVsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgyKTtcblx0XG5cdHZhciBfcmVhY3RDc3NNb2R1bGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0Q3NzTW9kdWxlcyk7XG5cdFxuXHR2YXIgX2lzRGVzY2VuZGFudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTA4KTtcblx0XG5cdHZhciBfaXNEZXNjZW5kYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzRGVzY2VuZGFudCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX19kZWNvcmF0ZSA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19kZWNvcmF0ZSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcblx0ICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCxcblx0ICAgICAgICByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYyxcblx0ICAgICAgICBkO1xuXHQgICAgaWYgKCh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKFJlZmxlY3QpKSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7ZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHQgICAgICAgIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG5cdCAgICB9cmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcblx0fTtcblx0XG5cdHZhciBzdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Nyk7XG5cdHZhciBTZWxlY3RpemVJbnB1dCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgICBfaW5oZXJpdHMoU2VsZWN0aXplSW5wdXQsIF9Db21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIFNlbGVjdGl6ZUlucHV0KHByb3BzKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNlbGVjdGl6ZUlucHV0KTtcblx0XG5cdCAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgT2JqZWN0LmdldFByb3RvdHlwZU9mKFNlbGVjdGl6ZUlucHV0KS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICAgICAgICBzaG93T3B0aW9uczogZmFsc2UsXG5cdCAgICAgICAgICAgIGZvY3VzOiBmYWxzZSxcblx0ICAgICAgICAgICAgdmFsdWU6ICcnLFxuXHQgICAgICAgICAgICBleHBlbmRlZE9wdGlvbkluZGV4OiAwXG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfdGhpcy5oYW5kbGVPdXRzaWRlQ2xpY2sgPSBfdGhpcy5oYW5kbGVPdXRzaWRlQ2xpY2suYmluZChfdGhpcyk7XG5cdCAgICAgICAgX3RoaXMuZm9jdXNJbnB1dCA9IF90aGlzLmZvY3VzSW5wdXQuYmluZChfdGhpcyk7XG5cdCAgICAgICAgX3RoaXMuaGFuZGxlSW5wdXRXcmFwQ2xpY2sgPSBfdGhpcy5oYW5kbGVJbnB1dFdyYXBDbGljay5iaW5kKF90aGlzKTtcblx0ICAgICAgICByZXR1cm4gX3RoaXM7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKFNlbGVjdGl6ZUlucHV0LCBbe1xuXHQgICAgICAgIGtleTogXCJhZGRWYWx1ZVwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRWYWx1ZShuZXdWYWx1ZSkge1xuXHQgICAgICAgICAgICB0aGlzLnByb3BzLm9uVmFsdWVzQ2hhbmdlKHRoaXMucHJvcHMudmFsdWVzLmNvbmNhdChuZXdWYWx1ZSkpO1xuXHQgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vbk9wdGlvbnNDaGFuZ2UpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25PcHRpb25zQ2hhbmdlKHRoaXMucHJvcHMub3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wdGlvbikge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb24udmFsdWUgPT09IG5ld1ZhbHVlLnZhbHVlID8gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9uLCB7IGRpc2FibGVkOiB0cnVlIH0pIDogb3B0aW9uO1xuXHQgICAgICAgICAgICAgICAgfSkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHRoaXMuY2xlYXJJbnB1dFZhbHVlKCk7XG5cdCAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5wcm9wcy5zdGF5Rm9jdXNlZCA9PT0gJ3VuZGVmaW5lZCcgfHwgdGhpcy5wcm9wcy5zdGF5Rm9jdXNlZCAhPT0gZmFsc2UpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuZm9jdXNJbnB1dCgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgc2hvd09wdGlvbnM6IGZhbHNlXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwicmVtb3ZlVmFsdWVcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlVmFsdWUoaW5kZXgpIHtcblx0ICAgICAgICAgICAgdmFyIG5ld1ZhbHVlcyA9IFtdO1xuXHQgICAgICAgICAgICB2YXIgcmVtb3ZlZFZhbHVlID0gdm9pZCAwO1xuXHQgICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG5cdCAgICAgICAgICAgICAgICBuZXdWYWx1ZXMgPSB0aGlzLnByb3BzLnZhbHVlcy5zbGljZSgwLCB0aGlzLnByb3BzLnZhbHVlcy5sZW5ndGggLSAxKTtcblx0ICAgICAgICAgICAgICAgIHJlbW92ZWRWYWx1ZSA9IHRoaXMucHJvcHMudmFsdWVzW3RoaXMucHJvcHMudmFsdWVzLmxlbmd0aCAtIDFdLnZhbHVlO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgbmV3VmFsdWVzID0gdGhpcy5wcm9wcy52YWx1ZXMuZmlsdGVyKGZ1bmN0aW9uICh2LCBpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZFZhbHVlID0gdi52YWx1ZTtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gaSAhPT0gaW5kZXg7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vbk9wdGlvbnNDaGFuZ2UpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25PcHRpb25zQ2hhbmdlKHRoaXMucHJvcHMub3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wdGlvbikge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb24udmFsdWUgPT09IHJlbW92ZWRWYWx1ZSA/IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbiwgeyBkaXNhYmxlZDogZmFsc2UgfSkgOiBvcHRpb247XG5cdCAgICAgICAgICAgICAgICB9KSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdGhpcy5wcm9wcy5vblZhbHVlc0NoYW5nZShuZXdWYWx1ZXMpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwiY2xlYXJJbnB1dFZhbHVlXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFySW5wdXRWYWx1ZSgpIHtcblx0ICAgICAgICAgICAgdGhpcy5wcm9wcy5vbklucHV0Q2hhbmdlKCcnKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcImhhbmRsZUtleVByZXNzXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUtleVByZXNzKGUpIHtcblx0ICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gOCAmJiAhdGhpcy5wcm9wcy52YWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVWYWx1ZSgtMSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgLy8gdG9kb1xuXHQgICAgICAgICAgICAvLyBpZiAoZS5rZXlDb2RlID09PSAxMyAmJiB0aGlzLnN0YXRlLnNob3dPcHRpb25zKSB7XG5cdCAgICAgICAgICAgIC8vICAgdGhpcy5hZGRWYWx1ZSgpXG5cdCAgICAgICAgICAgIC8vIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcImZvY3VzSW5wdXRcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZm9jdXNJbnB1dCgpIHtcblx0ICAgICAgICAgICAgdGhpcy5pbnB1dC5mb2N1cygpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwiaGFuZGxlT3V0c2lkZUNsaWNrXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZU91dHNpZGVDbGljayhlKSB7XG5cdCAgICAgICAgICAgIGlmICghKDAsIF9pc0Rlc2NlbmRhbnQyLmRlZmF1bHQpKHRoaXMuaW5wdXRXcmFwLCBlLnRhcmdldCkpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgICAgIHNob3dPcHRpb25zOiBmYWxzZVxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcImhhbmRsZUlucHV0V3JhcENsaWNrXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUlucHV0V3JhcENsaWNrKCkge1xuXHQgICAgICAgICAgICB0aGlzLmZvY3VzSW5wdXQoKTtcblx0ICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICBzaG93T3B0aW9uczogdHJ1ZVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcImNvbXBvbmVudERpZE1vdW50XCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZU91dHNpZGVDbGljayk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0ICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVPdXRzaWRlQ2xpY2spO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwicmVuZGVyXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcztcblx0ICAgICAgICAgICAgdmFyIGxhYmVsID0gX3Byb3BzLmxhYmVsO1xuXHQgICAgICAgICAgICB2YXIgdmFsdWVzID0gX3Byb3BzLnZhbHVlcztcblx0ICAgICAgICAgICAgdmFyIG9uQWRkTmV3VmFsdWUgPSBfcHJvcHMub25BZGROZXdWYWx1ZTtcblx0XG5cdCAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMucHJvcHMudmFsdWUgfHwgJyc7XG5cdCAgICAgICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5wcm9wcy5vcHRpb25zIHx8IFtdO1xuXHQgICAgICAgICAgICB2YXIgaW5wdXRXaWR0aCA9IHZhbHVlcy5sZW5ndGggPiAwID8gdmFsdWUubGVuZ3RoID09PSAwID8gMTYgOiB2YWx1ZS5sZW5ndGggKiAxNiA6ICcxMDAlJztcblx0ICAgICAgICAgICAgdmFyIHBsYWNlaG9sZGVyID0gdmFsdWVzLmxlbmd0aCA+IDAgPyAnJyA6IHRoaXMucHJvcHMucGxhY2Vob2xkZXI7XG5cdCAgICAgICAgICAgIHZhciBzZWxlY3RpemVJbnB1dFN0eWxlTmFtZSA9ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoe1xuXHQgICAgICAgICAgICAgICAgJ3NlbGVjdGl6ZS1pbnB1dCc6IHRydWUsXG5cdCAgICAgICAgICAgICAgICAnc2VsZWN0aXplLWlucHV0LS1mb2N1cyc6IHRoaXMuc3RhdGUuZm9jdXMsXG5cdCAgICAgICAgICAgICAgICAnc2VsZWN0aXplLWlucHV0LS1lbXB0eSc6IHZhbHVlcy5sZW5ndGggPT09IDBcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlTmFtZTogXCJzZWxlY3RpemUtd3JhcFwiLCBjbGFzc05hbWU6IHRoaXMucHJvcHMuY2xhc3NOYW1lIHx8ICcnIH0sIGxhYmVsID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCB7IGNsYXNzTmFtZTogXCJmb3JtLWxhYmVsXCIgfSwgbGFiZWwpIDogbnVsbCwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBzdHlsZU5hbWU6IHNlbGVjdGl6ZUlucHV0U3R5bGVOYW1lLCBvbkNsaWNrOiB0aGlzLmhhbmRsZUlucHV0V3JhcENsaWNrLCByZWY6IGZ1bmN0aW9uIHJlZihfcmVmKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmlucHV0V3JhcCA9IF9yZWY7XG5cdCAgICAgICAgICAgICAgICB9IH0sIHZhbHVlcy5tYXAoZnVuY3Rpb24gKHYsIGluZGV4KSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsga2V5OiBpbmRleCwgc3R5bGVOYW1lOiBcInNlbGVjdGl6ZS10YWdcIiB9LCB2Lm5hbWUsIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9JY29uMi5kZWZhdWx0LCB7IHN0eWxlTmFtZTogXCJpY29uLXJlbW92ZVwiLCBzaXplOiAyMCwgbmFtZTogXCJjbG9zZVwiLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnJlbW92ZVZhbHVlKGluZGV4KTtcblx0ICAgICAgICAgICAgICAgICAgICB9IH0pKTtcblx0ICAgICAgICAgICAgfSksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgeyBzdHlsZTogeyB3aWR0aDogaW5wdXRXaWR0aCB9LCByZWY6IGZ1bmN0aW9uIHJlZihfcmVmMikge1xuXHQgICAgICAgICAgICAgICAgICAgIF90aGlzMi5pbnB1dCA9IF9yZWYyO1xuXHQgICAgICAgICAgICAgICAgfSwgdmFsdWU6IHZhbHVlLCBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsIG9uQmx1cjogZnVuY3Rpb24gb25CbHVyKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoeyBmb2N1czogZmFsc2UgfSk7XG5cdCAgICAgICAgICAgICAgICB9LCBvbkZvY3VzOiBmdW5jdGlvbiBvbkZvY3VzKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoeyBmb2N1czogdHJ1ZSB9KTtcblx0ICAgICAgICAgICAgICAgIH0sIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnByb3BzLm9uSW5wdXRDaGFuZ2UoZS50YXJnZXQudmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgfSwgb25LZXlEb3duOiBmdW5jdGlvbiBvbktleURvd24oZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIF90aGlzMi5oYW5kbGVLZXlQcmVzcyhlKTtcblx0ICAgICAgICAgICAgICAgIH0gfSkpLCB0aGlzLnN0YXRlLnNob3dPcHRpb25zICYmIChvcHRpb25zLmxlbmd0aCAhPT0gMCB8fCBvbkFkZE5ld1ZhbHVlKSA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwidWxcIiwgeyBzdHlsZU5hbWU6IFwicXVlcnktcmVzdWx0c1wiIH0sIG9wdGlvbnMubWFwKGZ1bmN0aW9uIChvcHRpb24sIGluZGV4KSB7XG5cdCAgICAgICAgICAgICAgICBpZiAob3B0aW9uLmRpc2FibGVkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwibGlcIiwgeyBrZXk6IGluZGV4LCBjbGFzc05hbWU6IFwiZGlzYWJsZWRcIiB9LCBvcHRpb24ubmFtZSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7IGtleTogaW5kZXgsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuYWRkVmFsdWUob3B0aW9uKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMi5wcm9wcy5vbk9wdGlvbkNsaWNrKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIucHJvcHMub25PcHRpb25DbGljayhvcHRpb24pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfSB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgb3B0aW9uLm5hbWUpKTtcblx0ICAgICAgICAgICAgfSksIG9uQWRkTmV3VmFsdWUgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImxpXCIsIHsgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgb25BZGROZXdWYWx1ZShfdGhpczIucHJvcHMudmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgfSwgY2xhc3NOYW1lOiBcImFkZFwiIH0sIFwi5re75YqgIFwiLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInN0cm9uZ1wiLCBudWxsLCB0aGlzLnByb3BzLnZhbHVlKSkgOiBudWxsKSA6IG51bGwpO1xuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gU2VsZWN0aXplSW5wdXQ7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFNlbGVjdGl6ZUlucHV0ID0gX19kZWNvcmF0ZShbKDAsIF9yZWFjdENzc01vZHVsZXMyLmRlZmF1bHQpKHN0eWxlcywge1xuXHQgICAgYWxsb3dNdWx0aXBsZTogdHJ1ZVxuXHR9KV0sIFNlbGVjdGl6ZUlucHV0KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gU2VsZWN0aXplSW5wdXQ7XG5cbi8qKiovIH0sXG5cbi8qKiovIDE3Nzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cdG1vZHVsZS5leHBvcnRzID0ge1wic2VsZWN0aXplLXdyYXBcIjpcInNlbGVjdGl6ZS13cmFwXzNBTUFpXCIsXCJzZWxlY3RpemUtaW5wdXRcIjpcInNlbGVjdGl6ZS1pbnB1dF8xNGJnUFwiLFwic2VsZWN0aXplLWlucHV0LS1mb2N1c1wiOlwic2VsZWN0aXplLWlucHV0LS1mb2N1c19Vblo4QlwiLFwic2VsZWN0aXplLWlucHV0LS1lbXB0eVwiOlwic2VsZWN0aXplLWlucHV0LS1lbXB0eV94bjdVeVwiLFwicXVlcnktcmVzdWx0c1wiOlwicXVlcnktcmVzdWx0c19PZ0UydFwiLFwic2VsZWN0aXplLXRhZ1wiOlwic2VsZWN0aXplLXRhZ18zYUQxM1wiLFwiaWNvbi1yZW1vdmVcIjpcImljb24tcmVtb3ZlXzFPN0ZfXCJ9O1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNzg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfVGV4dGFyZWEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3OSk7XG5cdFxuXHR2YXIgX1RleHRhcmVhMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHRhcmVhKTtcblxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5cdGV4cG9ydHMuZGVmYXVsdCA9IF9UZXh0YXJlYTIuZGVmYXVsdDtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTc5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3RDc3NNb2R1bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Mik7XG5cdFxuXHR2YXIgX3JlYWN0Q3NzTW9kdWxlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdENzc01vZHVsZXMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9fZGVjb3JhdGUgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fZGVjb3JhdGUgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG5cdCAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdCAgICAgICAgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsXG5cdCAgICAgICAgZDtcblx0ICAgIGlmICgodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihSZWZsZWN0KSkgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO2Vsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0ICAgICAgICBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuXHQgICAgfXJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG5cdH07XG5cdFxuXHR2YXIgc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODApO1xuXHR2YXIgVGV4dGFyZWEgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICAgX2luaGVyaXRzKFRleHRhcmVhLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBUZXh0YXJlYShwcm9wcykge1xuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0YXJlYSk7XG5cdFxuXHQgICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGV4dGFyZWEpLmNhbGwodGhpcywgcHJvcHMpKTtcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoVGV4dGFyZWEsIFt7XG5cdCAgICAgICAga2V5OiBcInJlbmRlclwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgc3R5bGVOYW1lOiBcInRleHRhcmVhLXdyYXBcIiwgY2xhc3NOYW1lOiB0aGlzLnByb3BzLmNsYXNzTmFtZSB8fCAnJyB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIsIHsgcGxhY2Vob2xkZXI6IHRoaXMucHJvcHMucGxhY2Vob2xkZXIsIHZhbHVlOiB0aGlzLnByb3BzLnZhbHVlLCBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIF90aGlzMi5wcm9wcy5vbkNoYW5nZShlKTtcblx0ICAgICAgICAgICAgICAgIH0sIHN0eWxlTmFtZTogXCJ0ZXh0YXJlYVwiLCB0eXBlOiB0aGlzLnByb3BzLnR5cGUgPyB0aGlzLnByb3BzLnR5cGUgOiAndGV4dCcsIG5hbWU6IHRoaXMucHJvcHMubmFtZSA/IHRoaXMucHJvcHMubmFtZSA6IG51bGwgfSkpO1xuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gVGV4dGFyZWE7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFRleHRhcmVhID0gX19kZWNvcmF0ZShbKDAsIF9yZWFjdENzc01vZHVsZXMyLmRlZmF1bHQpKHN0eWxlcywge1xuXHQgICAgYWxsb3dNdWx0aXBsZTogdHJ1ZVxuXHR9KV0sIFRleHRhcmVhKTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gVGV4dGFyZWE7XG5cbi8qKiovIH0sXG5cbi8qKiovIDE4MDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cdG1vZHVsZS5leHBvcnRzID0ge1widGV4dGFyZWEtd3JhcFwiOlwidGV4dGFyZWEtd3JhcF9Ya3BqMSBpbnB1dC13cmFwXzNkSEEzXCIsXCJ0ZXh0YXJlYVwiOlwidGV4dGFyZWFfMUVkb1NcIn07XG5cbi8qKiovIH0sXG5cbi8qKiovIDIwNzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3RSZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX3JlYWN0Um91dGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfY29uZmlnID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cdFxuXHR2YXIgX2NhbGxBcGkgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEyMSk7XG5cdFxuXHR2YXIgX2NhbGxBcGkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FsbEFwaSk7XG5cdFxuXHR2YXIgX2FjdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0dmFyIF9mb3JtID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzEpO1xuXHRcblx0dmFyIF9Eb2NDb250YWluZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNCk7XG5cdFxuXHR2YXIgX0RvY0NvbnRhaW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Eb2NDb250YWluZXIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBTaWduaW4gPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICAgX2luaGVyaXRzKFNpZ25pbiwgX0NvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gU2lnbmluKHByb3BzKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNpZ25pbik7XG5cdFxuXHQgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIE9iamVjdC5nZXRQcm90b3R5cGVPZihTaWduaW4pLmNhbGwodGhpcywgcHJvcHMpKTtcblx0XG5cdCAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG5cdCAgICAgICAgICAgIGxvZ2luOiAnJyxcblx0ICAgICAgICAgICAgcGFzc3dvcmQ6ICcnXG5cdCAgICAgICAgfTtcblx0ICAgICAgICByZXR1cm4gX3RoaXM7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKFNpZ25pbiwgW3tcblx0ICAgICAgICBrZXk6ICdoYW5kbGVTaWduaW4nLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTaWduaW4oZXZlbnQpIHtcblx0ICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHQgICAgICAgICAgICB2YXIgcGFyYW1zID0ge1xuXHQgICAgICAgICAgICAgICAgbG9naW46IHRoaXMuc3RhdGUubG9naW4sXG5cdCAgICAgICAgICAgICAgICBwYXNzd29yZDogdGhpcy5zdGF0ZS5wYXNzd29yZFxuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgICAgICAoMCwgX2NhbGxBcGkyLmRlZmF1bHQpKF9jb25maWcuQXBpUm9vdHMuTE9DQUwgKyAnYXV0aCcsIHsgbWV0aG9kOiAnUE9TVCcsIGRhdGE6IHBhcmFtcyB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcblx0ICAgICAgICAgICAgICAgIF90aGlzMi5wcm9wcy5zZW5kTm90aWZpY2F0aW9uKCfnmbvlvZXmiJDlip/vvIEnLCAnc3VjY2VzcycsIDE1MDApO1xuXHQgICAgICAgICAgICAgICAgX3RoaXMyLnByb3BzLnVzZXJBdXRoKCkudGhlbihmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFjdFJvdXRlci5icm93c2VySGlzdG9yeS5wdXNoKCcvJyk7XG5cdCAgICAgICAgICAgICAgICAgICAgfSwgNjAwKTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG5cdCAgICAgICAgICAgICAgICBfdGhpczIucHJvcHMuc2VuZE5vdGlmaWNhdGlvbihlcnIubWVzc2FnZSwgJ2Vycm9yJyk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdoYW5kbGVJbnB1dCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUlucHV0KGV2ZW50KSB7XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoX2RlZmluZVByb3BlcnR5KHt9LCBldmVudC50YXJnZXQubmFtZSwgZXZlbnQudGFyZ2V0LnZhbHVlKSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Eb2NDb250YWluZXIyLmRlZmF1bHQsIHsgdGl0bGU6IFwi55m75b2VXCIgfSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIsIHsgY2xhc3NOYW1lOiBcImNvbnRlbnQtY29udGFpbmVyXCIsIGFjdGlvbjogX2NvbmZpZy5BcGlSb290cy5MT0NBTCArICdhdXRoJywgbWV0aG9kOiBcInBvc3RcIiB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImgxXCIsIHsgY2xhc3NOYW1lOiBcInBhZ2UtdGl0bGVcIiB9LCBcIuasoui/juWbnuadpVwiKSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2Zvcm0uSW5wdXQsIHsgb25DaGFuZ2U6IHRoaXMuaGFuZGxlSW5wdXQuYmluZCh0aGlzKSwgdmFsdWU6IHRoaXMuc3RhdGUubG9naW4sIG5hbWU6IFwibG9naW5cIiwgcGxhY2Vob2xkZXI6IFwi55So5oi35ZCN5oiW6YKu566xXCIgfSksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9mb3JtLklucHV0LCB7IG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUlucHV0LmJpbmQodGhpcyksIHZhbHVlOiB0aGlzLnN0YXRlLnBhc3N3b3JkLCBuYW1lOiBcInBhc3N3b3JkXCIsIHBsYWNlaG9sZGVyOiBcIuWvhueggVwiLCB0eXBlOiBcInBhc3N3b3JkXCIgfSksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9mb3JtLkJ1dHRvbiwgeyBjbGFzc05hbWU6IFwiejFcIiwgY29sb3I6IFwiYmx1ZVwiLCBvbkNsaWNrOiB0aGlzLmhhbmRsZVNpZ25pbi5iaW5kKHRoaXMpIH0sIFwi55m75b2VXCIpLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInBcIiwgeyBjbGFzc05hbWU6IFwiaGludFwiIH0sIFwi5rKh5pyJ6LSm5Y+377yfXCIsIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdFJvdXRlci5MaW5rLCB7IHRvOiBcIi9zaWdudXBcIiB9LCBcIuazqOWGjFwiKSkpKTtcblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIFNpZ25pbjtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfcmVhY3RSZWR1eC5jb25uZWN0KShmdW5jdGlvbiAoc3RhdGUpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgbm90aWZpY2F0aW9uOiBzdGF0ZS5jb21wb25lbnRzLm5vdGlmaWNhdGlvbixcblx0ICAgICAgICB1c2VyOiBzdGF0ZS51c2VyXG5cdCAgICB9O1xuXHR9LCB7IHNlbmROb3RpZmljYXRpb246IF9hY3Rpb25zLnNlbmROb3RpZmljYXRpb24sIHVzZXJBdXRoOiBfYWN0aW9ucy51c2VyQXV0aCB9KShTaWduaW4pO1xuXG4vKioqLyB9XG5cbn0pO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIDcuNy5qc1xuICoqLyIsImltcG9ydCBCdXR0b24gZnJvbSAnLi9CdXR0b24nXG5pbXBvcnQgSW5wdXQgZnJvbSAnLi9JbnB1dCdcbmltcG9ydCBTZWxlY3RpemVJbnB1dCBmcm9tICcuL1NlbGVjdGl6ZUlucHV0J1xuaW1wb3J0IFRleHRhcmVhIGZyb20gJy4vVGV4dGFyZWEnXG5cbmV4cG9ydCB7IEJ1dHRvbiwgSW5wdXQsIFNlbGVjdGl6ZUlucHV0LCBUZXh0YXJlYSB9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9pbmRleC50c1xuICoqLyIsImltcG9ydCBJbnB1dCBmcm9tICcuL0lucHV0J1xuZXhwb3J0IGRlZmF1bHQgSW5wdXRcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9pc29tb3JwaGljL2VsZW1lbnRzL19mb3JtL0lucHV0L2luZGV4LnRzXG4gKiovIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IENTU01vZHVsZXMgZnJvbSAncmVhY3QtY3NzLW1vZHVsZXMnXG5jb25zdCBzdHlsZXMgPSByZXF1aXJlKCcuL0lucHV0LmNzcycpXG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvcHMge1xuICBjbGFzc05hbWU/OiBzdHJpbmdcbiAgcGxhY2Vob2xkZXI/OiBzdHJpbmdcbiAgb25DaGFuZ2U/OiBhbnlcbiAgdmFsdWU/OiBzdHJpbmdcbiAgdHlwZT86IHN0cmluZ1xuICBuYW1lPzogc3RyaW5nXG59XG5cbkBDU1NNb2R1bGVzKHN0eWxlcywge1xuICBhbGxvd011bHRpcGxlOiB0cnVlXG59KVxuY2xhc3MgSW5wdXQgZXh0ZW5kcyBDb21wb25lbnQ8UHJvcHMsIGFueT4ge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGxldCBwcm9wcyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMucHJvcHMpXG4gICAgZGVsZXRlIHByb3BzLmNsYXNzTmFtZVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgc3R5bGVOYW1lPVwiaW5wdXQtd3JhcFwiIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWUgfHwgJyd9PlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICBzdHlsZU5hbWU9XCJpbnB1dFwiXG4gICAgICAgICAgcGxhY2Vob2xkZXI9e3RoaXMucHJvcHMucGxhY2Vob2xkZXJ9XG4gICAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMudmFsdWV9XG4gICAgICAgICAgb25DaGFuZ2U9e2UgPT4ge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZShlKVxuICAgICAgICAgIH19XG4gICAgICAgICAgdHlwZT17dGhpcy5wcm9wcy50eXBlID8gdGhpcy5wcm9wcy50eXBlIDogJ3RleHQnfVxuICAgICAgICAgIG5hbWU9e3RoaXMucHJvcHMubmFtZSA/IHRoaXMucHJvcHMubmFtZSA6IG51bGx9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW5wdXRcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9pc29tb3JwaGljL2VsZW1lbnRzL19mb3JtL0lucHV0L0lucHV0LnRzeFxuICoqLyIsIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcImlucHV0LXdyYXBcIjpcImlucHV0LXdyYXBfM2RIQTNcIixcImlucHV0XCI6XCJpbnB1dF8yanVCT1wifTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvX2Zvcm0vSW5wdXQvSW5wdXQuY3NzXG4gKiogbW9kdWxlIGlkID0gMTc0XG4gKiogbW9kdWxlIGNodW5rcyA9IDIgMyA0IDYgNyA4IDkgMTEgMTQgMTVcbiAqKi8iLCJpbXBvcnQgU2VsZWN0aXplSW5wdXQgZnJvbSAnLi9TZWxlY3RpemVJbnB1dCdcbmV4cG9ydCBkZWZhdWx0IFNlbGVjdGl6ZUlucHV0XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9TZWxlY3RpemVJbnB1dC9pbmRleC50c1xuICoqLyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBJY29uIGZyb20gJy4uLy4uL0ljb24nXG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJ1xuaW1wb3J0IENTU01vZHVsZXMgZnJvbSAncmVhY3QtY3NzLW1vZHVsZXMnXG5pbXBvcnQgaXNEZXNjZW5kYW50IGZyb20gJy4uLy4uLy4uL3V0aWxzL2RvbS9pc0Rlc2NlbmRhbnQnXG5jb25zdCBzdHlsZXMgPSByZXF1aXJlKCcuL1NlbGVjdGl6ZUlucHV0LnNjc3MnKVxuXG50eXBlIFR5cGVPcHRpb24gPSB7XG4gIHZhbHVlOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIGRpc2FibGVkPzogYm9vbGVhblxuICBhZGRpdGlvbmFsPzogYW55XG59XG5cbnR5cGUgVHlwZVZhbHVlID0ge1xuICB2YWx1ZTogc3RyaW5nXG4gIG5hbWU6IHN0cmluZ1xufVxuXG5pbnRlcmZhY2UgSVByb3BzIHtcbiAgY2xhc3NOYW1lPzogc3RyaW5nXG4gIHBsYWNlaG9sZGVyPzogc3RyaW5nXG4gIGxhYmVsPzogc3RyaW5nXG4gIHN0YXlGb2N1c2VkPzogYm9vbGVhbiAvLyBkZWZhdWx0IHRydWVcblxuICB2YWx1ZTogc3RyaW5nXG4gIG9uSW5wdXRDaGFuZ2U6IChuZXdWYWx1ZTogc3RyaW5nKSA9PiB2b2lkXG5cbiAgb3B0aW9uczogQXJyYXk8VHlwZU9wdGlvbj5cbiAgb25PcHRpb25zQ2hhbmdlPzogKG5ld1ZhbHVlczogQXJyYXk8VHlwZU9wdGlvbj4pID0+IHZvaWRcblxuICB2YWx1ZXM6IEFycmF5PFR5cGVWYWx1ZT5cbiAgb25WYWx1ZXNDaGFuZ2U6IChuZXdWYWx1ZXM6IEFycmF5PFR5cGVWYWx1ZT4pID0+IHZvaWRcblxuICAvLyDpop3lpJblip/og71cbiAgb25BZGROZXdWYWx1ZT86IChuZXdWYWx1ZTogc3RyaW5nKSA9PiB2b2lkXG4gIG9uT3B0aW9uQ2xpY2s/OiAoc2VsZWN0ZWRWYWx1ZTogVHlwZU9wdGlvbikgPT4gdm9pZFxufVxuXG5pbnRlcmZhY2UgSVN0YXRlIHtcbiAgZm9jdXM/OiBib29sZWFuXG4gIHNob3dPcHRpb25zPzogYm9vbGVhblxuICB2YWx1ZT86IHN0cmluZ1xuICBleHBlbmRlZE9wdGlvbkluZGV4PzogbnVtYmVyXG59XG5cbkBDU1NNb2R1bGVzKHN0eWxlcywge1xuICBhbGxvd011bHRpcGxlOiB0cnVlXG59KVxuY2xhc3MgU2VsZWN0aXplSW5wdXQgZXh0ZW5kcyBDb21wb25lbnQ8SVByb3BzLCBJU3RhdGU+IHtcblxuICBpbnB1dDogSFRNTElucHV0RWxlbWVudFxuICBpbnB1dFdyYXA6IEhUTUxEaXZFbGVtZW50XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgc2hvd09wdGlvbnM6IGZhbHNlLFxuICAgICAgZm9jdXM6IGZhbHNlLFxuICAgICAgdmFsdWU6ICcnLFxuICAgICAgZXhwZW5kZWRPcHRpb25JbmRleDogMFxuICAgIH1cbiAgICB0aGlzLmhhbmRsZU91dHNpZGVDbGljayA9IHRoaXMuaGFuZGxlT3V0c2lkZUNsaWNrLmJpbmQodGhpcylcbiAgICB0aGlzLmZvY3VzSW5wdXQgPSB0aGlzLmZvY3VzSW5wdXQuYmluZCh0aGlzKVxuICAgIHRoaXMuaGFuZGxlSW5wdXRXcmFwQ2xpY2sgPSB0aGlzLmhhbmRsZUlucHV0V3JhcENsaWNrLmJpbmQodGhpcylcbiAgfVxuXG4gIGFkZFZhbHVlKG5ld1ZhbHVlKSB7XG4gICAgdGhpcy5wcm9wcy5vblZhbHVlc0NoYW5nZSh0aGlzLnByb3BzLnZhbHVlcy5jb25jYXQobmV3VmFsdWUpKVxuICAgIGlmICh0aGlzLnByb3BzLm9uT3B0aW9uc0NoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5vbk9wdGlvbnNDaGFuZ2UodGhpcy5wcm9wcy5vcHRpb25zLm1hcChvcHRpb24gPT4gKG9wdGlvbi52YWx1ZSA9PT0gbmV3VmFsdWUudmFsdWVcbiAgICAgICAgPyBPYmplY3QuYXNzaWduKHt9LCBvcHRpb24sIHsgZGlzYWJsZWQ6IHRydWUgfSlcbiAgICAgICAgOiBvcHRpb24pKSlcbiAgICB9XG4gICAgdGhpcy5jbGVhcklucHV0VmFsdWUoKVxuICAgIGlmICh0eXBlb2YgdGhpcy5wcm9wcy5zdGF5Rm9jdXNlZCA9PT0gJ3VuZGVmaW5lZCcgfHwgdGhpcy5wcm9wcy5zdGF5Rm9jdXNlZCAhPT0gZmFsc2UpIHtcbiAgICAgIHRoaXMuZm9jdXNJbnB1dCgpXG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2hvd09wdGlvbnM6IGZhbHNlXG4gICAgfSlcbiAgfVxuXG4gIHJlbW92ZVZhbHVlKGluZGV4KSB7XG4gICAgbGV0IG5ld1ZhbHVlcyA9IFtdXG4gICAgbGV0IHJlbW92ZWRWYWx1ZVxuXG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgbmV3VmFsdWVzID0gdGhpcy5wcm9wcy52YWx1ZXMuc2xpY2UoMCwgdGhpcy5wcm9wcy52YWx1ZXMubGVuZ3RoIC0gMSlcbiAgICAgIHJlbW92ZWRWYWx1ZSA9IHRoaXMucHJvcHMudmFsdWVzW3RoaXMucHJvcHMudmFsdWVzLmxlbmd0aCAtIDFdLnZhbHVlXG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1ZhbHVlcyA9IHRoaXMucHJvcHMudmFsdWVzXG4gICAgICAgIC5maWx0ZXIoKHYsIGkpID0+IHtcbiAgICAgICAgICByZW1vdmVkVmFsdWUgPSB2LnZhbHVlXG4gICAgICAgICAgcmV0dXJuIGkgIT09IGluZGV4XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvcHMub25PcHRpb25zQ2hhbmdlKSB7XG4gICAgICB0aGlzLnByb3BzLm9uT3B0aW9uc0NoYW5nZSh0aGlzLnByb3BzLm9wdGlvbnMubWFwKG9wdGlvbiA9PiAob3B0aW9uLnZhbHVlID09PSByZW1vdmVkVmFsdWVcbiAgICAgICAgPyBPYmplY3QuYXNzaWduKHt9LCBvcHRpb24sIHsgZGlzYWJsZWQ6IGZhbHNlIH0pXG4gICAgICAgIDogb3B0aW9uKSkpXG4gICAgfVxuXG4gICAgdGhpcy5wcm9wcy5vblZhbHVlc0NoYW5nZShuZXdWYWx1ZXMpXG4gIH1cblxuICBjbGVhcklucHV0VmFsdWUoKSB7XG4gICAgdGhpcy5wcm9wcy5vbklucHV0Q2hhbmdlKCcnKVxuICB9XG5cbiAgaGFuZGxlS2V5UHJlc3MoZSkge1xuICAgIGlmIChlLmtleUNvZGUgPT09IDggJiYgIXRoaXMucHJvcHMudmFsdWUpIHtcbiAgICAgIHRoaXMucmVtb3ZlVmFsdWUoLSAxKVxuICAgIH1cbiAgICAvLyB0b2RvXG4gICAgLy8gaWYgKGUua2V5Q29kZSA9PT0gMTMgJiYgdGhpcy5zdGF0ZS5zaG93T3B0aW9ucykge1xuICAgIC8vICAgdGhpcy5hZGRWYWx1ZSgpXG4gICAgLy8gfVxuICB9XG5cbiAgZm9jdXNJbnB1dCgpIHtcbiAgICB0aGlzLmlucHV0LmZvY3VzKClcbiAgfVxuXG4gIGhhbmRsZU91dHNpZGVDbGljayhlKSB7XG4gICAgaWYgKCFpc0Rlc2NlbmRhbnQodGhpcy5pbnB1dFdyYXAsIGUudGFyZ2V0KSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNob3dPcHRpb25zOiBmYWxzZVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBoYW5kbGVJbnB1dFdyYXBDbGljaygpIHtcbiAgICB0aGlzLmZvY3VzSW5wdXQoKVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzaG93T3B0aW9uczogdHJ1ZVxuICAgIH0pXG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZU91dHNpZGVDbGljaylcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlT3V0c2lkZUNsaWNrKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgbGFiZWwsIHZhbHVlcywgb25BZGROZXdWYWx1ZSB9ID0gdGhpcy5wcm9wc1xuXG4gICAgbGV0IHZhbHVlID0gdGhpcy5wcm9wcy52YWx1ZSB8fCAnJ1xuICAgIGxldCBvcHRpb25zID0gdGhpcy5wcm9wcy5vcHRpb25zIHx8IFtdXG5cbiAgICBsZXQgaW5wdXRXaWR0aCA9IHZhbHVlcy5sZW5ndGggPiAwID8gKHZhbHVlLmxlbmd0aCA9PT0gMCA/IDE2IDogdmFsdWUubGVuZ3RoICogMTYpIDogJzEwMCUnXG4gICAgbGV0IHBsYWNlaG9sZGVyID0gdmFsdWVzLmxlbmd0aCA+IDAgPyAnJyA6IHRoaXMucHJvcHMucGxhY2Vob2xkZXJcblxuICAgIGNvbnN0IHNlbGVjdGl6ZUlucHV0U3R5bGVOYW1lID0gY2xhc3NuYW1lcyh7XG4gICAgICAnc2VsZWN0aXplLWlucHV0JzogdHJ1ZSxcbiAgICAgICdzZWxlY3RpemUtaW5wdXQtLWZvY3VzJzogdGhpcy5zdGF0ZS5mb2N1cyxcbiAgICAgICdzZWxlY3RpemUtaW5wdXQtLWVtcHR5JzogdmFsdWVzLmxlbmd0aCA9PT0gMFxuICAgIH0pXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBzdHlsZU5hbWU9XCJzZWxlY3RpemUtd3JhcFwiIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWUgfHwgJyd9PlxuICAgICAgICB7XG4gICAgICAgICAgbGFiZWwgPyAoXG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZm9ybS1sYWJlbFwiPntsYWJlbH08L2xhYmVsPlxuICAgICAgICAgICkgOiBudWxsXG4gICAgICAgIH1cbiAgICAgICAgPGRpdlxuICAgICAgICAgIHN0eWxlTmFtZT17c2VsZWN0aXplSW5wdXRTdHlsZU5hbWV9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVJbnB1dFdyYXBDbGlja31cbiAgICAgICAgICByZWY9e3JlZiA9PiB7IHRoaXMuaW5wdXRXcmFwID0gcmVmIH0gfVxuICAgICAgICAgID5cbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YWx1ZXMubWFwKCh2LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxzcGFuIGtleT17aW5kZXh9IHN0eWxlTmFtZT1cInNlbGVjdGl6ZS10YWdcIj5cbiAgICAgICAgICAgICAgICAgIHt2Lm5hbWV9XG4gICAgICAgICAgICAgICAgICA8SWNvblxuICAgICAgICAgICAgICAgICAgICBzdHlsZU5hbWU9XCJpY29uLXJlbW92ZVwiXG4gICAgICAgICAgICAgICAgICAgIHNpemU9ezIwfVxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwiY2xvc2VcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVZhbHVlKGluZGV4KVxuICAgICAgICAgICAgICAgICAgICB9IH1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGlucHV0V2lkdGggfX1cbiAgICAgICAgICAgIHJlZj17cmVmID0+IHsgdGhpcy5pbnB1dCA9IHJlZiB9IH1cbiAgICAgICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtwbGFjZWhvbGRlcn1cbiAgICAgICAgICAgIG9uQmx1cj17ZSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBmb2N1czogZmFsc2UgfSlcbiAgICAgICAgICAgIH0gfVxuICAgICAgICAgICAgb25Gb2N1cz17ZSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBmb2N1czogdHJ1ZSB9KVxuICAgICAgICAgICAgfSB9XG4gICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMucHJvcHMub25JbnB1dENoYW5nZSgoZS50YXJnZXQgYXMgYW55KS52YWx1ZSlcbiAgICAgICAgICAgIH0gfVxuICAgICAgICAgICAgb25LZXlEb3duPXtlID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5oYW5kbGVLZXlQcmVzcyhlKVxuICAgICAgICAgICAgfSB9XG4gICAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge1xuICAgICAgICAgIHRoaXMuc3RhdGUuc2hvd09wdGlvbnMgJiYgKG9wdGlvbnMubGVuZ3RoICE9PSAwIHx8IG9uQWRkTmV3VmFsdWUpID8gKFxuICAgICAgICAgICAgPHVsIHN0eWxlTmFtZT1cInF1ZXJ5LXJlc3VsdHNcIj5cbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMubWFwKChvcHRpb24sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAob3B0aW9uLmRpc2FibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA8bGkga2V5PXtpbmRleH0gY2xhc3NOYW1lPVwiZGlzYWJsZWRcIj57b3B0aW9uLm5hbWV9PC9saT5cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxsaVxuICAgICAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFZhbHVlKG9wdGlvbilcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uT3B0aW9uQ2xpY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbk9wdGlvbkNsaWNrKG9wdGlvbilcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9IH1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e29wdGlvbi5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvbkFkZE5ld1ZhbHVlID8gKFxuICAgICAgICAgICAgICAgICAgPGxpXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIG9uQWRkTmV3VmFsdWUodGhpcy5wcm9wcy52YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgfSB9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFkZFwiPua3u+WKoCA8c3Ryb25nPnt0aGlzLnByb3BzLnZhbHVlfTwvc3Ryb25nPjwvbGk+XG4gICAgICAgICAgICAgICAgKSA6IG51bGxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICApIDogbnVsbFxuICAgICAgICB9XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2VsZWN0aXplSW5wdXRcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9pc29tb3JwaGljL2VsZW1lbnRzL19mb3JtL1NlbGVjdGl6ZUlucHV0L1NlbGVjdGl6ZUlucHV0LnRzeFxuICoqLyIsIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcInNlbGVjdGl6ZS13cmFwXCI6XCJzZWxlY3RpemUtd3JhcF8zQU1BaVwiLFwic2VsZWN0aXplLWlucHV0XCI6XCJzZWxlY3RpemUtaW5wdXRfMTRiZ1BcIixcInNlbGVjdGl6ZS1pbnB1dC0tZm9jdXNcIjpcInNlbGVjdGl6ZS1pbnB1dC0tZm9jdXNfVW5aOEJcIixcInNlbGVjdGl6ZS1pbnB1dC0tZW1wdHlcIjpcInNlbGVjdGl6ZS1pbnB1dC0tZW1wdHlfeG43VXlcIixcInF1ZXJ5LXJlc3VsdHNcIjpcInF1ZXJ5LXJlc3VsdHNfT2dFMnRcIixcInNlbGVjdGl6ZS10YWdcIjpcInNlbGVjdGl6ZS10YWdfM2FEMTNcIixcImljb24tcmVtb3ZlXCI6XCJpY29uLXJlbW92ZV8xTzdGX1wifTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvX2Zvcm0vU2VsZWN0aXplSW5wdXQvU2VsZWN0aXplSW5wdXQuc2Nzc1xuICoqIG1vZHVsZSBpZCA9IDE3N1xuICoqIG1vZHVsZSBjaHVua3MgPSAyIDMgNCA2IDcgOCA5IDExIDE0IDE1XG4gKiovIiwiaW1wb3J0IFRleHRhcmVhIGZyb20gJy4vVGV4dGFyZWEnXG5leHBvcnQgZGVmYXVsdCBUZXh0YXJlYVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvX2Zvcm0vVGV4dGFyZWEvaW5kZXgudHNcbiAqKi8iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBQcm9wcyBhcyBJbnB1dFByb3BzIH0gZnJvbSAnLi4vSW5wdXQvSW5wdXQnXG5pbXBvcnQgQ1NTTW9kdWxlcyBmcm9tICdyZWFjdC1jc3MtbW9kdWxlcydcbmNvbnN0IHN0eWxlcyA9IHJlcXVpcmUoJy4vVGV4dGFyZWEuY3NzJylcblxuZXhwb3J0IGludGVyZmFjZSBQcm9wcyBleHRlbmRzIElucHV0UHJvcHMge1xufVxuXG5AQ1NTTW9kdWxlcyhzdHlsZXMsIHtcbiAgYWxsb3dNdWx0aXBsZTogdHJ1ZVxufSlcbmNsYXNzIFRleHRhcmVhIGV4dGVuZHMgQ29tcG9uZW50PFByb3BzLCBhbnk+IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBzdHlsZU5hbWU9XCJ0ZXh0YXJlYS13cmFwXCIgY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZSB8fCAnJ30+XG4gICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgIHBsYWNlaG9sZGVyPXt0aGlzLnByb3BzLnBsYWNlaG9sZGVyfVxuICAgICAgICAgIHZhbHVlPXt0aGlzLnByb3BzLnZhbHVlfVxuICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UoZSlcbiAgICAgICAgICB9fVxuICAgICAgICAgIHN0eWxlTmFtZT1cInRleHRhcmVhXCJcbiAgICAgICAgICB0eXBlPXt0aGlzLnByb3BzLnR5cGUgPyB0aGlzLnByb3BzLnR5cGUgOiAndGV4dCd9XG4gICAgICAgICAgbmFtZT17dGhpcy5wcm9wcy5uYW1lID8gdGhpcy5wcm9wcy5uYW1lIDogbnVsbH1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUZXh0YXJlYVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvX2Zvcm0vVGV4dGFyZWEvVGV4dGFyZWEudHN4XG4gKiovIiwiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1widGV4dGFyZWEtd3JhcFwiOlwidGV4dGFyZWEtd3JhcF9Ya3BqMSBpbnB1dC13cmFwXzNkSEEzXCIsXCJ0ZXh0YXJlYVwiOlwidGV4dGFyZWFfMUVkb1NcIn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9pc29tb3JwaGljL2VsZW1lbnRzL19mb3JtL1RleHRhcmVhL1RleHRhcmVhLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE4MFxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDMgNCA2IDcgOCA5IDExIDE0IDE1XG4gKiovIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4J1xuaW1wb3J0IHsgTGluaywgYnJvd3Nlckhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXInXG5pbXBvcnQge0FwaVJvb3RzfSBmcm9tICcuLi8uLi9jb25maWcnXG5pbXBvcnQgY2FsbEFwaSBmcm9tICcuLi8uLi91dGlscy9jYWxsQXBpJ1xuaW1wb3J0IHsgc2VuZE5vdGlmaWNhdGlvbiwgdXNlckF1dGggfSBmcm9tICcuLi8uLi9zdG9yZS9hY3Rpb25zJ1xuaW1wb3J0IHsgQnV0dG9uLCBJbnB1dCB9IGZyb20gJy4uLy4uL2VsZW1lbnRzL19mb3JtJ1xuaW1wb3J0IERvY0NvbnRhaW5lciBmcm9tICcuLi8uLi9jb250YWluZXJzL0RvY0NvbnRhaW5lcidcblxuY2xhc3MgU2lnbmluIGV4dGVuZHMgQ29tcG9uZW50PGFueSwgYW55PiB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGxvZ2luOiAnJyxcbiAgICAgIHBhc3N3b3JkOiAnJ1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVNpZ25pbihldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgIGxldCBwYXJhbXMgPSB7XG4gICAgICBsb2dpbjogdGhpcy5zdGF0ZS5sb2dpbixcbiAgICAgIHBhc3N3b3JkOiB0aGlzLnN0YXRlLnBhc3N3b3JkXG4gICAgfVxuXG4gICAgY2FsbEFwaShgJHtBcGlSb290cy5MT0NBTH1hdXRoYCwgeyBtZXRob2Q6ICdQT1NUJywgZGF0YTogcGFyYW1zIH0pLnRoZW4ocmVzID0+IHtcbiAgICAgIHRoaXMucHJvcHMuc2VuZE5vdGlmaWNhdGlvbign55m75b2V5oiQ5Yqf77yBJywgJ3N1Y2Nlc3MnLCAxNTAwKVxuICAgICAgdGhpcy5wcm9wcy51c2VyQXV0aCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBicm93c2VySGlzdG9yeS5wdXNoKCcvJylcbiAgICAgICAgfSwgNjAwKVxuICAgICAgfSlcbiAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICB0aGlzLnByb3BzLnNlbmROb3RpZmljYXRpb24oZXJyLm1lc3NhZ2UsICdlcnJvcicpXG4gICAgfSlcbiAgfVxuXG4gIGhhbmRsZUlucHV0KGV2ZW50KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IFtldmVudC50YXJnZXQubmFtZV06IGV2ZW50LnRhcmdldC52YWx1ZSB9KVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8RG9jQ29udGFpbmVyIHRpdGxlPVwi55m75b2VXCI+XG4gICAgICAgIDxmb3JtIGNsYXNzTmFtZT1cImNvbnRlbnQtY29udGFpbmVyXCIgYWN0aW9uPXtgJHtBcGlSb290cy5MT0NBTH1hdXRoYH0gbWV0aG9kPVwicG9zdFwiPlxuICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJwYWdlLXRpdGxlXCI+5qyi6L+O5Zue5p2lPC9oMT5cbiAgICAgICAgICA8SW5wdXQgb25DaGFuZ2U9e3RoaXMuaGFuZGxlSW5wdXQuYmluZCh0aGlzKSB9IHZhbHVlPXt0aGlzLnN0YXRlLmxvZ2lufSBuYW1lPVwibG9naW5cIiBwbGFjZWhvbGRlcj1cIueUqOaIt+WQjeaIlumCrueusVwiIC8+XG4gICAgICAgICAgPElucHV0IG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUlucHV0LmJpbmQodGhpcykgfSB2YWx1ZT17dGhpcy5zdGF0ZS5wYXNzd29yZH0gbmFtZT1cInBhc3N3b3JkXCIgcGxhY2Vob2xkZXI9XCLlr4bnoIFcIiB0eXBlPVwicGFzc3dvcmRcIiAvPlxuICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiejFcIiBjb2xvcj1cImJsdWVcIiBvbkNsaWNrPXt0aGlzLmhhbmRsZVNpZ25pbi5iaW5kKHRoaXMpIH0+55m75b2VPC9CdXR0b24+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwiaGludFwiPuayoeaciei0puWPt++8nzxMaW5rIHRvPVwiL3NpZ251cFwiPuazqOWGjDwvTGluaz48L3A+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvRG9jQ29udGFpbmVyPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KFxuICBzdGF0ZSA9PiAoe1xuICAgIG5vdGlmaWNhdGlvbjogc3RhdGUuY29tcG9uZW50cy5ub3RpZmljYXRpb24sXG4gICAgdXNlcjogc3RhdGUudXNlclxuICB9KSxcbiAgeyBzZW5kTm90aWZpY2F0aW9uLCB1c2VyQXV0aCB9IGFzIGFueVxuKShTaWduaW4pXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvaXNvbW9ycGhpYy9yb3V0ZXMvU2lnbmluL1NpZ25pbi50c3hcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9