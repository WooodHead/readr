import ApiRoots from 'constants/ApiRoots';
import { Schemas } from 'schemas';
export function fetchBookProgress(bookId) {
    return {
        bookId,
        CALL_API: {
            types: ['BOOK_PROGRESS_REQUEST', 'BOOK_PROGRESS_SUCCESS', 'BOOK_PROGRESS_FAILURE'],
            endpoint: `books/${bookId}/progress`,
            schema: Schemas.BOOK_PROGRESS
        }
    };
}
export function fetchBooks(flow) {
    return {
        flow,
        CALL_API: {
            types: ['BOOKS_REQUEST', 'BOOKS_SUCCESS', 'BOOKS_FAILURE'],
            endpoint: `books?flow=${flow}`,
            schema: Schemas.BOOK_ARRAY
        }
    };
}
export function fetchBook(bookId, fields) {
    let endpoint = `books/${bookId}`;
    if (fields) {
        endpoint += `?fields=${fields.join(',')}`;
    }
    return {
        bookId,
        CALL_API: {
            types: ['BOOK_REQUEST', 'BOOK_SUCCESS', 'BOOK_FAILURE'],
            endpoint,
            schema: Schemas.BOOK
        }
    };
}
export function fetchCollections() {
    return {
        CALL_API: {
            types: ['COLLECTIONS_REQUEST', 'COLLECTIONS_SUCCESS', 'COLLECTIONS_FAILURE'],
            endpoint: `collections`,
            schema: Schemas.COLLECTION_ARRAY
        }
    };
}
export function fetchCollection(collectionId) {
    return {
        collectionId,
        CALL_API: {
            types: ['COLLECTION_REQUEST', 'COLLECTION_SUCCESS', 'COLLECTION_FAILURE'],
            endpoint: `collections/${collectionId}`,
            schema: Schemas.COLLECTION
        }
    };
}
// export function fetchBookContent(bookId) {
//   return {
//     bookId,
//     CALL_API: {
//       types: ['BOOK_CONTENT_REQUEST', 'BOOK_CONTENT_SUCCESS', 'BOOK_CONTENT_FAILURE'],
//       endpoint: `books/${bookId}/content`,
//       schema: Schemas.BOOK
//     }
//   }
// }
//
// export function fetchBookInfo(bookId) {
//   return {
//     bookId,
//     CALL_API:{
//       types: ['BOOK_INFO_REQUEST', 'BOOK_INFO_SUCCESS', 'BOOK_INFO_FAILURE'],
//       endpoint: `books/${bookId}`,
//       schema: Schemas.BOOK_ARRAY
//     }
//   }
// }
export function fetchDoubanBookSearchResults(query) {
    return {
        query,
        CALL_API: {
            types: ['DOUBAN_BOOK_SEARCH_REQUEST', 'DOUBAN_BOOK_SEARCH_SUCCESS', 'DOUBAN_BOOK_SEARCH_FAILURE'],
            endpoint: `search?count=5&q=${query}`,
            apiUrl: ApiRoots.DOUBAN_BOOKS,
            schema: Schemas.DOUBAN_BOOK_SEARCH_RESULTS,
            extendedOptions: { useJsonp: true }
        }
    };
}
export function searchBooks(query) {
    return {
        query,
        CALL_API: {
            types: ['BOOK_SEARCH_REQUEST', 'BOOK_SEARCH_SUCCESS', 'BOOK_SEARCH_FAILURE'],
            endpoint: `search?q=${query}`,
            apiUrl: ApiRoots.LOCAL,
            schema: Schemas.MATCHED_BOOK_ARRAY
        }
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYm9vay5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL2NvcmUvZnJvbnRlbmQvYWN0aW9ucy9ib29rLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJPQUFPLFFBQVEsTUFBTSxvQkFBb0I7T0FDbEMsRUFBRSxPQUFPLEVBQUUsTUFBTSxTQUFTO0FBRWpDLGtDQUFrQyxNQUFNO0lBQ3RDLE1BQU0sQ0FBQztRQUNMLE1BQU07UUFDTixRQUFRLEVBQUU7WUFDUixLQUFLLEVBQUUsQ0FBQyx1QkFBdUIsRUFBRSx1QkFBdUIsRUFBRSx1QkFBdUIsQ0FBQztZQUNsRixRQUFRLEVBQUUsU0FBUyxNQUFNLFdBQVc7WUFDcEMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxhQUFhO1NBQzlCO0tBQ0YsQ0FBQTtBQUNILENBQUM7QUFFRCwyQkFBMkIsSUFBSTtJQUM3QixNQUFNLENBQUM7UUFDTCxJQUFJO1FBQ0osUUFBUSxFQUFFO1lBQ1IsS0FBSyxFQUFFLENBQUMsZUFBZSxFQUFFLGVBQWUsRUFBRSxlQUFlLENBQUM7WUFDMUQsUUFBUSxFQUFFLGNBQWMsSUFBSSxFQUFFO1lBQzlCLE1BQU0sRUFBRSxPQUFPLENBQUMsVUFBVTtTQUMzQjtLQUNGLENBQUE7QUFDSCxDQUFDO0FBRUQsMEJBQTBCLE1BQU0sRUFBRSxNQUFrQjtJQUNsRCxJQUFJLFFBQVEsR0FBRyxTQUFTLE1BQU0sRUFBRSxDQUFBO0lBRWhDLEVBQUUsQ0FBQSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDVixRQUFRLElBQUksV0FBVyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUE7SUFDM0MsQ0FBQztJQUVELE1BQU0sQ0FBQztRQUNMLE1BQU07UUFDTixRQUFRLEVBQUM7WUFDUCxLQUFLLEVBQUUsQ0FBQyxjQUFjLEVBQUUsY0FBYyxFQUFFLGNBQWMsQ0FBQztZQUN2RCxRQUFRO1lBQ1IsTUFBTSxFQUFFLE9BQU8sQ0FBQyxJQUFJO1NBQ3JCO0tBQ0YsQ0FBQTtBQUNILENBQUM7QUFFRDtJQUNFLE1BQU0sQ0FBQztRQUNMLFFBQVEsRUFBRTtZQUNSLEtBQUssRUFBRSxDQUFDLHFCQUFxQixFQUFFLHFCQUFxQixFQUFFLHFCQUFxQixDQUFDO1lBQzVFLFFBQVEsRUFBRSxhQUFhO1lBQ3ZCLE1BQU0sRUFBRSxPQUFPLENBQUMsZ0JBQWdCO1NBQ2pDO0tBQ0YsQ0FBQTtBQUNILENBQUM7QUFFRCxnQ0FBZ0MsWUFBWTtJQUMxQyxNQUFNLENBQUM7UUFDTCxZQUFZO1FBQ1osUUFBUSxFQUFFO1lBQ1IsS0FBSyxFQUFFLENBQUMsb0JBQW9CLEVBQUUsb0JBQW9CLEVBQUUsb0JBQW9CLENBQUM7WUFDekUsUUFBUSxFQUFFLGVBQWUsWUFBWSxFQUFFO1lBQ3ZDLE1BQU0sRUFBRSxPQUFPLENBQUMsVUFBVTtTQUMzQjtLQUNGLENBQUE7QUFDSCxDQUFDO0FBRUQsNkNBQTZDO0FBQzdDLGFBQWE7QUFDYixjQUFjO0FBQ2Qsa0JBQWtCO0FBQ2xCLHlGQUF5RjtBQUN6Riw2Q0FBNkM7QUFDN0MsNkJBQTZCO0FBQzdCLFFBQVE7QUFDUixNQUFNO0FBQ04sSUFBSTtBQUNKLEVBQUU7QUFDRiwwQ0FBMEM7QUFDMUMsYUFBYTtBQUNiLGNBQWM7QUFDZCxpQkFBaUI7QUFDakIsZ0ZBQWdGO0FBQ2hGLHFDQUFxQztBQUNyQyxtQ0FBbUM7QUFDbkMsUUFBUTtBQUNSLE1BQU07QUFDTixJQUFJO0FBRUosNkNBQTZDLEtBQUs7SUFDaEQsTUFBTSxDQUFDO1FBQ0wsS0FBSztRQUNMLFFBQVEsRUFBQztZQUNQLEtBQUssRUFBRSxDQUFDLDRCQUE0QixFQUFFLDRCQUE0QixFQUFFLDRCQUE0QixDQUFDO1lBQ2pHLFFBQVEsRUFBRSxvQkFBb0IsS0FBSyxFQUFFO1lBQ3JDLE1BQU0sRUFBRSxRQUFRLENBQUMsWUFBWTtZQUM3QixNQUFNLEVBQUUsT0FBTyxDQUFDLDBCQUEwQjtZQUMxQyxlQUFlLEVBQUUsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFO1NBQ3BDO0tBQ0YsQ0FBQTtBQUNILENBQUM7QUFFRCw0QkFBNEIsS0FBSztJQUMvQixNQUFNLENBQUM7UUFDTCxLQUFLO1FBQ0wsUUFBUSxFQUFDO1lBQ1AsS0FBSyxFQUFFLENBQUMscUJBQXFCLEVBQUUscUJBQXFCLEVBQUUscUJBQXFCLENBQUM7WUFDNUUsUUFBUSxFQUFFLFlBQVksS0FBSyxFQUFFO1lBQzdCLE1BQU0sRUFBRSxRQUFRLENBQUMsS0FBSztZQUN0QixNQUFNLEVBQUUsT0FBTyxDQUFDLGtCQUFrQjtTQUNuQztLQUNGLENBQUE7QUFDSCxDQUFDIn0=