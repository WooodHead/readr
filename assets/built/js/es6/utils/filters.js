import _ from 'lodash';
export function filterContentNodesByPage(contentNodes, config, page) {
    var elements = _.cloneDeep(contentNodes), pageWrap = {}, h = 0, h2 = 0, i = 0, flag = true, startIndex = 0, endIndex = 0, eleOffset = 0, top = 0, pageContent = [], style = {};
    while (i < elements.length && h < config.pageHeight * page) {
        h = parseInt(elements[i].props.style.height) + h;
        h2 = h - parseInt(elements[i].props.style.height);
        if ((h > config.pageHeight * (page - 1)) && (flag == true)) {
            startIndex = i;
            eleOffset = h2 - config.pageHeight * (page - 1);
            flag = false;
        }
        endIndex = i;
        i++;
    }
    top = (page - 1) * config.pageHeight;
    for (i = startIndex; i <= endIndex; i++) {
        switch (elements[i].type) {
            case "p":
                pageContent.push(elements[i]);
                break;
            default:
                console.error("Unsupported content found!");
        }
    }
    if (config.mode === "VERTICAL") {
        style = {
            top: top,
            position: "absolute"
        };
    }
    else {
        style = {
            top: top,
            position: "absolute"
        };
    }
    pageContent[0].props.style.marginTop = eleOffset;
    pageWrap = {
        props: {
            children: pageContent,
            style: style,
            pageNo: page
        },
        type: "page"
    };
    return pageWrap;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsdGVycy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL2NvcmUvZnJvbnRlbmQvdXRpbHMvZmlsdGVycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiT0FBTyxDQUFDLE1BQU0sUUFBUTtBQUV0Qix5Q0FBeUMsWUFBWSxFQUFFLE1BQU0sRUFBRSxJQUFJO0lBQ2pFLElBQUksUUFBUSxHQUFHLENBQUMsQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLEVBQUUsUUFBUSxHQUFHLEVBQUUsRUFDbkQsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLElBQUksRUFBRSxVQUFVLEdBQUcsQ0FBQyxFQUFFLFFBQVEsR0FBRyxDQUFDLEVBQUUsU0FBUyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUN2RixXQUFXLEdBQUcsRUFBRSxFQUFFLEtBQUssR0FBRyxFQUFFLENBQUE7SUFFaEMsT0FBTyxDQUFDLEdBQUcsUUFBUSxDQUFDLE1BQU0sSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDLFVBQVUsR0FBRyxJQUFJLEVBQUUsQ0FBQztRQUMzRCxDQUFDLEdBQUcsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUNoRCxFQUFFLEdBQUcsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQTtRQUNqRCxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsVUFBVSxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzNELFVBQVUsR0FBRyxDQUFDLENBQUE7WUFDZCxTQUFTLEdBQUcsRUFBRSxHQUFHLE1BQU0sQ0FBQyxVQUFVLEdBQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUE7WUFDL0MsSUFBSSxHQUFHLEtBQUssQ0FBQTtRQUNkLENBQUM7UUFDRCxRQUFRLEdBQUcsQ0FBQyxDQUFBO1FBQ1osQ0FBQyxFQUFFLENBQUE7SUFDTCxDQUFDO0lBQ0QsR0FBRyxHQUFHLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUM7SUFFckMsR0FBRyxDQUFBLENBQUMsQ0FBQyxHQUFHLFVBQVUsRUFBRSxDQUFDLElBQUksUUFBUSxFQUFFLENBQUMsRUFBRSxFQUFDLENBQUM7UUFDdEMsTUFBTSxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDekIsS0FBSyxHQUFHO2dCQUNOLFdBQVcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7Z0JBQzdCLEtBQUssQ0FBQTtZQUNQO2dCQUNFLE9BQU8sQ0FBQyxLQUFLLENBQUMsNEJBQTRCLENBQUMsQ0FBQztRQUNoRCxDQUFDO0lBQ0gsQ0FBQztJQUVELEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEtBQUssVUFBVSxDQUFDLENBQUMsQ0FBQztRQUMvQixLQUFLLEdBQUc7WUFDTixHQUFHLEVBQUUsR0FBRztZQUNSLFFBQVEsRUFBRSxVQUFVO1NBQ3JCLENBQUE7SUFDSCxDQUFDO0lBQUEsSUFBSSxDQUFBLENBQUM7UUFDSixLQUFLLEdBQUc7WUFDTixHQUFHLEVBQUUsR0FBRztZQUNSLFFBQVEsRUFBRSxVQUFVO1NBQ3JCLENBQUE7SUFDSCxDQUFDO0lBRUQsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQTtJQUNoRCxRQUFRLEdBQUc7UUFDVCxLQUFLLEVBQUU7WUFDTCxRQUFRLEVBQUUsV0FBVztZQUNyQixLQUFLLEVBQUUsS0FBSztZQUNaLE1BQU0sRUFBRSxJQUFJO1NBQ2I7UUFDRCxJQUFJLEVBQUUsTUFBTTtLQUNiLENBQUE7SUFFRCxNQUFNLENBQUMsUUFBUSxDQUFBO0FBQ2pCLENBQUMifQ==