webpackJsonp([1],{138:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=n(3),f=o(c),p=n(7),h=n(139),d=o(h),g=n(146),y=r(g),b=n(8),m=n(18),v=o(m),k=n(149),w=o(k),_=n(156),P=o(_),x=n(82),O=o(x),S=n(119),j=o(S),E=n(16),C=o(E),M=n(134),R=o(M),L=function(e,t,n,r){var o,i=arguments.length,s=3>i?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(3>i?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},N=n(157),H=function(e){function t(e){i(this,t);var n=s(this,Object.getPrototypeOf(t).call(this,e));return n.bookId=e.params.id,n.state={showPanel:!1,isCalcMode:!0,nodeHeights:[],nodes:[],showViewerPreference:!1,fluid:!1,isTouchMode:!1},n.handleViewerClick=n.handleViewerClick.bind(n),n.handelViewerMouseMove=n.handelViewerMouseMove.bind(n),n.handleProgressChange=n.handleProgressChange.bind(n),n.handleResize=n.handleResize.bind(n),n.deboundedHandleResize=v["default"].debounce(n.handleResize,500,{maxWait:1e3}),n}return l(t,e),a(t,[{key:"isViewFluid",value:function(){return C["default"].getScreenInfo().view.width<700}},{key:"isTouchMode",value:function(){return C["default"].getScreenInfo().view.width<700}},{key:"setProgress",value:function(e){j["default"].setProgress(this.bookId,{percentage:e})}},{key:"handelViewerMouseMove",value:function(e){if(!this.state.isCalcMode&&!this.state.isTouchMode){var t=e.pageY-document.body.scrollTop,n=C["default"].getScreenInfo().view.width-e.pageX;this.setState({showPanel:90>t,showPageInfo:100>n})}}},{key:"handleResize",value:function(){this.setState({fluid:this.isViewFluid(),isTouchMode:this.isTouchMode()})}},{key:"handleProgressChange",value:function(e){this.setProgress(e)}},{key:"handleViewerClick",value:function(){this.state.isTouchMode&&this.setState({showPanel:!this.state.showPanel})}},{key:"calcDom",value:function(){var e=this;this.setState({isCalcMode:!0},function(){var t=e.bookPageWithRawHtml.getContentHtml(),n=y.getNodeHeights(t.childNodes);console.log("calc done"),e.setState({nodeHeights:n,isCalcMode:!1})})}},{key:"loadRawBookContent",value:function(){var e=this;this.props.fetchBook(this.bookId).then(function(t){var n=y.markdownToNodeStringList(e.props.rawBookContent);e.setState({nodes:n,fluid:e.isViewFluid(),isTouchMode:e.isTouchMode()})})}},{key:"addEventListeners",value:function(){window.addEventListener("resize",this.deboundedHandleResize)}},{key:"removeEventListeners",value:function(){window.removeEventListener("resize",this.deboundedHandleResize)}},{key:"shouldComponentUpdate",value:function(e,t){return!v["default"].isEqual(this.state,t)}},{key:"componentDidUpdate",value:function(e,t){var n=0!==this.state.nodes.length&&0===t.nodes.length,r=this.state.fluid!==t.fluid;(n||r)&&this.calcDom()}},{key:"componentDidMount",value:function(){this.loadRawBookContent(),this.props.fetchProgress(this.bookId),this.addEventListeners()}},{key:"componentWillUnmount",value:function(){this.removeEventListeners()}},{key:"renderViewPanel",value:function(){var e=this;return(this.state.showPanel||this.state.showViewerPreference)&&f["default"].createElement(w["default"],{title:this.props.book.title,showViewerPreference:this.state.showViewerPreference,onPrefVisibilityChange:function(t){e.setState({showViewerPreference:t})}})}},{key:"renderBook",value:function(){var e=this,t=this.state,n=t.nodes,r=t.nodeHeights,o=t.fluid,i=t.showPageInfo,s=this.props.progress;return 0===n.length?f["default"].createElement("div",{className:"text-loading"},"加载中 ..."):this.state.isCalcMode?f["default"].createElement(P["default"],{nodes:n,ref:function(t){e.bookPageWithRawHtml=t},fluid:o}):f["default"].createElement(d["default"],{nodeHeights:r,nodes:this.state.nodes,pageCount:5,initialProgress:s,pageHeight:900,onProgressChange:this.handleProgressChange,fluid:o,showPageInfo:i})}},{key:"render",value:function(){return f["default"].createElement(R["default"],{bodyClass:"viewer",title:this.props.book.title},f["default"].createElement("div",{onClick:this.handleViewerClick,onMouseMove:this.handelViewerMouseMove},this.renderViewPanel(),this.renderBook()))}}]),t}(c.Component);H=L([(0,O["default"])(N)],H),t["default"]=(0,p.connect)(function(e,t){var n=e.entities.books[t.params.id]||{};return{book:n,rawBookContent:v["default"].get(n,"content.raw",""),progress:v["default"].get(e.payloads,"progress.percentage",0),session:e.session}},{fetchBook:b.fetchBook,fetchProgress:b.fetchProgress,openConfirmModal:b.openConfirmModal})(H)},139:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=n(3),f=o(c),p=n(140),h=o(p),d=n(142),g=r(d),y=n(18),b=o(y),m=n(80),v=o(m),k=n(82),w=o(k),_=n(143),P=o(_),x=function(e,t,n,r){var o,i=arguments.length,s=3>i?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(3>i?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},O=n(145),S=function(e){function t(e){i(this,t);var n=s(this,Object.getPrototypeOf(t).call(this,e));return n.state={scrollTop:0,currentPage:1},n.handleScroll=n.handleScroll.bind(n),n.deboundedHandleScroll=b["default"].debounce(n.handleScroll,200,{maxWait:1e3}),n}return l(t,e),a(t,[{key:"handleScroll",value:function(){if(!this.props.isCalcMode){var e=this.calcPages(),t=e.pages,n=e.totalHeight,r=this.props.onProgressChange,o=document.body.scrollTop,i=g.percentageToPage(o/n,t.length);r&&r(o/n),this.setState({currentPage:i})}}},{key:"addEventListeners",value:function(){window.addEventListener("scroll",this.deboundedHandleScroll)}},{key:"removeEventListeners",value:function(){window.removeEventListener("scroll",this.deboundedHandleScroll)}},{key:"calcPages",value:function(){var e=this.props,t=e.nodeHeights,n=e.nodes,r=e.pageHeight,o=g.groupNodesByPage(n,t,r);return{pages:o,totalHeight:o.length*r}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.pageHeight,n=e.initialPage,r=e.initialProgress,o=this.calcPages(),i=o.totalHeight,s=0;r?s=i*r:n&&(s=t*(n-1)),document.body.scrollTop=s,this.addEventListeners()}},{key:"componentWillUnmount",value:function(){this.removeEventListeners()}},{key:"render",value:function(){var e=this,t=this.calcPages(),n=t.pages,r=t.totalHeight,o=this.state.currentPage,i=this.props,s=i.pageCount,l=i.pageHeight,a=i.fluid,u=i.showPageInfo,c=o-1,p=c+s,d=(0,v["default"])({pages:!a,"pages--fluid":a});return f["default"].createElement("div",null,f["default"].createElement("ul",{ref:function(t){e.bookPageListDom=t},styleName:d,style:{height:r}},b["default"].slice(n,c,p).map(function(t,n){return f["default"].createElement(h["default"],{key:n,page:t,pageHeight:l,fluid:a,ref:function(t){e.bookPage=t}})})),f["default"].createElement(P["default"],{visible:u,current:o,total:n.length}))}}]),t}(c.Component);S=x([(0,w["default"])(O)],S),t["default"]=S},140:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=n(3),c=r(u),f=n(80),p=r(f),h=n(82),d=r(h),g=function(e,t,n,r){var o,i=arguments.length,s=3>i?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(3>i?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},y=n(141),b=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.page,r=n.nodes,o=n.meta,i=t.pageHeight,s=t.fluid,l={position:"absolute",top:i*(o.pageNo-1),height:i||"auto"},a=(0,p["default"])({page:!s,"page--fluid":s});return c["default"].createElement("li",{styleName:a,style:l},c["default"].createElement("div",{style:{marginTop:o.offset},styleName:"content",dangerouslySetInnerHTML:{__html:r.join("")},ref:function(t){e.bookPageDom=t}}),c["default"].createElement("div",{styleName:"page-no"},o.pageNo))}}]),t}(u.Component);b=g([(0,d["default"])(y)],b),t["default"]=b},141:function(e,t){e.exports={content:"content_1mydI",page:"page_1SU4h","page--fluid":"page--fluid_vX8rQ page_1SU4h","page--init":"page--init_8DZFB","page-no":"page-no_1jbV-"}},142:function(e,t){"use strict";function n(e){var t=e.pageIndex,n=e.pageHeight,r=e.nodeHeights,o=0,i=0,s=void 0;if(0!==t){for(var l=0;n*t>=l;)l+=r[i],i++;o=l-r[i-1]-t*n,s=i-1}else s=0;return{offset:o,nodeStartIndex:s}}function r(e){var t=e.pageIndex,r=e.nodes,o=e.pageHeight,i=e.nodeHeights,s=n({pageIndex:t,pageHeight:o,nodeHeights:i}),l=s.offset,a=s.nodeStartIndex,u=a,c=void 0,f=[],p=l+i[a];if(u++,o>p){for(;o>=p&&u!==r.length;)p+=i[u],u++;c=u-1}else c=a;for(var h=a;c>=h&&h<=r.length-1;h++)f.push(r[h]);return{pageNodes:f,offset:l}}function o(e,t,n){var o=[],i=t.reduce(function(e,t){return e+t},0),s=Math.ceil(i/n);if(console.log("todo: group nodes"),0===t.length)return[{nodes:e,meta:{pageNo:1,offset:0}}];for(var l=0;s>l;l++){var a=r({pageIndex:l,nodes:e,nodeHeights:t,pageHeight:n}),u=a.pageNodes,c=a.offset;o.push({nodes:u,meta:{pageNo:l+1,offset:c}})}return o}function i(e,t){return e>1?(console.error("Wrong parameter!"),null):parseInt(e*t)+1}Object.defineProperty(t,"__esModule",{value:!0}),t.groupNodesByPage=o,t.percentageToPage=i},143:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=n(3),c=r(u),f=n(82),p=r(f),h=function(e,t,n,r){var o,i=arguments.length,s=3>i?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(3>i?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},d=n(144),g=function(e){function t(e){return o(this,t),i(this,Object.getPrototypeOf(t).call(this,e))}return s(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.current,n=e.total,r=(t/n*100).toFixed(2)+"%";return this.props.visible&&c["default"].createElement("div",{styleName:"loc-info"},c["default"].createElement("div",null,c["default"].createElement("strong",null,t),"/",n),c["default"].createElement("div",{styleName:"sub-info"},r))}}]),t}(u.Component);g=h([(0,p["default"])(d)],g),t["default"]=g},144:function(e,t){e.exports={scrollbar:"scrollbar_3vHlt",button:"button_1vdqU",track:"track_2FLTA","track--past":"track--past_3YKd4 track_2FLTA","loc-info":"loc-info_377Vu","sub-info":"sub-info_3qI5u"}},145:function(e,t){e.exports={pages:"pages_1SNis","pages--fluid":"pages--fluid_39FPe pages_1SNis"}},146:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){console.log("dom ready, getNodeHeights");var t=[];return Array.prototype.forEach.call(e,function(e,n){"gb-line"!==e.className&&console.error("Unsupported content found!"),t.push(e.clientHeight)}),t}function i(e){console.log("start md");var t=(0,l["default"])(e,{gfm:!0,breaks:!0});console.log("done marked");var n=Array.prototype.map.call((0,u["default"])(t),function(e,t){return 3===e.nodeType&&"\n"===e.nodeValue?null:"P"===e.tagName?'<p class="gb-line">'+e.innerHTML+"</p>":'<div class="gb-line">'+e.outerHTML+"</div>"}).filter(function(e){return e});return console.log("end md"),n}Object.defineProperty(t,"__esModule",{value:!0}),t.getNodeHeights=o,t.markdownToNodeStringList=i;var s=n(147),l=r(s),a=n(148),u=r(a)},147:function(e,t,n){(function(t){(function(){function t(e){this.tokens=[],this.tokens.links={},this.options=e||c.defaults,this.rules=f.normal,this.options.gfm&&(this.options.tables?this.rules=f.tables:this.rules=f.gfm)}function n(e,t){if(this.options=t||c.defaults,this.links=e,this.rules=p.normal,this.renderer=this.options.renderer||new r,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=p.breaks:this.rules=p.gfm:this.options.pedantic&&(this.rules=p.pedantic)}function r(e){this.options=e||{}}function o(e){this.tokens=[],this.token=null,this.options=e||c.defaults,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options}function i(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function s(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function l(e,t){return e=e.source,t=t||"",function n(r,o){return r?(o=o.source||o,o=o.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,o),n):new RegExp(e,t)}}function a(){}function u(e){for(var t,n,r=1;r<arguments.length;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function c(e,n,r){if(r||"function"==typeof n){r||(r=n,n=null),n=u({},c.defaults,n||{});var s,l,a=n.highlight,f=0;try{s=t.lex(e,n)}catch(p){return r(p)}l=s.length;var h=function(e){if(e)return n.highlight=a,r(e);var t;try{t=o.parse(s,n)}catch(i){e=i}return n.highlight=a,e?r(e):r(null,t)};if(!a||a.length<3)return h();if(delete n.highlight,!l)return h();for(;f<s.length;f++)!function(e){return"code"!==e.type?--l||h():a(e.text,e.lang,function(t,n){return t?h(t):null==n||n===e.text?--l||h():(e.text=n,e.escaped=!0,void(--l||h()))})}(s[f])}else try{return n&&(n=u({},c.defaults,n)),o.parse(t.lex(e,n),n)}catch(p){if(p.message+="\nPlease report this to https://github.com/chjj/marked.",(n||c.defaults).silent)return"<p>An error occured:</p><pre>"+i(p.message+"",!0)+"</pre>";throw p}}var f={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:a,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:a,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:a,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};f.bullet=/(?:[*+-]|\d+\.)/,f.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,f.item=l(f.item,"gm")(/bull/g,f.bullet)(),f.list=l(f.list)(/bull/g,f.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+f.def.source+")")(),f.blockquote=l(f.blockquote)("def",f.def)(),f._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",f.html=l(f.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,f._tag)(),f.paragraph=l(f.paragraph)("hr",f.hr)("heading",f.heading)("lheading",f.lheading)("blockquote",f.blockquote)("tag","<"+f._tag)("def",f.def)(),f.normal=u({},f),f.gfm=u({},f.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),f.gfm.paragraph=l(f.paragraph)("(?!","(?!"+f.gfm.fences.source.replace("\\1","\\2")+"|"+f.list.source.replace("\\1","\\3")+"|")(),f.tables=u({},f.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),t.rules=f,t.lex=function(e,n){var r=new t(n);return r.lex(e)},t.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},t.prototype.token=function(e,t,n){for(var r,o,i,s,l,a,u,c,p,e=e.replace(/^ +$/gm,"");e;)if((i=this.rules.newline.exec(e))&&(e=e.substring(i[0].length),i[0].length>1&&this.tokens.push({type:"space"})),i=this.rules.code.exec(e))e=e.substring(i[0].length),i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?i:i.replace(/\n+$/,"")});else if(i=this.rules.fences.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"code",lang:i[2],text:i[3]||""});else if(i=this.rules.heading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if(t&&(i=this.rules.nptable.exec(e))){for(e=e.substring(i[0].length),a={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/\n$/,"").split("\n")},c=0;c<a.align.length;c++)/^ *-+: *$/.test(a.align[c])?a.align[c]="right":/^ *:-+: *$/.test(a.align[c])?a.align[c]="center":/^ *:-+ *$/.test(a.align[c])?a.align[c]="left":a.align[c]=null;for(c=0;c<a.cells.length;c++)a.cells[c]=a.cells[c].split(/ *\| */);this.tokens.push(a)}else if(i=this.rules.lheading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2]?1:2,text:i[1]});else if(i=this.rules.hr.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,t,!0),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(e)){for(e=e.substring(i[0].length),s=i[2],this.tokens.push({type:"list_start",ordered:s.length>1}),i=i[0].match(this.rules.item),r=!1,p=i.length,c=0;p>c;c++)a=i[c],u=a.length,a=a.replace(/^ *([*+-]|\d+\.) +/,""),~a.indexOf("\n ")&&(u-=a.length,a=this.options.pedantic?a.replace(/^ {1,4}/gm,""):a.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&c!==p-1&&(l=f.bullet.exec(i[c+1])[0],s===l||s.length>1&&l.length>1||(e=i.slice(c+1).join("\n")+e,c=p-1)),o=r||/\n\n(?!\s*$)/.test(a),c!==p-1&&(r="\n"===a.charAt(a.length-1),o||(o=r)),this.tokens.push({type:o?"loose_item_start":"list_item_start"}),this.token(a,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(e))e=e.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===i[1]||"script"===i[1]||"style"===i[1]),text:i[0]});else if(!n&&t&&(i=this.rules.def.exec(e)))e=e.substring(i[0].length),this.tokens.links[i[1].toLowerCase()]={href:i[2],title:i[3]};else if(t&&(i=this.rules.table.exec(e))){for(e=e.substring(i[0].length),a={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<a.align.length;c++)/^ *-+: *$/.test(a.align[c])?a.align[c]="right":/^ *:-+: *$/.test(a.align[c])?a.align[c]="center":/^ *:-+ *$/.test(a.align[c])?a.align[c]="left":a.align[c]=null;for(c=0;c<a.cells.length;c++)a.cells[c]=a.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(a)}else if(t&&(i=this.rules.paragraph.exec(e)))e=e.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var p={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:a,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:a,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};p._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,p._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,p.link=l(p.link)("inside",p._inside)("href",p._href)(),p.reflink=l(p.reflink)("inside",p._inside)(),p.normal=u({},p),p.pedantic=u({},p.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),p.gfm=u({},p.normal,{escape:l(p.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:l(p.text)("]|","~]|")("|","|https?://|")()}),p.breaks=u({},p.gfm,{br:l(p.br)("{2,}","*")(),text:l(p.gfm.text)("{2,}","*")()}),n.rules=p,n.output=function(e,t,r){var o=new n(t,r);return o.output(e)},n.prototype.output=function(e){for(var t,n,r,o,s="";e;)if(o=this.rules.escape.exec(e))e=e.substring(o[0].length),s+=o[1];else if(o=this.rules.autolink.exec(e))e=e.substring(o[0].length),"@"===o[2]?(n=":"===o[1].charAt(6)?this.mangle(o[1].substring(7)):this.mangle(o[1]),r=this.mangle("mailto:")+n):(n=i(o[1]),r=n),s+=this.renderer.link(r,null,n);else if(this.inLink||!(o=this.rules.url.exec(e))){if(o=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(o[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(o[0])&&(this.inLink=!1),e=e.substring(o[0].length),s+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):i(o[0]):o[0];else if(o=this.rules.link.exec(e))e=e.substring(o[0].length),this.inLink=!0,s+=this.outputLink(o,{href:o[2],title:o[3]}),this.inLink=!1;else if((o=this.rules.reflink.exec(e))||(o=this.rules.nolink.exec(e))){if(e=e.substring(o[0].length),t=(o[2]||o[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){s+=o[0].charAt(0),e=o[0].substring(1)+e;continue}this.inLink=!0,s+=this.outputLink(o,t),this.inLink=!1}else if(o=this.rules.strong.exec(e))e=e.substring(o[0].length),s+=this.renderer.strong(this.output(o[2]||o[1]));else if(o=this.rules.em.exec(e))e=e.substring(o[0].length),s+=this.renderer.em(this.output(o[2]||o[1]));else if(o=this.rules.code.exec(e))e=e.substring(o[0].length),s+=this.renderer.codespan(i(o[2],!0));else if(o=this.rules.br.exec(e))e=e.substring(o[0].length),s+=this.renderer.br();else if(o=this.rules.del.exec(e))e=e.substring(o[0].length),s+=this.renderer.del(this.output(o[1]));else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),s+=this.renderer.text(i(this.smartypants(o[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(o[0].length),n=i(o[1]),r=n,s+=this.renderer.link(r,null,n);return s},n.prototype.outputLink=function(e,t){var n=i(t.href),r=t.title?i(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,i(e[1]))},n.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},n.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,o=0;r>o;o++)t=e.charCodeAt(o),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},r.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);null!=r&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+i(t,!0)+'">'+(n?e:i(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:i(e,!0))+"\n</code></pre>"},r.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},r.prototype.html=function(e){return e},r.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},r.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},r.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},r.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},r.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},r.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},r.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},r.prototype.tablecell=function(e,t){var n=t.header?"th":"td",r=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return r+e+"</"+n+">\n"},r.prototype.strong=function(e){return"<strong>"+e+"</strong>"},r.prototype.em=function(e){return"<em>"+e+"</em>"},r.prototype.codespan=function(e){return"<code>"+e+"</code>"},r.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},r.prototype.del=function(e){return"<del>"+e+"</del>"},r.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(s(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(o){return""}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:"))return""}var i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>"},r.prototype.image=function(e,t,n){var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},r.prototype.text=function(e){return e},o.parse=function(e,t,n){var r=new o(t,n);return r.parse(e)},o.prototype.parse=function(e){this.inline=new n(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},o.prototype.next=function(){return this.token=this.tokens.pop()},o.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},o.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},o.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,o,i="",s="";for(n="",e=0;e<this.token.header.length;e++)r={header:!0,align:this.token.align[e]},n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(i+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",o=0;o<t.length;o++)n+=this.renderer.tablecell(this.inline.output(t[o]),{header:!1,align:this.token.align[o]});s+=this.renderer.tablerow(n)}return this.renderer.table(i,s);case"blockquote_start":for(var s="";"blockquote_end"!==this.next().type;)s+=this.tok();return this.renderer.blockquote(s);case"list_start":for(var s="",l=this.token.ordered;"list_end"!==this.next().type;)s+=this.tok();return this.renderer.list(s,l);case"list_item_start":for(var s="";"list_item_end"!==this.next().type;)s+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(s);case"loose_item_start":for(var s="";"list_item_end"!==this.next().type;)s+=this.tok();return this.renderer.listitem(s);case"html":var a=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(a);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},a.exec=a,c.options=c.setOptions=function(e){return u(c.defaults,e),c},c.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new r,xhtml:!1},c.Parser=o,c.parser=o.parse,c.Renderer=r,c.Lexer=t,c.lexer=t.lex,c.InlineLexer=n,c.inlineLexer=n.output,c.parse=c,e.exports=c}).call(function(){return this||("undefined"!=typeof window?window:t);
}())}).call(t,function(){return this}())},148:function(e,t,n){e.exports=n(14)(674)},149:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=n(3),c=r(u),f=n(4),p=n(78),h=r(p),d=n(88),g=r(d),y=n(150),b=r(y),m=n(82),v=r(m),k=function(e,t,n,r){var o,i=arguments.length,s=3>i?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(3>i?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},w=n(155),_=function(e){function t(e){o(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.state={showViewerPreference:!1},n.handlePrefClick=n.handlePrefClick.bind(n),n}return s(t,e),l(t,[{key:"handlePrefClick",value:function(){this.props.onPrefVisibilityChange(!this.props.showViewerPreference)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.showViewerPreference;return c["default"].createElement("div",{styleName:"viewer-panel"},c["default"].createElement("div",{styleName:"container"},c["default"].createElement("div",{styleName:"back"},c["default"].createElement(f.Link,{to:"/"},c["default"].createElement(h["default"],{name:"back"}),c["default"].createElement("span",null,"返回"))),c["default"].createElement("span",{styleName:"title"},t),c["default"].createElement("div",{onClick:this.handlePrefClick,styleName:"preference"},c["default"].createElement(h["default"],{name:"preference"})),c["default"].createElement(g["default"],null,n?c["default"].createElement(b["default"],null):null)))}}]),t}(u.Component);_=k([(0,v["default"])(w)],_),t["default"]=_},150:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=n(3),c=r(u),f=n(7),p=n(151),h=r(p),d=n(82),g=r(d),y=function(e,t,n,r){var o,i=arguments.length,s=3>i?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(3>i?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},b=n(154),m=function(e){function t(e){return o(this,t),i(this,Object.getPrototypeOf(t).call(this,e))}return s(t,e),l(t,[{key:"render",value:function(){return c["default"].createElement("div",{styleName:"viewer-preference"},c["default"].createElement("ul",{className:"options"},c["default"].createElement("li",{styleName:"option-font-size"},c["default"].createElement("span",null,"A-"),c["default"].createElement("span",null,"A+")),c["default"].createElement("li",{styleName:"option-scroll"},c["default"].createElement("span",{className:"label"},"滚动模式"),c["default"].createElement(h["default"],{value:!0})),c["default"].createElement("li",{styleName:"option-theme"},c["default"].createElement("span",{style:{background:"#fff"}},"theme1"),c["default"].createElement("span",{style:{background:"#eee"}},"theme2"),c["default"].createElement("span",{style:{background:"#222"}},"theme3"))))}}]),t}(u.Component);m=y([(0,g["default"])(b)],m),t["default"]=(0,f.connect)()(m)},151:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(152),i=r(o);t["default"]=i["default"]},152:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=n(3),c=r(u),f=n(82),p=r(f),h=function(e,t,n,r){var o,i=arguments.length,s=3>i?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":a(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(3>i?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},d=n(153),g=function(e){function t(e){return o(this,t),i(this,Object.getPrototypeOf(t).call(this,e))}return s(t,e),l(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.className;"string"==typeof this.props.value&&(n="1"===n||"true"===n);var o=Boolean(n)?"on":"off";return c["default"].createElement("div",{className:r||"",styleName:"switcher-wrap"},this.props.title&&c["default"].createElement("span",null,this.props.title),c["default"].createElement("div",{onClick:function(t){if(e.props.onChange){var n=void 0;if(e.props.options){var r=e.props.options.map(function(e){return e.value}).indexOf(e.props.value);1===r?n=e.props.options[0].value:0===r?n=e.props.options[1].value:(n=e.props.options[0].value,console.error("当前数据有误，将使用默认数据！"))}else"string"==typeof e.props.value?console.error("没有给 options 时必须使用布尔型的 value！"):n=!e.props.value;e.props.onChange(n)}},styleName:"switcher--"+o},c["default"].createElement("div",{styleName:"switcher-button"}),c["default"].createElement("div",{styleName:"switcher-track"})))}}]),t}(u.Component);g=h([(0,p["default"])(d,{allowMultiple:!0})],g),t["default"]=g},153:function(e,t){e.exports={"switcher-wrap":"switcher-wrap_3UMAU",switcher:"switcher_G3n4_","switcher--off":"switcher--off_1EoOU","switcher--on":"switcher--on_2xiwO","switcher-button":"switcher-button_2kHGL","switcher-track":"switcher-track_xvhjg"}},154:function(e,t){e.exports={"viewer-preference":"viewer-preference_1FNJZ",option:"option_19FXW","option-font-size":"option-font-size_18ONG option_19FXW","option-scroll":"option-scroll_3agtO option_19FXW",label:"label_3HLPp",switcher:"switcher_3T9K_","option-theme":"option-theme_38bUg option_19FXW"}},155:function(e,t){e.exports={"viewer-panel":"viewer-panel_aoOv7",container:"container_2cLNI",back:"back_ppxQ_",title:"title_3Nhli",preference:"preference_1wPa6"}},156:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(3),u=r(a),c=n(139),f=r(c),p=function(e){function t(e){return o(this,t),i(this,Object.getPrototypeOf(t).call(this,e))}return s(t,e),l(t,[{key:"getContentHtml",value:function(){return this.bookPageList.bookPage.bookPageDom}},{key:"render",value:function(){var e=this,t=this.props,n=t.fluid,r=t.nodes;return u["default"].createElement(f["default"],{fluid:n,nodes:r,nodeHeights:[],pageCount:1,pageHeight:0,isCalcMode:!0,ref:function(t){e.bookPageList=t}})}}]),t}(a.Component);t["default"]=p},157:function(e,t){}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vMS4xLmpzIiwid2VicGFjazovLy9zcmMvaXNvbW9ycGhpYy9yb3V0ZXMvVmlld2VyL1ZpZXdlci50c3giLCJ3ZWJwYWNrOi8vL3NyYy9pc29tb3JwaGljL3JvdXRlcy9WaWV3ZXIvQm9va1BhZ2VMaXN0LnRzeCIsIndlYnBhY2s6Ly8vc3JjL2lzb21vcnBoaWMvcm91dGVzL1ZpZXdlci9Cb29rUGFnZS50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2lzb21vcnBoaWMvcm91dGVzL1ZpZXdlci9fYm9vay1wYWdlLnNjc3MiLCJ3ZWJwYWNrOi8vL3NyYy9pc29tb3JwaGljL3JvdXRlcy9WaWV3ZXIvQm9va1BhZ2VMaXN0LnV0aWxzLnRzIiwid2VicGFjazovLy9zcmMvaXNvbW9ycGhpYy9yb3V0ZXMvVmlld2VyL1ZpZXdlclNjcm9sbGJhci50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2lzb21vcnBoaWMvcm91dGVzL1ZpZXdlci9fdmlld2VyLXNjcm9sbGJhci5zY3NzIiwid2VicGFjazovLy8uL3NyYy9pc29tb3JwaGljL3JvdXRlcy9WaWV3ZXIvX2Jvb2stcGFnZS1saXN0LnNjc3MiLCJ3ZWJwYWNrOi8vL3NyYy9pc29tb3JwaGljL3JvdXRlcy9WaWV3ZXIvVmlld2VyLnV0aWxzLnRzIiwid2VicGFjazovLy8uL34vbWFya2VkL2xpYi9tYXJrZWQuanMiLCJ3ZWJwYWNrOi8vL2RlbGVnYXRlZCAuL25vZGVfbW9kdWxlcy9qcXVlcnkvZGlzdC9qcXVlcnkuanMgZnJvbSBkbGwtcmVmZXJlbmNlIF91dGlsc19kbGwiLCJ3ZWJwYWNrOi8vL3NyYy9pc29tb3JwaGljL3JvdXRlcy9WaWV3ZXIvVmlld2VyUGFuZWwudHN4Iiwid2VicGFjazovLy9zcmMvaXNvbW9ycGhpYy9yb3V0ZXMvVmlld2VyL1ZpZXdlclByZWZlcmVuY2UudHN4Iiwid2VicGFjazovLy9zcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9Td2l0Y2hlci9pbmRleC50cyIsIndlYnBhY2s6Ly8vc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvU3dpdGNoZXIvU3dpdGNoZXIudHN4Iiwid2VicGFjazovLy8uL3NyYy9pc29tb3JwaGljL2VsZW1lbnRzL1N3aXRjaGVyL19zd2l0Y2hlci5zY3NzIiwid2VicGFjazovLy8uL3NyYy9pc29tb3JwaGljL3JvdXRlcy9WaWV3ZXIvX3ZpZXdlci1wcmVmZXJlbmNlLnNjc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL2lzb21vcnBoaWMvcm91dGVzL1ZpZXdlci9fdmlld2VyLXBhbmVsLnNjc3MiLCJ3ZWJwYWNrOi8vL3NyYy9pc29tb3JwaGljL3JvdXRlcy9WaWV3ZXIvQm9va1BhZ2VXaXRoUmF3SHRtbC50c3giXSwibmFtZXMiOlsid2VicGFja0pzb25wIiwxMzgsIm1vZHVsZSIsImV4cG9ydHMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJvYmoiLCJfX2VzTW9kdWxlIiwibmV3T2JqIiwia2V5IiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsImRlZmF1bHQiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInZhbHVlIiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJkZWZpbmVQcm9wZXJ0eSIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX3R5cGVvZiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiX3JlYWN0IiwiX3JlYWN0MiIsIl9yZWFjdFJlZHV4IiwiX0Jvb2tQYWdlTGlzdCIsIl9Cb29rUGFnZUxpc3QyIiwiX1ZpZXdlciIsInZpZXdlclV0aWxzIiwiX2FjdGlvbnMiLCJfbG9kYXNoIiwiX2xvZGFzaDIiLCJfVmlld2VyUGFuZWwiLCJfVmlld2VyUGFuZWwyIiwiX0Jvb2tQYWdlV2l0aFJhd0h0bWwiLCJfQm9va1BhZ2VXaXRoUmF3SHRtbDIiLCJfcmVhY3RDc3NNb2R1bGVzIiwiX3JlYWN0Q3NzTW9kdWxlczIiLCJfYXBpcyIsIl9hcGlzMiIsIl91dGlscyIsIl91dGlsczIiLCJfRG9jQ29udGFpbmVyIiwiX0RvY0NvbnRhaW5lcjIiLCJfX2RlY29yYXRlIiwiZGVjb3JhdG9ycyIsImRlc2MiLCJkIiwiYyIsImFyZ3VtZW50cyIsInIiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJSZWZsZWN0IiwiZGVjb3JhdGUiLCJzdHlsZXMiLCJWaWV3ZXIiLCJfQ29tcG9uZW50IiwidGhpcyIsIl90aGlzIiwiZ2V0UHJvdG90eXBlT2YiLCJib29rSWQiLCJwYXJhbXMiLCJpZCIsInN0YXRlIiwic2hvd1BhbmVsIiwiaXNDYWxjTW9kZSIsIm5vZGVIZWlnaHRzIiwibm9kZXMiLCJzaG93Vmlld2VyUHJlZmVyZW5jZSIsImZsdWlkIiwiaXNUb3VjaE1vZGUiLCJoYW5kbGVWaWV3ZXJDbGljayIsImJpbmQiLCJoYW5kZWxWaWV3ZXJNb3VzZU1vdmUiLCJoYW5kbGVQcm9ncmVzc0NoYW5nZSIsImhhbmRsZVJlc2l6ZSIsImRlYm91bmRlZEhhbmRsZVJlc2l6ZSIsImRlYm91bmNlIiwibWF4V2FpdCIsImdldFNjcmVlbkluZm8iLCJ2aWV3Iiwid2lkdGgiLCJwZXJjZW50YWdlIiwic2V0UHJvZ3Jlc3MiLCJldmVudCIsInkiLCJwYWdlWSIsImRvY3VtZW50IiwiYm9keSIsInNjcm9sbFRvcCIsImRUb1NjcmVlblJpZ2h0IiwicGFnZVgiLCJzZXRTdGF0ZSIsInNob3dQYWdlSW5mbyIsImlzVmlld0ZsdWlkIiwibmV3UHJvZ3Jlc3MiLCJfdGhpczIiLCJjb250ZW50SHRtbCIsImJvb2tQYWdlV2l0aFJhd0h0bWwiLCJnZXRDb250ZW50SHRtbCIsImdldE5vZGVIZWlnaHRzIiwiY2hpbGROb2RlcyIsImNvbnNvbGUiLCJsb2ciLCJfdGhpczMiLCJmZXRjaEJvb2siLCJ0aGVuIiwicmVzIiwibWFya2Rvd25Ub05vZGVTdHJpbmdMaXN0IiwicmF3Qm9va0NvbnRlbnQiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm5leHRQcm9wcyIsIm5leHRTdGF0ZSIsImlzRXF1YWwiLCJwcmV2UHJvcHMiLCJwcmV2U3RhdGUiLCJoYXNCb29rTm9kZXNMb2FkZWQiLCJ2aWV3Q2hhbmdlZCIsImNhbGNEb20iLCJsb2FkUmF3Qm9va0NvbnRlbnQiLCJmZXRjaFByb2dyZXNzIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJyZW1vdmVFdmVudExpc3RlbmVycyIsIl90aGlzNCIsImNyZWF0ZUVsZW1lbnQiLCJ0aXRsZSIsImJvb2siLCJvblByZWZWaXNpYmlsaXR5Q2hhbmdlIiwibmV3VmlzaWJpbGl0eSIsIl90aGlzNSIsIl9zdGF0ZSIsInByb2dyZXNzIiwiY2xhc3NOYW1lIiwicmVmIiwiX3JlZiIsInBhZ2VDb3VudCIsImluaXRpYWxQcm9ncmVzcyIsInBhZ2VIZWlnaHQiLCJvblByb2dyZXNzQ2hhbmdlIiwiYm9keUNsYXNzIiwib25DbGljayIsIm9uTW91c2VNb3ZlIiwicmVuZGVyVmlld1BhbmVsIiwicmVuZGVyQm9vayIsIkNvbXBvbmVudCIsImNvbm5lY3QiLCJvd25Qcm9wcyIsImVudGl0aWVzIiwiYm9va3MiLCJnZXQiLCJwYXlsb2FkcyIsInNlc3Npb24iLCJvcGVuQ29uZmlybU1vZGFsIiwxMzksIl9Cb29rUGFnZSIsIl9Cb29rUGFnZTIiLCJ1dGlscyIsIl9jbGFzc25hbWVzIiwiX2NsYXNzbmFtZXMyIiwiX1ZpZXdlclNjcm9sbGJhciIsIl9WaWV3ZXJTY3JvbGxiYXIyIiwiQm9va1BhZ2VMaXN0IiwiY3VycmVudFBhZ2UiLCJoYW5kbGVTY3JvbGwiLCJkZWJvdW5kZWRIYW5kbGVTY3JvbGwiLCJfY2FsY1BhZ2VzIiwiY2FsY1BhZ2VzIiwicGFnZXMiLCJ0b3RhbEhlaWdodCIsInBlcmNlbnRhZ2VUb1BhZ2UiLCJfcHJvcHMiLCJncm91cE5vZGVzQnlQYWdlIiwiX3Byb3BzMiIsImluaXRpYWxQYWdlIiwiX2NhbGNQYWdlczIiLCJfY2FsY1BhZ2VzMyIsIl9wcm9wczMiLCJzdGFydFBhZ2VJbmRleCIsImVuZFBhZ2VJbmRleCIsInBhZ2VzLS1mbHVpZCIsImJvb2tQYWdlTGlzdERvbSIsInN0eWxlTmFtZSIsInN0eWxlIiwiaGVpZ2h0Iiwic2xpY2UiLCJtYXAiLCJwYWdlIiwiaW5kZXgiLCJfcmVmMiIsImJvb2tQYWdlIiwidmlzaWJsZSIsImN1cnJlbnQiLCJ0b3RhbCIsMTQwLCJCb29rUGFnZSIsImFwcGx5IiwiX3Byb3BzJHBhZ2UiLCJtZXRhIiwicG9zaXRpb24iLCJ0b3AiLCJwYWdlTm8iLCJwYWdlLS1mbHVpZCIsIm1hcmdpblRvcCIsIm9mZnNldCIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiX19odG1sIiwiam9pbiIsImJvb2tQYWdlRG9tIiwxNDEsImNvbnRlbnQiLCJwYWdlLS1pbml0IiwicGFnZS1ubyIsMTQyLCJnZXRQYWdlT2Zmc2V0IiwicGFnZUluZGV4Iiwibm9kZUluZGV4Iiwibm9kZVN0YXJ0SW5kZXgiLCJub2RlSGVpZ2h0U3VtIiwiZ2V0Tm9kZXNPZlBhZ2UiLCJfZ2V0UGFnZU9mZnNldCIsIm5vZGVFbmRJbmRleCIsInBhZ2VOb2RlcyIsInB1c2giLCJwYWdlSGVpZ2h0U3VtIiwicmVkdWNlIiwiYSIsImIiLCJwYWdlU3VtIiwiTWF0aCIsImNlaWwiLCJfZ2V0Tm9kZXNPZlBhZ2UiLCJwIiwiZXJyb3IiLCJwYXJzZUludCIsMTQzLCJWaWV3ZXJTY3JvbGxiYXIiLCJ0b0ZpeGVkIiwxNDQsInNjcm9sbGJhciIsImJ1dHRvbiIsInRyYWNrIiwidHJhY2stLXBhc3QiLCJsb2MtaW5mbyIsInN1Yi1pbmZvIiwxNDUsMTQ2LCJub2Rlc0hlaWdodCIsIkFycmF5IiwiZm9yRWFjaCIsIm5vZGUiLCJjbGllbnRIZWlnaHQiLCJtYXJrZG93biIsImh0bWwiLCJfbWFya2VkMiIsImdmbSIsImJyZWFrcyIsIl9qcXVlcnkyIiwiZWxlIiwibm9kZVR5cGUiLCJub2RlVmFsdWUiLCJ0YWdOYW1lIiwiaW5uZXJIVE1MIiwib3V0ZXJIVE1MIiwiZmlsdGVyIiwiX21hcmtlZCIsIl9qcXVlcnkiLDE0NywiZ2xvYmFsIiwiTGV4ZXIiLCJvcHRpb25zIiwidG9rZW5zIiwibGlua3MiLCJtYXJrZWQiLCJkZWZhdWx0cyIsInJ1bGVzIiwiYmxvY2siLCJub3JtYWwiLCJ0YWJsZXMiLCJJbmxpbmVMZXhlciIsImlubGluZSIsInJlbmRlcmVyIiwiUmVuZGVyZXIiLCJFcnJvciIsInBlZGFudGljIiwiUGFyc2VyIiwidG9rZW4iLCJlc2NhcGUiLCJlbmNvZGUiLCJyZXBsYWNlIiwidW5lc2NhcGUiLCJfIiwibiIsInRvTG93ZXJDYXNlIiwiY2hhckF0IiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwic3Vic3RyaW5nIiwicmVnZXgiLCJvcHQiLCJzb3VyY2UiLCJuYW1lIiwidmFsIiwiUmVnRXhwIiwibm9vcCIsIm1lcmdlIiwic3JjIiwiY2FsbGJhY2siLCJwZW5kaW5nIiwiaGlnaGxpZ2h0IiwibGV4IiwiZSIsImRvbmUiLCJlcnIiLCJvdXQiLCJwYXJzZSIsInR5cGUiLCJ0ZXh0IiwibGFuZyIsImNvZGUiLCJlc2NhcGVkIiwibWVzc2FnZSIsInNpbGVudCIsIm5ld2xpbmUiLCJmZW5jZXMiLCJociIsImhlYWRpbmciLCJucHRhYmxlIiwibGhlYWRpbmciLCJibG9ja3F1b3RlIiwibGlzdCIsImRlZiIsInRhYmxlIiwicGFyYWdyYXBoIiwiYnVsbGV0IiwiaXRlbSIsIl90YWciLCJsZXhlciIsImJxIiwibmV4dCIsImxvb3NlIiwiY2FwIiwiYnVsbCIsInNwYWNlIiwibCIsImV4ZWMiLCJkZXB0aCIsImhlYWRlciIsInNwbGl0IiwiYWxpZ24iLCJjZWxscyIsInRlc3QiLCJvcmRlcmVkIiwibWF0Y2giLCJpbmRleE9mIiwic21hcnRMaXN0cyIsInNhbml0aXplIiwicHJlIiwic2FuaXRpemVyIiwiaHJlZiIsImNoYXJDb2RlQXQiLCJhdXRvbGluayIsInVybCIsInRhZyIsImxpbmsiLCJyZWZsaW5rIiwibm9saW5rIiwic3Ryb25nIiwiZW0iLCJiciIsImRlbCIsIl9pbnNpZGUiLCJfaHJlZiIsIm91dHB1dCIsIm1hbmdsZSIsImluTGluayIsIm91dHB1dExpbmsiLCJjb2Rlc3BhbiIsInNtYXJ0eXBhbnRzIiwiaW1hZ2UiLCJjaCIsInJhbmRvbSIsInRvU3RyaW5nIiwibGFuZ1ByZWZpeCIsInF1b3RlIiwibGV2ZWwiLCJyYXciLCJoZWFkZXJQcmVmaXgiLCJ4aHRtbCIsImxpc3RpdGVtIiwidGFibGVyb3ciLCJ0YWJsZWNlbGwiLCJmbGFncyIsInByb3QiLCJkZWNvZGVVUklDb21wb25lbnQiLCJwYXJzZXIiLCJyZXZlcnNlIiwidG9rIiwicG9wIiwicGVlayIsInBhcnNlVGV4dCIsInJvdyIsImNlbGwiLCJqIiwic2V0T3B0aW9ucyIsImlubGluZUxleGVyIiwxNDgsMTQ5LCJfcmVhY3RSb3V0ZXIiLCJfSWNvbiIsIl9JY29uMiIsIl9GYWRlIiwiX0ZhZGUyIiwiX1ZpZXdlclByZWZlcmVuY2UiLCJfVmlld2VyUHJlZmVyZW5jZTIiLCJWaWV3ZXJQYW5lbCIsImhhbmRsZVByZWZDbGljayIsIkxpbmsiLCJ0byIsMTUwLCJfU3dpdGNoZXIiLCJfU3dpdGNoZXIyIiwiVmlld2VyUHJlZmVyZW5jZSIsImJhY2tncm91bmQiLDE1MSwxNTIsIlN3aXRjaGVyIiwiaXNPbiIsIkJvb2xlYW4iLCJvbkNoYW5nZSIsIm5ld1ZhbHVlIiwiY3VycmVudFZhbHVlSW5kZXgiLCJvcHRpb24iLCJhbGxvd011bHRpcGxlIiwxNTMsInN3aXRjaGVyLXdyYXAiLCJzd2l0Y2hlciIsInN3aXRjaGVyLS1vZmYiLCJzd2l0Y2hlci0tb24iLCJzd2l0Y2hlci1idXR0b24iLCJzd2l0Y2hlci10cmFjayIsMTU0LCJ2aWV3ZXItcHJlZmVyZW5jZSIsIm9wdGlvbi1mb250LXNpemUiLCJvcHRpb24tc2Nyb2xsIiwibGFiZWwiLCJvcHRpb24tdGhlbWUiLDE1NSwidmlld2VyLXBhbmVsIiwiY29udGFpbmVyIiwiYmFjayIsInByZWZlcmVuY2UiLDE1NiwiQm9va1BhZ2VXaXRoUmF3SHRtbCIsImJvb2tQYWdlTGlzdCIsMTU3XSwibWFwcGluZ3MiOiJBQUFBQSxjQUFjLElBRVJDLElBQ0EsU0FBU0MsRUFBUUMsRUFBU0MsR0FFL0IsWUFzREEsU0FBU0MsR0FBd0JDLEdBQU8sR0FBSUEsR0FBT0EsRUFBSUMsV0FBYyxNQUFPRCxFQUFjLElBQUlFLEtBQWEsSUFBVyxNQUFQRixFQUFlLElBQUssR0FBSUcsS0FBT0gsR0FBV0ksT0FBT0MsVUFBVUMsZUFBZUMsS0FBS1AsRUFBS0csS0FBTUQsRUFBT0MsR0FBT0gsRUFBSUcsR0FBZ0MsT0FBdEJELGNBQWlCRixFQUFZRSxFQUVsUSxRQUFTTSxHQUF1QlIsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRUyxVQUFTVCxHQUV2RixRQUFTVSxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQUVoSCxRQUFTQyxHQUEyQkMsRUFBTVIsR0FBUSxJQUFLUSxFQUFRLEtBQU0sSUFBSUMsZ0JBQWUsNERBQWdFLFFBQU9ULEdBQXlCLGdCQUFUQSxJQUFxQyxrQkFBVEEsR0FBOEJRLEVBQVBSLEVBRWxPLFFBQVNVLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSU4sV0FBVSxpRUFBb0VNLEdBQWVELEdBQVNiLFVBQVlELE9BQU9nQixPQUFPRCxHQUFjQSxFQUFXZCxXQUFhZ0IsYUFBZUMsTUFBT0osRUFBVUssWUFB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eUIsR0FBcUJ6QixNbUJoNEV6ZjZCLEVBQUEzQyxFQUFBLEduQm80RW5DNEMsRUFBVWxDLEVBQXVCaUMsR21CNTNFdENHLEVBQUE5QyxFQUFBLEtuQmc0RUsrQyxFQUFpQnJDLEVBQXVCb0MsR21CaDRFRjZhLEVBQUEsU0FBQTlZLEdBRXpDLFFBQUE4WSxHQUFpQnpiLEduQjg0RVYsTUFGQXRCLEdBQWdCa0UsS0FBTTZZLEdBRWYzYyxFQUEyQjhELEtBQU14RSxPQUFPMEUsZUFBZTJZLEdBQXFCbGQsS0FBS3FFLEttQng0RWpGNUMsSW5CKzVFWCxNQTVCQWYsR0FBVXdjLEVBQXFCOVksR0FRL0I5QyxFQUFhNGIsSUFDVHRkLElBQUssaUJBQ0xtQixNQUFPLFdtQjU0RU4sTUFBS3NELE1BQWE4WSxhQUFTeFEsU0FHN0JrQixlbkI2NEVDak8sSUFBSyxTQUNMbUIsTUFBTyxXQUNILEdBQUk2RixHQUFTdkMsS0FFVG1ILEVtQmg1RWdCbkgsS0FBTTVDLE1BQXRCd0QsRUFBQXVHLEVBQUF2RyxNQUFTRixFQUFBeUcsRUFBQXpHLEtBRWYsT0FDTDVDLGNBQWF1RyxjQUFBcEcsY0FDTjJDLE1BQVFBLEVBQ1JGLE1BQVFBLEVBQ0ZELGVBQ0Z1RSxVQUFJLEVBQ0hFLFdBQUksRUFDSjFFLFlBQUEsRUFDUHNFLElBQUEsU0FBQUMsR0FBZXhDLEVBQWF1VyxhQU12Qy9ULFNuQjA0RVk4VCxHQUNUaGIsRUFBTzRILFVBRVR4SyxjbUI3NEVpQzRkLEduQmk1RTVCRSxJQUNBLFNBQVMvZCxFQUFRQyIsImZpbGUiOiIxLjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ3ZWJwYWNrSnNvbnAoWzFdLHtcblxuLyoqKi8gMTM4OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3RSZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX0Jvb2tQYWdlTGlzdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTM5KTtcblx0XG5cdHZhciBfQm9va1BhZ2VMaXN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jvb2tQYWdlTGlzdCk7XG5cdFxuXHR2YXIgX1ZpZXdlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ2KTtcblx0XG5cdHZhciB2aWV3ZXJVdGlscyA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9WaWV3ZXIpO1xuXHRcblx0dmFyIF9hY3Rpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBfbG9kYXNoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5cdFxuXHR2YXIgX2xvZGFzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2Rhc2gpO1xuXHRcblx0dmFyIF9WaWV3ZXJQYW5lbCA9IF9fd2VicGFja19yZXF1aXJlX18oMTQ5KTtcblx0XG5cdHZhciBfVmlld2VyUGFuZWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVmlld2VyUGFuZWwpO1xuXHRcblx0dmFyIF9Cb29rUGFnZVdpdGhSYXdIdG1sID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTYpO1xuXHRcblx0dmFyIF9Cb29rUGFnZVdpdGhSYXdIdG1sMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jvb2tQYWdlV2l0aFJhd0h0bWwpO1xuXHRcblx0dmFyIF9yZWFjdENzc01vZHVsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgyKTtcblx0XG5cdHZhciBfcmVhY3RDc3NNb2R1bGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0Q3NzTW9kdWxlcyk7XG5cdFxuXHR2YXIgX2FwaXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExOSk7XG5cdFxuXHR2YXIgX2FwaXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXBpcyk7XG5cdFxuXHR2YXIgX3V0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG5cdFxuXHR2YXIgX3V0aWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3V0aWxzKTtcblx0XG5cdHZhciBfRG9jQ29udGFpbmVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzQpO1xuXHRcblx0dmFyIF9Eb2NDb250YWluZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRG9jQ29udGFpbmVyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX19kZWNvcmF0ZSA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19kZWNvcmF0ZSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcblx0ICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCxcblx0ICAgICAgICByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYyxcblx0ICAgICAgICBkO1xuXHQgICAgaWYgKCh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKFJlZmxlY3QpKSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7ZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHQgICAgICAgIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG5cdCAgICB9cmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcblx0fTtcblx0XG5cdHZhciBzdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1Nyk7XG5cdHZhciBWaWV3ZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICAgX2luaGVyaXRzKFZpZXdlciwgX0NvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gVmlld2VyKHByb3BzKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFZpZXdlcik7XG5cdFxuXHQgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIE9iamVjdC5nZXRQcm90b3R5cGVPZihWaWV3ZXIpLmNhbGwodGhpcywgcHJvcHMpKTtcblx0XG5cdCAgICAgICAgX3RoaXMuYm9va0lkID0gcHJvcHMucGFyYW1zLmlkO1xuXHQgICAgICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICAgICAgICBzaG93UGFuZWw6IGZhbHNlLFxuXHQgICAgICAgICAgICBpc0NhbGNNb2RlOiB0cnVlLFxuXHQgICAgICAgICAgICBub2RlSGVpZ2h0czogW10sXG5cdCAgICAgICAgICAgIG5vZGVzOiBbXSxcblx0ICAgICAgICAgICAgc2hvd1ZpZXdlclByZWZlcmVuY2U6IGZhbHNlLFxuXHQgICAgICAgICAgICBmbHVpZDogZmFsc2UsXG5cdCAgICAgICAgICAgIGlzVG91Y2hNb2RlOiBmYWxzZVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgX3RoaXMuaGFuZGxlVmlld2VyQ2xpY2sgPSBfdGhpcy5oYW5kbGVWaWV3ZXJDbGljay5iaW5kKF90aGlzKTtcblx0ICAgICAgICBfdGhpcy5oYW5kZWxWaWV3ZXJNb3VzZU1vdmUgPSBfdGhpcy5oYW5kZWxWaWV3ZXJNb3VzZU1vdmUuYmluZChfdGhpcyk7XG5cdCAgICAgICAgX3RoaXMuaGFuZGxlUHJvZ3Jlc3NDaGFuZ2UgPSBfdGhpcy5oYW5kbGVQcm9ncmVzc0NoYW5nZS5iaW5kKF90aGlzKTtcblx0ICAgICAgICBfdGhpcy5oYW5kbGVSZXNpemUgPSBfdGhpcy5oYW5kbGVSZXNpemUuYmluZChfdGhpcyk7XG5cdCAgICAgICAgX3RoaXMuZGVib3VuZGVkSGFuZGxlUmVzaXplID0gX2xvZGFzaDIuZGVmYXVsdC5kZWJvdW5jZShfdGhpcy5oYW5kbGVSZXNpemUsIDUwMCwge1xuXHQgICAgICAgICAgICBtYXhXYWl0OiAxMDAwXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgcmV0dXJuIF90aGlzO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhWaWV3ZXIsIFt7XG5cdCAgICAgICAga2V5OiBcImlzVmlld0ZsdWlkXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzVmlld0ZsdWlkKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gX3V0aWxzMi5kZWZhdWx0LmdldFNjcmVlbkluZm8oKS52aWV3LndpZHRoIDwgNzAwO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwiaXNUb3VjaE1vZGVcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaXNUb3VjaE1vZGUoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBfdXRpbHMyLmRlZmF1bHQuZ2V0U2NyZWVuSW5mbygpLnZpZXcud2lkdGggPCA3MDA7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJzZXRQcm9ncmVzc1wiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRQcm9ncmVzcyhwZXJjZW50YWdlKSB7XG5cdCAgICAgICAgICAgIF9hcGlzMi5kZWZhdWx0LnNldFByb2dyZXNzKHRoaXMuYm9va0lkLCB7IHBlcmNlbnRhZ2U6IHBlcmNlbnRhZ2UgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJoYW5kZWxWaWV3ZXJNb3VzZU1vdmVcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGVsVmlld2VyTW91c2VNb3ZlKGV2ZW50KSB7XG5cdCAgICAgICAgICAgIGlmICghdGhpcy5zdGF0ZS5pc0NhbGNNb2RlICYmICF0aGlzLnN0YXRlLmlzVG91Y2hNb2RlKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgeSA9IGV2ZW50LnBhZ2VZIC0gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7XG5cdCAgICAgICAgICAgICAgICB2YXIgZFRvU2NyZWVuUmlnaHQgPSBfdXRpbHMyLmRlZmF1bHQuZ2V0U2NyZWVuSW5mbygpLnZpZXcud2lkdGggLSBldmVudC5wYWdlWDtcblx0ICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgICAgIHNob3dQYW5lbDogeSA8IDkwLFxuXHQgICAgICAgICAgICAgICAgICAgIHNob3dQYWdlSW5mbzogZFRvU2NyZWVuUmlnaHQgPCAxMDBcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJoYW5kbGVSZXNpemVcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlUmVzaXplKCkge1xuXHQgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcblx0ICAgICAgICAgICAgICAgIGZsdWlkOiB0aGlzLmlzVmlld0ZsdWlkKCksXG5cdCAgICAgICAgICAgICAgICBpc1RvdWNoTW9kZTogdGhpcy5pc1RvdWNoTW9kZSgpXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwiaGFuZGxlUHJvZ3Jlc3NDaGFuZ2VcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlUHJvZ3Jlc3NDaGFuZ2UobmV3UHJvZ3Jlc3MpIHtcblx0ICAgICAgICAgICAgdGhpcy5zZXRQcm9ncmVzcyhuZXdQcm9ncmVzcyk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJoYW5kbGVWaWV3ZXJDbGlja1wiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVWaWV3ZXJDbGljaygpIHtcblx0ICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuaXNUb3VjaE1vZGUpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgICAgIHNob3dQYW5lbDogIXRoaXMuc3RhdGUuc2hvd1BhbmVsXG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwiY2FsY0RvbVwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjYWxjRG9tKCkge1xuXHQgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgaXNDYWxjTW9kZTogdHJ1ZVxuXHQgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgY29udGVudEh0bWwgPSBfdGhpczIuYm9va1BhZ2VXaXRoUmF3SHRtbC5nZXRDb250ZW50SHRtbCgpO1xuXHQgICAgICAgICAgICAgICAgdmFyIG5vZGVIZWlnaHRzID0gdmlld2VyVXRpbHMuZ2V0Tm9kZUhlaWdodHMoY29udGVudEh0bWwuY2hpbGROb2Rlcyk7XG5cdCAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2FsYyBkb25lJyk7XG5cdCAgICAgICAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgICAgIG5vZGVIZWlnaHRzOiBub2RlSGVpZ2h0cyxcblx0ICAgICAgICAgICAgICAgICAgICBpc0NhbGNNb2RlOiBmYWxzZVxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwibG9hZFJhd0Jvb2tDb250ZW50XCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWRSYXdCb29rQ29udGVudCgpIHtcblx0ICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cdFxuXHQgICAgICAgICAgICB0aGlzLnByb3BzLmZldGNoQm9vayh0aGlzLmJvb2tJZCkudGhlbihmdW5jdGlvbiAocmVzKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgbm9kZXMgPSB2aWV3ZXJVdGlscy5tYXJrZG93blRvTm9kZVN0cmluZ0xpc3QoX3RoaXMzLnByb3BzLnJhd0Jvb2tDb250ZW50KTtcblx0ICAgICAgICAgICAgICAgIF90aGlzMy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICAgICAgbm9kZXM6IG5vZGVzLFxuXHQgICAgICAgICAgICAgICAgICAgIGZsdWlkOiBfdGhpczMuaXNWaWV3Rmx1aWQoKSxcblx0ICAgICAgICAgICAgICAgICAgICBpc1RvdWNoTW9kZTogX3RoaXMzLmlzVG91Y2hNb2RlKClcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcImFkZEV2ZW50TGlzdGVuZXJzXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXJzKCkge1xuXHQgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5kZWJvdW5kZWRIYW5kbGVSZXNpemUpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwicmVtb3ZlRXZlbnRMaXN0ZW5lcnNcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XG5cdCAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmRlYm91bmRlZEhhbmRsZVJlc2l6ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJzaG91bGRDb21wb25lbnRVcGRhdGVcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG5cdCAgICAgICAgICAgIHJldHVybiAhX2xvZGFzaDIuZGVmYXVsdC5pc0VxdWFsKHRoaXMuc3RhdGUsIG5leHRTdGF0ZSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJjb21wb25lbnREaWRVcGRhdGVcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG5cdCAgICAgICAgICAgIHZhciBoYXNCb29rTm9kZXNMb2FkZWQgPSB0aGlzLnN0YXRlLm5vZGVzLmxlbmd0aCAhPT0gMCAmJiBwcmV2U3RhdGUubm9kZXMubGVuZ3RoID09PSAwO1xuXHQgICAgICAgICAgICB2YXIgdmlld0NoYW5nZWQgPSB0aGlzLnN0YXRlLmZsdWlkICE9PSBwcmV2U3RhdGUuZmx1aWQ7XG5cdCAgICAgICAgICAgIGlmIChoYXNCb29rTm9kZXNMb2FkZWQgfHwgdmlld0NoYW5nZWQpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuY2FsY0RvbSgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgICAgICAgdGhpcy5sb2FkUmF3Qm9va0NvbnRlbnQoKTtcblx0ICAgICAgICAgICAgdGhpcy5wcm9wcy5mZXRjaFByb2dyZXNzKHRoaXMuYm9va0lkKTtcblx0ICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwiY29tcG9uZW50V2lsbFVubW91bnRcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG5cdCAgICAgICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcInJlbmRlclZpZXdQYW5lbFwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJWaWV3UGFuZWwoKSB7XG5cdCAgICAgICAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuICh0aGlzLnN0YXRlLnNob3dQYW5lbCB8fCB0aGlzLnN0YXRlLnNob3dWaWV3ZXJQcmVmZXJlbmNlKSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVmlld2VyUGFuZWwyLmRlZmF1bHQsIHsgdGl0bGU6IHRoaXMucHJvcHMuYm9vay50aXRsZSwgc2hvd1ZpZXdlclByZWZlcmVuY2U6IHRoaXMuc3RhdGUuc2hvd1ZpZXdlclByZWZlcmVuY2UsIG9uUHJlZlZpc2liaWxpdHlDaGFuZ2U6IGZ1bmN0aW9uIG9uUHJlZlZpc2liaWxpdHlDaGFuZ2UobmV3VmlzaWJpbGl0eSkge1xuXHQgICAgICAgICAgICAgICAgICAgIF90aGlzNC5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHNob3dWaWV3ZXJQcmVmZXJlbmNlOiBuZXdWaXNpYmlsaXR5XG5cdCAgICAgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgICAgICB9IH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwicmVuZGVyQm9va1wiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJCb29rKCkge1xuXHQgICAgICAgICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblx0XG5cdCAgICAgICAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlO1xuXHQgICAgICAgICAgICB2YXIgbm9kZXMgPSBfc3RhdGUubm9kZXM7XG5cdCAgICAgICAgICAgIHZhciBub2RlSGVpZ2h0cyA9IF9zdGF0ZS5ub2RlSGVpZ2h0cztcblx0ICAgICAgICAgICAgdmFyIGZsdWlkID0gX3N0YXRlLmZsdWlkO1xuXHQgICAgICAgICAgICB2YXIgc2hvd1BhZ2VJbmZvID0gX3N0YXRlLnNob3dQYWdlSW5mbztcblx0ICAgICAgICAgICAgdmFyIHByb2dyZXNzID0gdGhpcy5wcm9wcy5wcm9ncmVzcztcblx0XG5cdCAgICAgICAgICAgIGlmIChub2Rlcy5sZW5ndGggPT09IDApIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LWxvYWRpbmdcIiB9LCBcIuWKoOi9veS4rSAuLi5cIik7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuaXNDYWxjTW9kZSA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Cb29rUGFnZVdpdGhSYXdIdG1sMi5kZWZhdWx0LCB7IG5vZGVzOiBub2RlcywgcmVmOiBmdW5jdGlvbiByZWYoX3JlZikge1xuXHQgICAgICAgICAgICAgICAgICAgIF90aGlzNS5ib29rUGFnZVdpdGhSYXdIdG1sID0gX3JlZjtcblx0ICAgICAgICAgICAgICAgIH0sIGZsdWlkOiBmbHVpZCB9KSA6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Cb29rUGFnZUxpc3QyLmRlZmF1bHQsIHsgbm9kZUhlaWdodHM6IG5vZGVIZWlnaHRzLCBub2RlczogdGhpcy5zdGF0ZS5ub2RlcywgcGFnZUNvdW50OiA1LCBpbml0aWFsUHJvZ3Jlc3M6IHByb2dyZXNzLCBwYWdlSGVpZ2h0OiA5MDAsIG9uUHJvZ3Jlc3NDaGFuZ2U6IHRoaXMuaGFuZGxlUHJvZ3Jlc3NDaGFuZ2UsIGZsdWlkOiBmbHVpZCwgc2hvd1BhZ2VJbmZvOiBzaG93UGFnZUluZm8gfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJyZW5kZXJcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0RvY0NvbnRhaW5lcjIuZGVmYXVsdCwgeyBib2R5Q2xhc3M6IFwidmlld2VyXCIsIHRpdGxlOiB0aGlzLnByb3BzLmJvb2sudGl0bGUgfSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBvbkNsaWNrOiB0aGlzLmhhbmRsZVZpZXdlckNsaWNrLCBvbk1vdXNlTW92ZTogdGhpcy5oYW5kZWxWaWV3ZXJNb3VzZU1vdmUgfSwgdGhpcy5yZW5kZXJWaWV3UGFuZWwoKSwgdGhpcy5yZW5kZXJCb29rKCkpKTtcblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIFZpZXdlcjtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0Vmlld2VyID0gX19kZWNvcmF0ZShbKDAsIF9yZWFjdENzc01vZHVsZXMyLmRlZmF1bHQpKHN0eWxlcyldLCBWaWV3ZXIpO1xuXHRleHBvcnRzLmRlZmF1bHQgPSAoMCwgX3JlYWN0UmVkdXguY29ubmVjdCkoZnVuY3Rpb24gKHN0YXRlLCBvd25Qcm9wcykge1xuXHQgICAgdmFyIGJvb2sgPSBzdGF0ZS5lbnRpdGllcy5ib29rc1tvd25Qcm9wcy5wYXJhbXMuaWRdIHx8IHt9O1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICBib29rOiBib29rLFxuXHQgICAgICAgIHJhd0Jvb2tDb250ZW50OiBfbG9kYXNoMi5kZWZhdWx0LmdldChib29rLCAnY29udGVudC5yYXcnLCAnJyksXG5cdCAgICAgICAgcHJvZ3Jlc3M6IF9sb2Rhc2gyLmRlZmF1bHQuZ2V0KHN0YXRlLnBheWxvYWRzLCAncHJvZ3Jlc3MucGVyY2VudGFnZScsIDApLFxuXHQgICAgICAgIHNlc3Npb246IHN0YXRlLnNlc3Npb25cblx0ICAgIH07XG5cdH0sIHsgZmV0Y2hCb29rOiBfYWN0aW9ucy5mZXRjaEJvb2ssIGZldGNoUHJvZ3Jlc3M6IF9hY3Rpb25zLmZldGNoUHJvZ3Jlc3MsIG9wZW5Db25maXJtTW9kYWw6IF9hY3Rpb25zLm9wZW5Db25maXJtTW9kYWwgfSkoVmlld2VyKTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTM5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfQm9va1BhZ2UgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0MCk7XG5cdFxuXHR2YXIgX0Jvb2tQYWdlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Jvb2tQYWdlKTtcblx0XG5cdHZhciBfQm9va1BhZ2VMaXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDIpO1xuXHRcblx0dmFyIHV0aWxzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX0Jvb2tQYWdlTGlzdCk7XG5cdFxuXHR2YXIgX2xvZGFzaCA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xuXHRcblx0dmFyIF9sb2Rhc2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9kYXNoKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oODApO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF9yZWFjdENzc01vZHVsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgyKTtcblx0XG5cdHZhciBfcmVhY3RDc3NNb2R1bGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0Q3NzTW9kdWxlcyk7XG5cdFxuXHR2YXIgX1ZpZXdlclNjcm9sbGJhciA9IF9fd2VicGFja19yZXF1aXJlX18oMTQzKTtcblx0XG5cdHZhciBfVmlld2VyU2Nyb2xsYmFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1ZpZXdlclNjcm9sbGJhcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9fZGVjb3JhdGUgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fZGVjb3JhdGUgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG5cdCAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdCAgICAgICAgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsXG5cdCAgICAgICAgZDtcblx0ICAgIGlmICgodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihSZWZsZWN0KSkgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO2Vsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0ICAgICAgICBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuXHQgICAgfXJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG5cdH07XG5cdFxuXHR2YXIgc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDUpO1xuXHR2YXIgQm9va1BhZ2VMaXN0ID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAgIF9pbmhlcml0cyhCb29rUGFnZUxpc3QsIF9Db21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIEJvb2tQYWdlTGlzdChwcm9wcykge1xuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCb29rUGFnZUxpc3QpO1xuXHRcblx0ICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQm9va1BhZ2VMaXN0KS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICAgICAgICBzY3JvbGxUb3A6IDAsXG5cdCAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAxXG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfdGhpcy5oYW5kbGVTY3JvbGwgPSBfdGhpcy5oYW5kbGVTY3JvbGwuYmluZChfdGhpcyk7XG5cdCAgICAgICAgX3RoaXMuZGVib3VuZGVkSGFuZGxlU2Nyb2xsID0gX2xvZGFzaDIuZGVmYXVsdC5kZWJvdW5jZShfdGhpcy5oYW5kbGVTY3JvbGwsIDIwMCwge1xuXHQgICAgICAgICAgICBtYXhXYWl0OiAxMDAwXG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgcmV0dXJuIF90aGlzO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhCb29rUGFnZUxpc3QsIFt7XG5cdCAgICAgICAga2V5OiBcImhhbmRsZVNjcm9sbFwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTY3JvbGwoKSB7XG5cdCAgICAgICAgICAgIGlmICghdGhpcy5wcm9wcy5pc0NhbGNNb2RlKSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgX2NhbGNQYWdlcyA9IHRoaXMuY2FsY1BhZ2VzKCk7XG5cdFxuXHQgICAgICAgICAgICAgICAgdmFyIHBhZ2VzID0gX2NhbGNQYWdlcy5wYWdlcztcblx0ICAgICAgICAgICAgICAgIHZhciB0b3RhbEhlaWdodCA9IF9jYWxjUGFnZXMudG90YWxIZWlnaHQ7XG5cdCAgICAgICAgICAgICAgICB2YXIgb25Qcm9ncmVzc0NoYW5nZSA9IHRoaXMucHJvcHMub25Qcm9ncmVzc0NoYW5nZTtcblx0XG5cdCAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsVG9wID0gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7XG5cdCAgICAgICAgICAgICAgICB2YXIgY3VycmVudFBhZ2UgPSB1dGlscy5wZXJjZW50YWdlVG9QYWdlKHNjcm9sbFRvcCAvIHRvdGFsSGVpZ2h0LCBwYWdlcy5sZW5ndGgpO1xuXHQgICAgICAgICAgICAgICAgaWYgKG9uUHJvZ3Jlc3NDaGFuZ2UpIHtcblx0ICAgICAgICAgICAgICAgICAgICBvblByb2dyZXNzQ2hhbmdlKHNjcm9sbFRvcCAvIHRvdGFsSGVpZ2h0KTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBjdXJyZW50UGFnZVxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcImFkZEV2ZW50TGlzdGVuZXJzXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXJzKCkge1xuXHQgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5kZWJvdW5kZWRIYW5kbGVTY3JvbGwpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwicmVtb3ZlRXZlbnRMaXN0ZW5lcnNcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XG5cdCAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmRlYm91bmRlZEhhbmRsZVNjcm9sbCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJjYWxjUGFnZXNcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2FsY1BhZ2VzKCkge1xuXHQgICAgICAgICAgICAvLyB0b2RvOiDmt7vliqDnvJPlrZhcblx0ICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICAgICAgICAgIHZhciBub2RlSGVpZ2h0cyA9IF9wcm9wcy5ub2RlSGVpZ2h0cztcblx0ICAgICAgICAgICAgdmFyIG5vZGVzID0gX3Byb3BzLm5vZGVzO1xuXHQgICAgICAgICAgICB2YXIgcGFnZUhlaWdodCA9IF9wcm9wcy5wYWdlSGVpZ2h0O1xuXHRcblx0ICAgICAgICAgICAgdmFyIHBhZ2VzID0gdXRpbHMuZ3JvdXBOb2Rlc0J5UGFnZShub2Rlcywgbm9kZUhlaWdodHMsIHBhZ2VIZWlnaHQpO1xuXHQgICAgICAgICAgICByZXR1cm4geyBwYWdlczogcGFnZXMsIHRvdGFsSGVpZ2h0OiBwYWdlcy5sZW5ndGggKiBwYWdlSGVpZ2h0IH07XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcblx0ICAgICAgICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzO1xuXHQgICAgICAgICAgICB2YXIgcGFnZUhlaWdodCA9IF9wcm9wczIucGFnZUhlaWdodDtcblx0ICAgICAgICAgICAgdmFyIGluaXRpYWxQYWdlID0gX3Byb3BzMi5pbml0aWFsUGFnZTtcblx0ICAgICAgICAgICAgdmFyIGluaXRpYWxQcm9ncmVzcyA9IF9wcm9wczIuaW5pdGlhbFByb2dyZXNzO1xuXHRcblx0ICAgICAgICAgICAgdmFyIF9jYWxjUGFnZXMyID0gdGhpcy5jYWxjUGFnZXMoKTtcblx0XG5cdCAgICAgICAgICAgIHZhciB0b3RhbEhlaWdodCA9IF9jYWxjUGFnZXMyLnRvdGFsSGVpZ2h0O1xuXHRcblx0ICAgICAgICAgICAgdmFyIHNjcm9sbFRvcCA9IDA7XG5cdCAgICAgICAgICAgIGlmIChpbml0aWFsUHJvZ3Jlc3MpIHtcblx0ICAgICAgICAgICAgICAgIHNjcm9sbFRvcCA9IHRvdGFsSGVpZ2h0ICogaW5pdGlhbFByb2dyZXNzO1xuXHQgICAgICAgICAgICB9IGVsc2UgaWYgKGluaXRpYWxQYWdlKSB7XG5cdCAgICAgICAgICAgICAgICBzY3JvbGxUb3AgPSBwYWdlSGVpZ2h0ICogKGluaXRpYWxQYWdlIC0gMSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG5cdCAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuXHQgICAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJyZW5kZXJcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgICAgICAgIHZhciBfY2FsY1BhZ2VzMyA9IHRoaXMuY2FsY1BhZ2VzKCk7XG5cdFxuXHQgICAgICAgICAgICB2YXIgcGFnZXMgPSBfY2FsY1BhZ2VzMy5wYWdlcztcblx0ICAgICAgICAgICAgdmFyIHRvdGFsSGVpZ2h0ID0gX2NhbGNQYWdlczMudG90YWxIZWlnaHQ7XG5cdCAgICAgICAgICAgIHZhciBjdXJyZW50UGFnZSA9IHRoaXMuc3RhdGUuY3VycmVudFBhZ2U7XG5cdCAgICAgICAgICAgIHZhciBfcHJvcHMzID0gdGhpcy5wcm9wcztcblx0ICAgICAgICAgICAgdmFyIHBhZ2VDb3VudCA9IF9wcm9wczMucGFnZUNvdW50O1xuXHQgICAgICAgICAgICB2YXIgcGFnZUhlaWdodCA9IF9wcm9wczMucGFnZUhlaWdodDtcblx0ICAgICAgICAgICAgdmFyIGZsdWlkID0gX3Byb3BzMy5mbHVpZDtcblx0ICAgICAgICAgICAgdmFyIHNob3dQYWdlSW5mbyA9IF9wcm9wczMuc2hvd1BhZ2VJbmZvO1xuXHRcblx0ICAgICAgICAgICAgdmFyIHN0YXJ0UGFnZUluZGV4ID0gY3VycmVudFBhZ2UgLSAxO1xuXHQgICAgICAgICAgICB2YXIgZW5kUGFnZUluZGV4ID0gc3RhcnRQYWdlSW5kZXggKyBwYWdlQ291bnQ7XG5cdCAgICAgICAgICAgIHZhciBjbGFzc05hbWUgPSAoMCwgX2NsYXNzbmFtZXMyLmRlZmF1bHQpKHtcblx0ICAgICAgICAgICAgICAgICdwYWdlcyc6ICFmbHVpZCxcblx0ICAgICAgICAgICAgICAgICdwYWdlcy0tZmx1aWQnOiBmbHVpZFxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwidWxcIiwgeyByZWY6IGZ1bmN0aW9uIHJlZihfcmVmKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmJvb2tQYWdlTGlzdERvbSA9IF9yZWY7XG5cdCAgICAgICAgICAgICAgICB9LCBzdHlsZU5hbWU6IGNsYXNzTmFtZSwgc3R5bGU6IHsgaGVpZ2h0OiB0b3RhbEhlaWdodCB9IH0sIF9sb2Rhc2gyLmRlZmF1bHQuc2xpY2UocGFnZXMsIHN0YXJ0UGFnZUluZGV4LCBlbmRQYWdlSW5kZXgpLm1hcChmdW5jdGlvbiAocGFnZSwgaW5kZXgpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfQm9va1BhZ2UyLmRlZmF1bHQsIHsga2V5OiBpbmRleCwgcGFnZTogcGFnZSwgcGFnZUhlaWdodDogcGFnZUhlaWdodCwgZmx1aWQ6IGZsdWlkLCByZWY6IGZ1bmN0aW9uIHJlZihfcmVmMikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuYm9va1BhZ2UgPSBfcmVmMjtcblx0ICAgICAgICAgICAgICAgICAgICB9IH0pO1xuXHQgICAgICAgICAgICB9KSksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9WaWV3ZXJTY3JvbGxiYXIyLmRlZmF1bHQsIHsgdmlzaWJsZTogc2hvd1BhZ2VJbmZvLCBjdXJyZW50OiBjdXJyZW50UGFnZSwgdG90YWw6IHBhZ2VzLmxlbmd0aCB9KSk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBCb29rUGFnZUxpc3Q7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdEJvb2tQYWdlTGlzdCA9IF9fZGVjb3JhdGUoWygwLCBfcmVhY3RDc3NNb2R1bGVzMi5kZWZhdWx0KShzdHlsZXMpXSwgQm9va1BhZ2VMaXN0KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQm9va1BhZ2VMaXN0O1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNDA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4MCk7XG5cdFxuXHR2YXIgX2NsYXNzbmFtZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lcyk7XG5cdFxuXHR2YXIgX3JlYWN0Q3NzTW9kdWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oODIpO1xuXHRcblx0dmFyIF9yZWFjdENzc01vZHVsZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RDc3NNb2R1bGVzKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBfX2RlY29yYXRlID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2RlY29yYXRlIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuXHQgICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLFxuXHQgICAgICAgIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLFxuXHQgICAgICAgIGQ7XG5cdCAgICBpZiAoKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoUmVmbGVjdCkpID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdCAgICAgICAgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcblx0ICAgIH1yZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xuXHR9O1xuXHRcblx0dmFyIHN0eWxlcyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQxKTtcblx0dmFyIEJvb2tQYWdlID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAgIF9pbmhlcml0cyhCb29rUGFnZSwgX0NvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gQm9va1BhZ2UoKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJvb2tQYWdlKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIE9iamVjdC5nZXRQcm90b3R5cGVPZihCb29rUGFnZSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKEJvb2tQYWdlLCBbe1xuXHQgICAgICAgIGtleTogXCJyZW5kZXJcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgICAgICAgICB2YXIgX3Byb3BzJHBhZ2UgPSBfcHJvcHMucGFnZTtcblx0ICAgICAgICAgICAgdmFyIG5vZGVzID0gX3Byb3BzJHBhZ2Uubm9kZXM7XG5cdCAgICAgICAgICAgIHZhciBtZXRhID0gX3Byb3BzJHBhZ2UubWV0YTtcblx0ICAgICAgICAgICAgdmFyIHBhZ2VIZWlnaHQgPSBfcHJvcHMucGFnZUhlaWdodDtcblx0ICAgICAgICAgICAgdmFyIGZsdWlkID0gX3Byb3BzLmZsdWlkO1xuXHRcblx0ICAgICAgICAgICAgdmFyIHN0eWxlID0ge1xuXHQgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdCAgICAgICAgICAgICAgICB0b3A6IHBhZ2VIZWlnaHQgKiAobWV0YS5wYWdlTm8gLSAxKSxcblx0ICAgICAgICAgICAgICAgIGhlaWdodDogcGFnZUhlaWdodCB8fCAnYXV0bydcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgdmFyIGNsYXNzTmFtZSA9ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoe1xuXHQgICAgICAgICAgICAgICAgJ3BhZ2UnOiAhZmx1aWQsXG5cdCAgICAgICAgICAgICAgICAncGFnZS0tZmx1aWQnOiBmbHVpZFxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwibGlcIiwgeyBzdHlsZU5hbWU6IGNsYXNzTmFtZSwgc3R5bGU6IHN0eWxlIH0sIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgc3R5bGU6IHsgbWFyZ2luVG9wOiBtZXRhLm9mZnNldCB9LCBzdHlsZU5hbWU6IFwiY29udGVudFwiLCBkYW5nZXJvdXNseVNldElubmVySFRNTDogeyBfX2h0bWw6IG5vZGVzLmpvaW4oJycpIH0sIHJlZjogZnVuY3Rpb24gcmVmKF9yZWYpIHtcblx0ICAgICAgICAgICAgICAgICAgICBfdGhpczIuYm9va1BhZ2VEb20gPSBfcmVmO1xuXHQgICAgICAgICAgICAgICAgfSB9KSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBzdHlsZU5hbWU6IFwicGFnZS1ub1wiIH0sIG1ldGEucGFnZU5vKSk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBCb29rUGFnZTtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0Qm9va1BhZ2UgPSBfX2RlY29yYXRlKFsoMCwgX3JlYWN0Q3NzTW9kdWxlczIuZGVmYXVsdCkoc3R5bGVzKV0sIEJvb2tQYWdlKTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQm9va1BhZ2U7XG5cbi8qKiovIH0sXG5cbi8qKiovIDE0MTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cdG1vZHVsZS5leHBvcnRzID0ge1wiY29udGVudFwiOlwiY29udGVudF8xbXlkSVwiLFwicGFnZVwiOlwicGFnZV8xU1U0aFwiLFwicGFnZS0tZmx1aWRcIjpcInBhZ2UtLWZsdWlkX3ZYOHJRIHBhZ2VfMVNVNGhcIixcInBhZ2UtLWluaXRcIjpcInBhZ2UtLWluaXRfOERaRkJcIixcInBhZ2Utbm9cIjpcInBhZ2Utbm9fMWpiVi1cIn07XG5cbi8qKiovIH0sXG5cbi8qKiovIDE0Mjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZ3JvdXBOb2Rlc0J5UGFnZSA9IGdyb3VwTm9kZXNCeVBhZ2U7XG5cdGV4cG9ydHMucGVyY2VudGFnZVRvUGFnZSA9IHBlcmNlbnRhZ2VUb1BhZ2U7XG5cdC8vIGxvbmcgcGFyYWdyYXBoIHNpdHVhdGlvbiBkb2Vzbid0IHNlZW0gdG8gYWZmZWN0IHRoaXMgZnVuY3Rpb25cblx0Ly8gb2Zmc2V0IGRpc3RhbmNlIGlzIGFsd2F5cyBuZWd0aXZlIG9yIHplcm9cblx0Ly8gdGhlIGluZGV4IHdpbGwgYmUgb2YgdGhlIHBhcmFncmFwaCB3aXRoIHRoaXMgb2Zmc2V0IGF0IHRoZSBlbmRcblx0ZnVuY3Rpb24gZ2V0UGFnZU9mZnNldChfcmVmKSB7XG5cdCAgICB2YXIgcGFnZUluZGV4ID0gX3JlZi5wYWdlSW5kZXg7XG5cdCAgICB2YXIgcGFnZUhlaWdodCA9IF9yZWYucGFnZUhlaWdodDtcblx0ICAgIHZhciBub2RlSGVpZ2h0cyA9IF9yZWYubm9kZUhlaWdodHM7XG5cdFxuXHQgICAgdmFyIG9mZnNldCA9IDA7XG5cdCAgICB2YXIgbm9kZUluZGV4ID0gMDtcblx0ICAgIHZhciBub2RlU3RhcnRJbmRleCA9IHZvaWQgMDtcblx0ICAgIGlmIChwYWdlSW5kZXggIT09IDApIHtcblx0ICAgICAgICB2YXIgbm9kZUhlaWdodFN1bSA9IDA7XG5cdCAgICAgICAgd2hpbGUgKG5vZGVIZWlnaHRTdW0gPD0gcGFnZUhlaWdodCAqIHBhZ2VJbmRleCkge1xuXHQgICAgICAgICAgICBub2RlSGVpZ2h0U3VtICs9IG5vZGVIZWlnaHRzW25vZGVJbmRleF07XG5cdCAgICAgICAgICAgIG5vZGVJbmRleCsrO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBvZmZzZXQgPSBub2RlSGVpZ2h0U3VtIC0gbm9kZUhlaWdodHNbbm9kZUluZGV4IC0gMV0gLSBwYWdlSW5kZXggKiBwYWdlSGVpZ2h0O1xuXHQgICAgICAgIG5vZGVTdGFydEluZGV4ID0gbm9kZUluZGV4IC0gMTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgICAgbm9kZVN0YXJ0SW5kZXggPSAwO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHsgb2Zmc2V0OiBvZmZzZXQsIG5vZGVTdGFydEluZGV4OiBub2RlU3RhcnRJbmRleCB9O1xuXHR9XG5cdGZ1bmN0aW9uIGdldE5vZGVzT2ZQYWdlKF9yZWYyKSB7XG5cdCAgICB2YXIgcGFnZUluZGV4ID0gX3JlZjIucGFnZUluZGV4O1xuXHQgICAgdmFyIG5vZGVzID0gX3JlZjIubm9kZXM7XG5cdCAgICB2YXIgcGFnZUhlaWdodCA9IF9yZWYyLnBhZ2VIZWlnaHQ7XG5cdCAgICB2YXIgbm9kZUhlaWdodHMgPSBfcmVmMi5ub2RlSGVpZ2h0cztcblx0XG5cdCAgICB2YXIgX2dldFBhZ2VPZmZzZXQgPSBnZXRQYWdlT2Zmc2V0KHsgcGFnZUluZGV4OiBwYWdlSW5kZXgsIHBhZ2VIZWlnaHQ6IHBhZ2VIZWlnaHQsIG5vZGVIZWlnaHRzOiBub2RlSGVpZ2h0cyB9KTtcblx0XG5cdCAgICB2YXIgb2Zmc2V0ID0gX2dldFBhZ2VPZmZzZXQub2Zmc2V0O1xuXHQgICAgdmFyIG5vZGVTdGFydEluZGV4ID0gX2dldFBhZ2VPZmZzZXQubm9kZVN0YXJ0SW5kZXg7XG5cdFxuXHQgICAgdmFyIG5vZGVJbmRleCA9IG5vZGVTdGFydEluZGV4O1xuXHQgICAgdmFyIG5vZGVFbmRJbmRleCA9IHZvaWQgMDtcblx0ICAgIHZhciBwYWdlTm9kZXMgPSBbXTtcblx0ICAgIHZhciBub2RlSGVpZ2h0U3VtID0gb2Zmc2V0ICsgbm9kZUhlaWdodHNbbm9kZVN0YXJ0SW5kZXhdO1xuXHQgICAgbm9kZUluZGV4Kys7XG5cdCAgICBpZiAobm9kZUhlaWdodFN1bSA8IHBhZ2VIZWlnaHQpIHtcblx0ICAgICAgICB3aGlsZSAobm9kZUhlaWdodFN1bSA8PSBwYWdlSGVpZ2h0ICYmIG5vZGVJbmRleCAhPT0gbm9kZXMubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIG5vZGVIZWlnaHRTdW0gKz0gbm9kZUhlaWdodHNbbm9kZUluZGV4XTtcblx0ICAgICAgICAgICAgbm9kZUluZGV4Kys7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIG5vZGVFbmRJbmRleCA9IG5vZGVJbmRleCAtIDE7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICAgIG5vZGVFbmRJbmRleCA9IG5vZGVTdGFydEluZGV4O1xuXHQgICAgfVxuXHQgICAgZm9yICh2YXIgaSA9IG5vZGVTdGFydEluZGV4OyBpIDw9IG5vZGVFbmRJbmRleCAmJiBpIDw9IG5vZGVzLmxlbmd0aCAtIDE7IGkrKykge1xuXHQgICAgICAgIHBhZ2VOb2Rlcy5wdXNoKG5vZGVzW2ldKTtcblx0ICAgIH1cblx0ICAgIHJldHVybiB7IHBhZ2VOb2RlczogcGFnZU5vZGVzLCBvZmZzZXQ6IG9mZnNldCB9O1xuXHR9XG5cdGZ1bmN0aW9uIGdyb3VwTm9kZXNCeVBhZ2Uobm9kZXMsIG5vZGVIZWlnaHRzLCBwYWdlSGVpZ2h0KSB7XG5cdCAgICB2YXIgcGFnZXMgPSBbXTtcblx0ICAgIHZhciBwYWdlSGVpZ2h0U3VtID0gbm9kZUhlaWdodHMucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7XG5cdCAgICAgICAgcmV0dXJuIGEgKyBiO1xuXHQgICAgfSwgMCk7XG5cdCAgICB2YXIgcGFnZVN1bSA9IE1hdGguY2VpbChwYWdlSGVpZ2h0U3VtIC8gcGFnZUhlaWdodCk7XG5cdCAgICBjb25zb2xlLmxvZygndG9kbzogZ3JvdXAgbm9kZXMnKTtcblx0ICAgIC8vIG5vZGVzID0gbm9kZXMubWFwKChub2RlLCBpbmRleCkgPT4ge1xuXHQgICAgLy8gICBub2RlLnByb3BzLmluZGV4ID0gaW5kZXhcblx0ICAgIC8vICAgcmV0dXJuIG5vZGVcblx0ICAgIC8vIH0pXG5cdCAgICBpZiAobm9kZUhlaWdodHMubGVuZ3RoID09PSAwKSB7XG5cdCAgICAgICAgcmV0dXJuIFt7XG5cdCAgICAgICAgICAgIG5vZGVzOiBub2Rlcyxcblx0ICAgICAgICAgICAgbWV0YToge1xuXHQgICAgICAgICAgICAgICAgcGFnZU5vOiAxLFxuXHQgICAgICAgICAgICAgICAgb2Zmc2V0OiAwXG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XTtcblx0ICAgIH1cblx0ICAgIC8vIGZpbmFsbHlcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFnZVN1bTsgaSsrKSB7XG5cdCAgICAgICAgdmFyIF9nZXROb2Rlc09mUGFnZSA9IGdldE5vZGVzT2ZQYWdlKHsgcGFnZUluZGV4OiBpLCBub2Rlczogbm9kZXMsIG5vZGVIZWlnaHRzOiBub2RlSGVpZ2h0cywgcGFnZUhlaWdodDogcGFnZUhlaWdodCB9KTtcblx0XG5cdCAgICAgICAgdmFyIHBhZ2VOb2RlcyA9IF9nZXROb2Rlc09mUGFnZS5wYWdlTm9kZXM7XG5cdCAgICAgICAgdmFyIG9mZnNldCA9IF9nZXROb2Rlc09mUGFnZS5vZmZzZXQ7XG5cdFxuXHQgICAgICAgIHBhZ2VzLnB1c2goe1xuXHQgICAgICAgICAgICBub2RlczogcGFnZU5vZGVzLFxuXHQgICAgICAgICAgICBtZXRhOiB7XG5cdCAgICAgICAgICAgICAgICBwYWdlTm86IGkgKyAxLFxuXHQgICAgICAgICAgICAgICAgb2Zmc2V0OiBvZmZzZXRcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0pO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHBhZ2VzO1xuXHR9XG5cdGZ1bmN0aW9uIHBlcmNlbnRhZ2VUb1BhZ2UocCwgcGFnZVN1bSkge1xuXHQgICAgaWYgKHAgPiAxKSB7XG5cdCAgICAgICAgY29uc29sZS5lcnJvcignV3JvbmcgcGFyYW1ldGVyIScpO1xuXHQgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICByZXR1cm4gcGFyc2VJbnQocCAqIHBhZ2VTdW0pICsgMTtcblx0ICAgIH1cblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyAxNDM6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdENzc01vZHVsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgyKTtcblx0XG5cdHZhciBfcmVhY3RDc3NNb2R1bGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0Q3NzTW9kdWxlcyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX19kZWNvcmF0ZSA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19kZWNvcmF0ZSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcblx0ICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCxcblx0ICAgICAgICByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYyxcblx0ICAgICAgICBkO1xuXHQgICAgaWYgKCh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKFJlZmxlY3QpKSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7ZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHQgICAgICAgIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG5cdCAgICB9cmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcblx0fTtcblx0XG5cdHZhciBzdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0NCk7XG5cdHZhciBWaWV3ZXJTY3JvbGxiYXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICAgX2luaGVyaXRzKFZpZXdlclNjcm9sbGJhciwgX0NvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gVmlld2VyU2Nyb2xsYmFyKHByb3BzKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFZpZXdlclNjcm9sbGJhcik7XG5cdFxuXHQgICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVmlld2VyU2Nyb2xsYmFyKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKFZpZXdlclNjcm9sbGJhciwgW3tcblx0ICAgICAgICBrZXk6IFwicmVuZGVyXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICAgICAgICAgIHZhciBjdXJyZW50ID0gX3Byb3BzLmN1cnJlbnQ7XG5cdCAgICAgICAgICAgIHZhciB0b3RhbCA9IF9wcm9wcy50b3RhbDtcblx0XG5cdCAgICAgICAgICAgIHZhciBwZXJjZW50YWdlID0gKGN1cnJlbnQgLyB0b3RhbCAqIDEwMCkudG9GaXhlZCgyKSArICclJztcblx0ICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMudmlzaWJsZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlTmFtZTogXCJsb2MtaW5mb1wiIH0sIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3Ryb25nXCIsIG51bGwsIGN1cnJlbnQpLCBcIi9cIiwgdG90YWwpLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlTmFtZTogXCJzdWItaW5mb1wiIH0sIHBlcmNlbnRhZ2UpKTtcblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIFZpZXdlclNjcm9sbGJhcjtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0Vmlld2VyU2Nyb2xsYmFyID0gX19kZWNvcmF0ZShbKDAsIF9yZWFjdENzc01vZHVsZXMyLmRlZmF1bHQpKHN0eWxlcyldLCBWaWV3ZXJTY3JvbGxiYXIpO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBWaWV3ZXJTY3JvbGxiYXI7XG5cbi8qKiovIH0sXG5cbi8qKiovIDE0NDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cdG1vZHVsZS5leHBvcnRzID0ge1wic2Nyb2xsYmFyXCI6XCJzY3JvbGxiYXJfM3ZIbHRcIixcImJ1dHRvblwiOlwiYnV0dG9uXzF2ZHFVXCIsXCJ0cmFja1wiOlwidHJhY2tfMkZMVEFcIixcInRyYWNrLS1wYXN0XCI6XCJ0cmFjay0tcGFzdF8zWUtkNCB0cmFja18yRkxUQVwiLFwibG9jLWluZm9cIjpcImxvYy1pbmZvXzM3N1Z1XCIsXCJzdWItaW5mb1wiOlwic3ViLWluZm9fM3FJNXVcIn07XG5cbi8qKiovIH0sXG5cbi8qKiovIDE0NTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cdG1vZHVsZS5leHBvcnRzID0ge1wicGFnZXNcIjpcInBhZ2VzXzFTTmlzXCIsXCJwYWdlcy0tZmx1aWRcIjpcInBhZ2VzLS1mbHVpZF8zOUZQZSBwYWdlc18xU05pc1wifTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTQ2OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5nZXROb2RlSGVpZ2h0cyA9IGdldE5vZGVIZWlnaHRzO1xuXHRleHBvcnRzLm1hcmtkb3duVG9Ob2RlU3RyaW5nTGlzdCA9IG1hcmtkb3duVG9Ob2RlU3RyaW5nTGlzdDtcblx0XG5cdHZhciBfbWFya2VkID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDcpO1xuXHRcblx0dmFyIF9tYXJrZWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFya2VkKTtcblx0XG5cdHZhciBfanF1ZXJ5ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNDgpO1xuXHRcblx0dmFyIF9qcXVlcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfanF1ZXJ5KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHQvLyDmmoLkuI3mlK/mjIHljIXlkKvlm77niYfnmoTorqHnrpdcblx0Ly8g6K6h566X5rKh5pyJ562J5b6F5Zu+54mH5Yqg6L295a6M5oiQ77yM5omA5Lul57uT5p6c5piv5LiN5q2j56Gu55qEXG5cdGZ1bmN0aW9uIGdldE5vZGVIZWlnaHRzKG5vZGVzKSB7XG5cdCAgICBjb25zb2xlLmxvZygnZG9tIHJlYWR5LCBnZXROb2RlSGVpZ2h0cycpO1xuXHQgICAgdmFyIG5vZGVzSGVpZ2h0ID0gW107XG5cdCAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKG5vZGVzLCBmdW5jdGlvbiAobm9kZSwgaW5kZXgpIHtcblx0ICAgICAgICBpZiAobm9kZS5jbGFzc05hbWUgIT09ICdnYi1saW5lJykge1xuXHQgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdVbnN1cHBvcnRlZCBjb250ZW50IGZvdW5kIScpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBub2Rlc0hlaWdodC5wdXNoKG5vZGUuY2xpZW50SGVpZ2h0KTtcblx0ICAgIH0pO1xuXHQgICAgcmV0dXJuIG5vZGVzSGVpZ2h0O1xuXHR9XG5cdGZ1bmN0aW9uIG1hcmtkb3duVG9Ob2RlU3RyaW5nTGlzdChtYXJrZG93bikge1xuXHQgICAgY29uc29sZS5sb2coJ3N0YXJ0IG1kJyk7XG5cdCAgICB2YXIgaHRtbCA9ICgwLCBfbWFya2VkMi5kZWZhdWx0KShtYXJrZG93biwge1xuXHQgICAgICAgIGdmbTogdHJ1ZSxcblx0ICAgICAgICBicmVha3M6IHRydWVcblx0ICAgIH0pO1xuXHQgICAgY29uc29sZS5sb2coJ2RvbmUgbWFya2VkJyk7XG5cdCAgICB2YXIgbm9kZXMgPSBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoKDAsIF9qcXVlcnkyLmRlZmF1bHQpKGh0bWwpLCBmdW5jdGlvbiAoZWxlLCBpbmRleCkge1xuXHQgICAgICAgIGlmIChlbGUubm9kZVR5cGUgPT09IDMgJiYgZWxlLm5vZGVWYWx1ZSA9PT0gJ1xcbicpIHtcblx0ICAgICAgICAgICAgLy8g56e76ZmkIGh0bWwg6YeM55qE5Zue6L2mXG5cdCAgICAgICAgICAgIHJldHVybiBudWxsO1xuXHQgICAgICAgIH1cblx0ICAgICAgICBpZiAoZWxlLnRhZ05hbWUgPT09ICdQJykge1xuXHQgICAgICAgICAgICByZXR1cm4gJzxwIGNsYXNzPVwiZ2ItbGluZVwiPicgKyBlbGUuaW5uZXJIVE1MICsgJzwvcD4nO1xuXHQgICAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cImdiLWxpbmVcIj4nICsgZWxlLm91dGVySFRNTCArICc8L2Rpdj4nO1xuXHQgICAgICAgIH1cblx0ICAgIH0pLmZpbHRlcihmdW5jdGlvbiAobm9kZSkge1xuXHQgICAgICAgIHJldHVybiBub2RlO1xuXHQgICAgfSk7XG5cdCAgICAvLyBjb25zb2xlLmxvZyhub2Rlcylcblx0ICAgIGNvbnNvbGUubG9nKCdlbmQgbWQnKTtcblx0ICAgIHJldHVybiBub2Rlcztcblx0fVxuXG4vKioqLyB9LFxuXG4vKioqLyAxNDc6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7LyoqXG5cdCAqIG1hcmtlZCAtIGEgbWFya2Rvd24gcGFyc2VyXG5cdCAqIENvcHlyaWdodCAoYykgMjAxMS0yMDE0LCBDaHJpc3RvcGhlciBKZWZmcmV5LiAoTUlUIExpY2Vuc2VkKVxuXHQgKiBodHRwczovL2dpdGh1Yi5jb20vY2hqai9tYXJrZWRcblx0ICovXG5cdFxuXHQ7KGZ1bmN0aW9uKCkge1xuXHRcblx0LyoqXG5cdCAqIEJsb2NrLUxldmVsIEdyYW1tYXJcblx0ICovXG5cdFxuXHR2YXIgYmxvY2sgPSB7XG5cdCAgbmV3bGluZTogL15cXG4rLyxcblx0ICBjb2RlOiAvXiggezR9W15cXG5dK1xcbiopKy8sXG5cdCAgZmVuY2VzOiBub29wLFxuXHQgIGhyOiAvXiggKlstKl9dKXszLH0gKig/Olxcbit8JCkvLFxuXHQgIGhlYWRpbmc6IC9eICooI3sxLDZ9KSAqKFteXFxuXSs/KSAqIyogKig/Olxcbit8JCkvLFxuXHQgIG5wdGFibGU6IG5vb3AsXG5cdCAgbGhlYWRpbmc6IC9eKFteXFxuXSspXFxuICooPXwtKXsyLH0gKig/Olxcbit8JCkvLFxuXHQgIGJsb2NrcXVvdGU6IC9eKCAqPlteXFxuXSsoXFxuKD8hZGVmKVteXFxuXSspKlxcbiopKy8sXG5cdCAgbGlzdDogL14oICopKGJ1bGwpIFtcXHNcXFNdKz8oPzpocnxkZWZ8XFxuezIsfSg/ISApKD8hXFwxYnVsbCApXFxuKnxcXHMqJCkvLFxuXHQgIGh0bWw6IC9eICooPzpjb21tZW50ICooPzpcXG58XFxzKiQpfGNsb3NlZCAqKD86XFxuezIsfXxcXHMqJCl8Y2xvc2luZyAqKD86XFxuezIsfXxcXHMqJCkpLyxcblx0ICBkZWY6IC9eICpcXFsoW15cXF1dKylcXF06ICo8PyhbXlxccz5dKyk+Pyg/OiArW1wiKF0oW15cXG5dKylbXCIpXSk/ICooPzpcXG4rfCQpLyxcblx0ICB0YWJsZTogbm9vcCxcblx0ICBwYXJhZ3JhcGg6IC9eKCg/OlteXFxuXStcXG4/KD8haHJ8aGVhZGluZ3xsaGVhZGluZ3xibG9ja3F1b3RlfHRhZ3xkZWYpKSspXFxuKi8sXG5cdCAgdGV4dDogL15bXlxcbl0rL1xuXHR9O1xuXHRcblx0YmxvY2suYnVsbGV0ID0gLyg/OlsqKy1dfFxcZCtcXC4pLztcblx0YmxvY2suaXRlbSA9IC9eKCAqKShidWxsKSBbXlxcbl0qKD86XFxuKD8hXFwxYnVsbCApW15cXG5dKikqLztcblx0YmxvY2suaXRlbSA9IHJlcGxhY2UoYmxvY2suaXRlbSwgJ2dtJylcblx0ICAoL2J1bGwvZywgYmxvY2suYnVsbGV0KVxuXHQgICgpO1xuXHRcblx0YmxvY2subGlzdCA9IHJlcGxhY2UoYmxvY2subGlzdClcblx0ICAoL2J1bGwvZywgYmxvY2suYnVsbGV0KVxuXHQgICgnaHInLCAnXFxcXG4rKD89XFxcXDE/KD86Wy0qX10gKil7Myx9KD86XFxcXG4rfCQpKScpXG5cdCAgKCdkZWYnLCAnXFxcXG4rKD89JyArIGJsb2NrLmRlZi5zb3VyY2UgKyAnKScpXG5cdCAgKCk7XG5cdFxuXHRibG9jay5ibG9ja3F1b3RlID0gcmVwbGFjZShibG9jay5ibG9ja3F1b3RlKVxuXHQgICgnZGVmJywgYmxvY2suZGVmKVxuXHQgICgpO1xuXHRcblx0YmxvY2suX3RhZyA9ICcoPyEoPzonXG5cdCAgKyAnYXxlbXxzdHJvbmd8c21hbGx8c3xjaXRlfHF8ZGZufGFiYnJ8ZGF0YXx0aW1lfGNvZGUnXG5cdCAgKyAnfHZhcnxzYW1wfGtiZHxzdWJ8c3VwfGl8Ynx1fG1hcmt8cnVieXxydHxycHxiZGl8YmRvJ1xuXHQgICsgJ3xzcGFufGJyfHdicnxpbnN8ZGVsfGltZylcXFxcYilcXFxcdysoPyE6L3xbXlxcXFx3XFxcXHNAXSpAKVxcXFxiJztcblx0XG5cdGJsb2NrLmh0bWwgPSByZXBsYWNlKGJsb2NrLmh0bWwpXG5cdCAgKCdjb21tZW50JywgLzwhLS1bXFxzXFxTXSo/LS0+Lylcblx0ICAoJ2Nsb3NlZCcsIC88KHRhZylbXFxzXFxTXSs/PFxcL1xcMT4vKVxuXHQgICgnY2xvc2luZycsIC88dGFnKD86XCJbXlwiXSpcInwnW14nXSonfFteJ1wiPl0pKj8+Lylcblx0ICAoL3RhZy9nLCBibG9jay5fdGFnKVxuXHQgICgpO1xuXHRcblx0YmxvY2sucGFyYWdyYXBoID0gcmVwbGFjZShibG9jay5wYXJhZ3JhcGgpXG5cdCAgKCdocicsIGJsb2NrLmhyKVxuXHQgICgnaGVhZGluZycsIGJsb2NrLmhlYWRpbmcpXG5cdCAgKCdsaGVhZGluZycsIGJsb2NrLmxoZWFkaW5nKVxuXHQgICgnYmxvY2txdW90ZScsIGJsb2NrLmJsb2NrcXVvdGUpXG5cdCAgKCd0YWcnLCAnPCcgKyBibG9jay5fdGFnKVxuXHQgICgnZGVmJywgYmxvY2suZGVmKVxuXHQgICgpO1xuXHRcblx0LyoqXG5cdCAqIE5vcm1hbCBCbG9jayBHcmFtbWFyXG5cdCAqL1xuXHRcblx0YmxvY2subm9ybWFsID0gbWVyZ2Uoe30sIGJsb2NrKTtcblx0XG5cdC8qKlxuXHQgKiBHRk0gQmxvY2sgR3JhbW1hclxuXHQgKi9cblx0XG5cdGJsb2NrLmdmbSA9IG1lcmdlKHt9LCBibG9jay5ub3JtYWwsIHtcblx0ICBmZW5jZXM6IC9eICooYHszLH18fnszLH0pWyBcXC5dKihcXFMrKT8gKlxcbihbXFxzXFxTXSo/KVxccypcXDEgKig/Olxcbit8JCkvLFxuXHQgIHBhcmFncmFwaDogL14vLFxuXHQgIGhlYWRpbmc6IC9eICooI3sxLDZ9KSArKFteXFxuXSs/KSAqIyogKig/Olxcbit8JCkvXG5cdH0pO1xuXHRcblx0YmxvY2suZ2ZtLnBhcmFncmFwaCA9IHJlcGxhY2UoYmxvY2sucGFyYWdyYXBoKVxuXHQgICgnKD8hJywgJyg/ISdcblx0ICAgICsgYmxvY2suZ2ZtLmZlbmNlcy5zb3VyY2UucmVwbGFjZSgnXFxcXDEnLCAnXFxcXDInKSArICd8J1xuXHQgICAgKyBibG9jay5saXN0LnNvdXJjZS5yZXBsYWNlKCdcXFxcMScsICdcXFxcMycpICsgJ3wnKVxuXHQgICgpO1xuXHRcblx0LyoqXG5cdCAqIEdGTSArIFRhYmxlcyBCbG9jayBHcmFtbWFyXG5cdCAqL1xuXHRcblx0YmxvY2sudGFibGVzID0gbWVyZ2Uoe30sIGJsb2NrLmdmbSwge1xuXHQgIG5wdGFibGU6IC9eICooXFxTLipcXHwuKilcXG4gKihbLTpdKyAqXFx8Wy18IDpdKilcXG4oKD86LipcXHwuKig/OlxcbnwkKSkqKVxcbiovLFxuXHQgIHRhYmxlOiAvXiAqXFx8KC4rKVxcbiAqXFx8KCAqWy06XStbLXwgOl0qKVxcbigoPzogKlxcfC4qKD86XFxufCQpKSopXFxuKi9cblx0fSk7XG5cdFxuXHQvKipcblx0ICogQmxvY2sgTGV4ZXJcblx0ICovXG5cdFxuXHRmdW5jdGlvbiBMZXhlcihvcHRpb25zKSB7XG5cdCAgdGhpcy50b2tlbnMgPSBbXTtcblx0ICB0aGlzLnRva2Vucy5saW5rcyA9IHt9O1xuXHQgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwgbWFya2VkLmRlZmF1bHRzO1xuXHQgIHRoaXMucnVsZXMgPSBibG9jay5ub3JtYWw7XG5cdFxuXHQgIGlmICh0aGlzLm9wdGlvbnMuZ2ZtKSB7XG5cdCAgICBpZiAodGhpcy5vcHRpb25zLnRhYmxlcykge1xuXHQgICAgICB0aGlzLnJ1bGVzID0gYmxvY2sudGFibGVzO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdGhpcy5ydWxlcyA9IGJsb2NrLmdmbTtcblx0ICAgIH1cblx0ICB9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBFeHBvc2UgQmxvY2sgUnVsZXNcblx0ICovXG5cdFxuXHRMZXhlci5ydWxlcyA9IGJsb2NrO1xuXHRcblx0LyoqXG5cdCAqIFN0YXRpYyBMZXggTWV0aG9kXG5cdCAqL1xuXHRcblx0TGV4ZXIubGV4ID0gZnVuY3Rpb24oc3JjLCBvcHRpb25zKSB7XG5cdCAgdmFyIGxleGVyID0gbmV3IExleGVyKG9wdGlvbnMpO1xuXHQgIHJldHVybiBsZXhlci5sZXgoc3JjKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBQcmVwcm9jZXNzaW5nXG5cdCAqL1xuXHRcblx0TGV4ZXIucHJvdG90eXBlLmxleCA9IGZ1bmN0aW9uKHNyYykge1xuXHQgIHNyYyA9IHNyY1xuXHQgICAgLnJlcGxhY2UoL1xcclxcbnxcXHIvZywgJ1xcbicpXG5cdCAgICAucmVwbGFjZSgvXFx0L2csICcgICAgJylcblx0ICAgIC5yZXBsYWNlKC9cXHUwMGEwL2csICcgJylcblx0ICAgIC5yZXBsYWNlKC9cXHUyNDI0L2csICdcXG4nKTtcblx0XG5cdCAgcmV0dXJuIHRoaXMudG9rZW4oc3JjLCB0cnVlKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBMZXhpbmdcblx0ICovXG5cdFxuXHRMZXhlci5wcm90b3R5cGUudG9rZW4gPSBmdW5jdGlvbihzcmMsIHRvcCwgYnEpIHtcblx0ICB2YXIgc3JjID0gc3JjLnJlcGxhY2UoL14gKyQvZ20sICcnKVxuXHQgICAgLCBuZXh0XG5cdCAgICAsIGxvb3NlXG5cdCAgICAsIGNhcFxuXHQgICAgLCBidWxsXG5cdCAgICAsIGJcblx0ICAgICwgaXRlbVxuXHQgICAgLCBzcGFjZVxuXHQgICAgLCBpXG5cdCAgICAsIGw7XG5cdFxuXHQgIHdoaWxlIChzcmMpIHtcblx0ICAgIC8vIG5ld2xpbmVcblx0ICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLm5ld2xpbmUuZXhlYyhzcmMpKSB7XG5cdCAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG5cdCAgICAgIGlmIChjYXBbMF0ubGVuZ3RoID4gMSkge1xuXHQgICAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuXHQgICAgICAgICAgdHlwZTogJ3NwYWNlJ1xuXHQgICAgICAgIH0pO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gY29kZVxuXHQgICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuY29kZS5leGVjKHNyYykpIHtcblx0ICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcblx0ICAgICAgY2FwID0gY2FwWzBdLnJlcGxhY2UoL14gezR9L2dtLCAnJyk7XG5cdCAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuXHQgICAgICAgIHR5cGU6ICdjb2RlJyxcblx0ICAgICAgICB0ZXh0OiAhdGhpcy5vcHRpb25zLnBlZGFudGljXG5cdCAgICAgICAgICA/IGNhcC5yZXBsYWNlKC9cXG4rJC8sICcnKVxuXHQgICAgICAgICAgOiBjYXBcblx0ICAgICAgfSk7XG5cdCAgICAgIGNvbnRpbnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIGZlbmNlcyAoZ2ZtKVxuXHQgICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuZmVuY2VzLmV4ZWMoc3JjKSkge1xuXHQgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuXHQgICAgICB0aGlzLnRva2Vucy5wdXNoKHtcblx0ICAgICAgICB0eXBlOiAnY29kZScsXG5cdCAgICAgICAgbGFuZzogY2FwWzJdLFxuXHQgICAgICAgIHRleHQ6IGNhcFszXSB8fCAnJ1xuXHQgICAgICB9KTtcblx0ICAgICAgY29udGludWU7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gaGVhZGluZ1xuXHQgICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuaGVhZGluZy5leGVjKHNyYykpIHtcblx0ICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcblx0ICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG5cdCAgICAgICAgdHlwZTogJ2hlYWRpbmcnLFxuXHQgICAgICAgIGRlcHRoOiBjYXBbMV0ubGVuZ3RoLFxuXHQgICAgICAgIHRleHQ6IGNhcFsyXVxuXHQgICAgICB9KTtcblx0ICAgICAgY29udGludWU7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gdGFibGUgbm8gbGVhZGluZyBwaXBlIChnZm0pXG5cdCAgICBpZiAodG9wICYmIChjYXAgPSB0aGlzLnJ1bGVzLm5wdGFibGUuZXhlYyhzcmMpKSkge1xuXHQgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuXHRcblx0ICAgICAgaXRlbSA9IHtcblx0ICAgICAgICB0eXBlOiAndGFibGUnLFxuXHQgICAgICAgIGhlYWRlcjogY2FwWzFdLnJlcGxhY2UoL14gKnwgKlxcfCAqJC9nLCAnJykuc3BsaXQoLyAqXFx8ICovKSxcblx0ICAgICAgICBhbGlnbjogY2FwWzJdLnJlcGxhY2UoL14gKnxcXHwgKiQvZywgJycpLnNwbGl0KC8gKlxcfCAqLyksXG5cdCAgICAgICAgY2VsbHM6IGNhcFszXS5yZXBsYWNlKC9cXG4kLywgJycpLnNwbGl0KCdcXG4nKVxuXHQgICAgICB9O1xuXHRcblx0ICAgICAgZm9yIChpID0gMDsgaSA8IGl0ZW0uYWxpZ24ubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBpZiAoL14gKi0rOiAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuXHQgICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdyaWdodCc7XG5cdCAgICAgICAgfSBlbHNlIGlmICgvXiAqOi0rOiAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuXHQgICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdjZW50ZXInO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoL14gKjotKyAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuXHQgICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdsZWZ0Jztcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgaXRlbS5hbGlnbltpXSA9IG51bGw7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdFxuXHQgICAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbS5jZWxscy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIGl0ZW0uY2VsbHNbaV0gPSBpdGVtLmNlbGxzW2ldLnNwbGl0KC8gKlxcfCAqLyk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRoaXMudG9rZW5zLnB1c2goaXRlbSk7XG5cdFxuXHQgICAgICBjb250aW51ZTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBsaGVhZGluZ1xuXHQgICAgaWYgKGNhcCA9IHRoaXMucnVsZXMubGhlYWRpbmcuZXhlYyhzcmMpKSB7XG5cdCAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG5cdCAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuXHQgICAgICAgIHR5cGU6ICdoZWFkaW5nJyxcblx0ICAgICAgICBkZXB0aDogY2FwWzJdID09PSAnPScgPyAxIDogMixcblx0ICAgICAgICB0ZXh0OiBjYXBbMV1cblx0ICAgICAgfSk7XG5cdCAgICAgIGNvbnRpbnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIGhyXG5cdCAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5oci5leGVjKHNyYykpIHtcblx0ICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcblx0ICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG5cdCAgICAgICAgdHlwZTogJ2hyJ1xuXHQgICAgICB9KTtcblx0ICAgICAgY29udGludWU7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gYmxvY2txdW90ZVxuXHQgICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuYmxvY2txdW90ZS5leGVjKHNyYykpIHtcblx0ICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcblx0XG5cdCAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuXHQgICAgICAgIHR5cGU6ICdibG9ja3F1b3RlX3N0YXJ0J1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIGNhcCA9IGNhcFswXS5yZXBsYWNlKC9eICo+ID8vZ20sICcnKTtcblx0XG5cdCAgICAgIC8vIFBhc3MgYHRvcGAgdG8ga2VlcCB0aGUgY3VycmVudFxuXHQgICAgICAvLyBcInRvcGxldmVsXCIgc3RhdGUuIFRoaXMgaXMgZXhhY3RseVxuXHQgICAgICAvLyBob3cgbWFya2Rvd24ucGwgd29ya3MuXG5cdCAgICAgIHRoaXMudG9rZW4oY2FwLCB0b3AsIHRydWUpO1xuXHRcblx0ICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG5cdCAgICAgICAgdHlwZTogJ2Jsb2NrcXVvdGVfZW5kJ1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIGNvbnRpbnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIGxpc3Rcblx0ICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmxpc3QuZXhlYyhzcmMpKSB7XG5cdCAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG5cdCAgICAgIGJ1bGwgPSBjYXBbMl07XG5cdFxuXHQgICAgICB0aGlzLnRva2Vucy5wdXNoKHtcblx0ICAgICAgICB0eXBlOiAnbGlzdF9zdGFydCcsXG5cdCAgICAgICAgb3JkZXJlZDogYnVsbC5sZW5ndGggPiAxXG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgLy8gR2V0IGVhY2ggdG9wLWxldmVsIGl0ZW0uXG5cdCAgICAgIGNhcCA9IGNhcFswXS5tYXRjaCh0aGlzLnJ1bGVzLml0ZW0pO1xuXHRcblx0ICAgICAgbmV4dCA9IGZhbHNlO1xuXHQgICAgICBsID0gY2FwLmxlbmd0aDtcblx0ICAgICAgaSA9IDA7XG5cdFxuXHQgICAgICBmb3IgKDsgaSA8IGw7IGkrKykge1xuXHQgICAgICAgIGl0ZW0gPSBjYXBbaV07XG5cdFxuXHQgICAgICAgIC8vIFJlbW92ZSB0aGUgbGlzdCBpdGVtJ3MgYnVsbGV0XG5cdCAgICAgICAgLy8gc28gaXQgaXMgc2VlbiBhcyB0aGUgbmV4dCB0b2tlbi5cblx0ICAgICAgICBzcGFjZSA9IGl0ZW0ubGVuZ3RoO1xuXHQgICAgICAgIGl0ZW0gPSBpdGVtLnJlcGxhY2UoL14gKihbKistXXxcXGQrXFwuKSArLywgJycpO1xuXHRcblx0ICAgICAgICAvLyBPdXRkZW50IHdoYXRldmVyIHRoZVxuXHQgICAgICAgIC8vIGxpc3QgaXRlbSBjb250YWlucy4gSGFja3kuXG5cdCAgICAgICAgaWYgKH5pdGVtLmluZGV4T2YoJ1xcbiAnKSkge1xuXHQgICAgICAgICAgc3BhY2UgLT0gaXRlbS5sZW5ndGg7XG5cdCAgICAgICAgICBpdGVtID0gIXRoaXMub3B0aW9ucy5wZWRhbnRpY1xuXHQgICAgICAgICAgICA/IGl0ZW0ucmVwbGFjZShuZXcgUmVnRXhwKCdeIHsxLCcgKyBzcGFjZSArICd9JywgJ2dtJyksICcnKVxuXHQgICAgICAgICAgICA6IGl0ZW0ucmVwbGFjZSgvXiB7MSw0fS9nbSwgJycpO1xuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIG5leHQgbGlzdCBpdGVtIGJlbG9uZ3MgaGVyZS5cblx0ICAgICAgICAvLyBCYWNrcGVkYWwgaWYgaXQgZG9lcyBub3QgYmVsb25nIGluIHRoaXMgbGlzdC5cblx0ICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNtYXJ0TGlzdHMgJiYgaSAhPT0gbCAtIDEpIHtcblx0ICAgICAgICAgIGIgPSBibG9jay5idWxsZXQuZXhlYyhjYXBbaSArIDFdKVswXTtcblx0ICAgICAgICAgIGlmIChidWxsICE9PSBiICYmICEoYnVsbC5sZW5ndGggPiAxICYmIGIubGVuZ3RoID4gMSkpIHtcblx0ICAgICAgICAgICAgc3JjID0gY2FwLnNsaWNlKGkgKyAxKS5qb2luKCdcXG4nKSArIHNyYztcblx0ICAgICAgICAgICAgaSA9IGwgLSAxO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgaXRlbSBpcyBsb29zZSBvciBub3QuXG5cdCAgICAgICAgLy8gVXNlOiAvKF58XFxuKSg/ISApW15cXG5dK1xcblxcbig/IVxccyokKS9cblx0ICAgICAgICAvLyBmb3IgZGlzY291bnQgYmVoYXZpb3IuXG5cdCAgICAgICAgbG9vc2UgPSBuZXh0IHx8IC9cXG5cXG4oPyFcXHMqJCkvLnRlc3QoaXRlbSk7XG5cdCAgICAgICAgaWYgKGkgIT09IGwgLSAxKSB7XG5cdCAgICAgICAgICBuZXh0ID0gaXRlbS5jaGFyQXQoaXRlbS5sZW5ndGggLSAxKSA9PT0gJ1xcbic7XG5cdCAgICAgICAgICBpZiAoIWxvb3NlKSBsb29zZSA9IG5leHQ7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICB0aGlzLnRva2Vucy5wdXNoKHtcblx0ICAgICAgICAgIHR5cGU6IGxvb3NlXG5cdCAgICAgICAgICAgID8gJ2xvb3NlX2l0ZW1fc3RhcnQnXG5cdCAgICAgICAgICAgIDogJ2xpc3RfaXRlbV9zdGFydCdcblx0ICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgLy8gUmVjdXJzZS5cblx0ICAgICAgICB0aGlzLnRva2VuKGl0ZW0sIGZhbHNlLCBicSk7XG5cdFxuXHQgICAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuXHQgICAgICAgICAgdHlwZTogJ2xpc3RfaXRlbV9lbmQnXG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuXHQgICAgICAgIHR5cGU6ICdsaXN0X2VuZCdcblx0ICAgICAgfSk7XG5cdFxuXHQgICAgICBjb250aW51ZTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBodG1sXG5cdCAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5odG1sLmV4ZWMoc3JjKSkge1xuXHQgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuXHQgICAgICB0aGlzLnRva2Vucy5wdXNoKHtcblx0ICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMuc2FuaXRpemVcblx0ICAgICAgICAgID8gJ3BhcmFncmFwaCdcblx0ICAgICAgICAgIDogJ2h0bWwnLFxuXHQgICAgICAgIHByZTogIXRoaXMub3B0aW9ucy5zYW5pdGl6ZXJcblx0ICAgICAgICAgICYmIChjYXBbMV0gPT09ICdwcmUnIHx8IGNhcFsxXSA9PT0gJ3NjcmlwdCcgfHwgY2FwWzFdID09PSAnc3R5bGUnKSxcblx0ICAgICAgICB0ZXh0OiBjYXBbMF1cblx0ICAgICAgfSk7XG5cdCAgICAgIGNvbnRpbnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIGRlZlxuXHQgICAgaWYgKCghYnEgJiYgdG9wKSAmJiAoY2FwID0gdGhpcy5ydWxlcy5kZWYuZXhlYyhzcmMpKSkge1xuXHQgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuXHQgICAgICB0aGlzLnRva2Vucy5saW5rc1tjYXBbMV0udG9Mb3dlckNhc2UoKV0gPSB7XG5cdCAgICAgICAgaHJlZjogY2FwWzJdLFxuXHQgICAgICAgIHRpdGxlOiBjYXBbM11cblx0ICAgICAgfTtcblx0ICAgICAgY29udGludWU7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gdGFibGUgKGdmbSlcblx0ICAgIGlmICh0b3AgJiYgKGNhcCA9IHRoaXMucnVsZXMudGFibGUuZXhlYyhzcmMpKSkge1xuXHQgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuXHRcblx0ICAgICAgaXRlbSA9IHtcblx0ICAgICAgICB0eXBlOiAndGFibGUnLFxuXHQgICAgICAgIGhlYWRlcjogY2FwWzFdLnJlcGxhY2UoL14gKnwgKlxcfCAqJC9nLCAnJykuc3BsaXQoLyAqXFx8ICovKSxcblx0ICAgICAgICBhbGlnbjogY2FwWzJdLnJlcGxhY2UoL14gKnxcXHwgKiQvZywgJycpLnNwbGl0KC8gKlxcfCAqLyksXG5cdCAgICAgICAgY2VsbHM6IGNhcFszXS5yZXBsYWNlKC8oPzogKlxcfCAqKT9cXG4kLywgJycpLnNwbGl0KCdcXG4nKVxuXHQgICAgICB9O1xuXHRcblx0ICAgICAgZm9yIChpID0gMDsgaSA8IGl0ZW0uYWxpZ24ubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgICBpZiAoL14gKi0rOiAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuXHQgICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdyaWdodCc7XG5cdCAgICAgICAgfSBlbHNlIGlmICgvXiAqOi0rOiAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuXHQgICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdjZW50ZXInO1xuXHQgICAgICAgIH0gZWxzZSBpZiAoL14gKjotKyAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuXHQgICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdsZWZ0Jztcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgaXRlbS5hbGlnbltpXSA9IG51bGw7XG5cdCAgICAgICAgfVxuXHQgICAgICB9XG5cdFxuXHQgICAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbS5jZWxscy5sZW5ndGg7IGkrKykge1xuXHQgICAgICAgIGl0ZW0uY2VsbHNbaV0gPSBpdGVtLmNlbGxzW2ldXG5cdCAgICAgICAgICAucmVwbGFjZSgvXiAqXFx8ICp8ICpcXHwgKiQvZywgJycpXG5cdCAgICAgICAgICAuc3BsaXQoLyAqXFx8ICovKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgdGhpcy50b2tlbnMucHVzaChpdGVtKTtcblx0XG5cdCAgICAgIGNvbnRpbnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIHRvcC1sZXZlbCBwYXJhZ3JhcGhcblx0ICAgIGlmICh0b3AgJiYgKGNhcCA9IHRoaXMucnVsZXMucGFyYWdyYXBoLmV4ZWMoc3JjKSkpIHtcblx0ICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcblx0ICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG5cdCAgICAgICAgdHlwZTogJ3BhcmFncmFwaCcsXG5cdCAgICAgICAgdGV4dDogY2FwWzFdLmNoYXJBdChjYXBbMV0ubGVuZ3RoIC0gMSkgPT09ICdcXG4nXG5cdCAgICAgICAgICA/IGNhcFsxXS5zbGljZSgwLCAtMSlcblx0ICAgICAgICAgIDogY2FwWzFdXG5cdCAgICAgIH0pO1xuXHQgICAgICBjb250aW51ZTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyB0ZXh0XG5cdCAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy50ZXh0LmV4ZWMoc3JjKSkge1xuXHQgICAgICAvLyBUb3AtbGV2ZWwgc2hvdWxkIG5ldmVyIHJlYWNoIGhlcmUuXG5cdCAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG5cdCAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuXHQgICAgICAgIHR5cGU6ICd0ZXh0Jyxcblx0ICAgICAgICB0ZXh0OiBjYXBbMF1cblx0ICAgICAgfSk7XG5cdCAgICAgIGNvbnRpbnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChzcmMpIHtcblx0ICAgICAgdGhyb3cgbmV3XG5cdCAgICAgICAgRXJyb3IoJ0luZmluaXRlIGxvb3Agb24gYnl0ZTogJyArIHNyYy5jaGFyQ29kZUF0KDApKTtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiB0aGlzLnRva2Vucztcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBJbmxpbmUtTGV2ZWwgR3JhbW1hclxuXHQgKi9cblx0XG5cdHZhciBpbmxpbmUgPSB7XG5cdCAgZXNjYXBlOiAvXlxcXFwoW1xcXFxgKnt9XFxbXFxdKCkjK1xcLS4hXz5dKS8sXG5cdCAgYXV0b2xpbms6IC9ePChbXiA+XSsoQHw6XFwvKVteID5dKyk+Lyxcblx0ICB1cmw6IG5vb3AsXG5cdCAgdGFnOiAvXjwhLS1bXFxzXFxTXSo/LS0+fF48XFwvP1xcdysoPzpcIlteXCJdKlwifCdbXiddKid8W14nXCI+XSkqPz4vLFxuXHQgIGxpbms6IC9eIT9cXFsoaW5zaWRlKVxcXVxcKGhyZWZcXCkvLFxuXHQgIHJlZmxpbms6IC9eIT9cXFsoaW5zaWRlKVxcXVxccypcXFsoW15cXF1dKilcXF0vLFxuXHQgIG5vbGluazogL14hP1xcWygoPzpcXFtbXlxcXV0qXFxdfFteXFxbXFxdXSkqKVxcXS8sXG5cdCAgc3Ryb25nOiAvXl9fKFtcXHNcXFNdKz8pX18oPyFfKXxeXFwqXFwqKFtcXHNcXFNdKz8pXFwqXFwqKD8hXFwqKS8sXG5cdCAgZW06IC9eXFxiXygoPzpbXl9dfF9fKSs/KV9cXGJ8XlxcKigoPzpcXCpcXCp8W1xcc1xcU10pKz8pXFwqKD8hXFwqKS8sXG5cdCAgY29kZTogL14oYCspXFxzKihbXFxzXFxTXSo/W15gXSlcXHMqXFwxKD8hYCkvLFxuXHQgIGJyOiAvXiB7Mix9XFxuKD8hXFxzKiQpLyxcblx0ICBkZWw6IG5vb3AsXG5cdCAgdGV4dDogL15bXFxzXFxTXSs/KD89W1xcXFw8IVxcW18qYF18IHsyLH1cXG58JCkvXG5cdH07XG5cdFxuXHRpbmxpbmUuX2luc2lkZSA9IC8oPzpcXFtbXlxcXV0qXFxdfFteXFxbXFxdXXxcXF0oPz1bXlxcW10qXFxdKSkqLztcblx0aW5saW5lLl9ocmVmID0gL1xccyo8PyhbXFxzXFxTXSo/KT4/KD86XFxzK1snXCJdKFtcXHNcXFNdKj8pWydcIl0pP1xccyovO1xuXHRcblx0aW5saW5lLmxpbmsgPSByZXBsYWNlKGlubGluZS5saW5rKVxuXHQgICgnaW5zaWRlJywgaW5saW5lLl9pbnNpZGUpXG5cdCAgKCdocmVmJywgaW5saW5lLl9ocmVmKVxuXHQgICgpO1xuXHRcblx0aW5saW5lLnJlZmxpbmsgPSByZXBsYWNlKGlubGluZS5yZWZsaW5rKVxuXHQgICgnaW5zaWRlJywgaW5saW5lLl9pbnNpZGUpXG5cdCAgKCk7XG5cdFxuXHQvKipcblx0ICogTm9ybWFsIElubGluZSBHcmFtbWFyXG5cdCAqL1xuXHRcblx0aW5saW5lLm5vcm1hbCA9IG1lcmdlKHt9LCBpbmxpbmUpO1xuXHRcblx0LyoqXG5cdCAqIFBlZGFudGljIElubGluZSBHcmFtbWFyXG5cdCAqL1xuXHRcblx0aW5saW5lLnBlZGFudGljID0gbWVyZ2Uoe30sIGlubGluZS5ub3JtYWwsIHtcblx0ICBzdHJvbmc6IC9eX18oPz1cXFMpKFtcXHNcXFNdKj9cXFMpX18oPyFfKXxeXFwqXFwqKD89XFxTKShbXFxzXFxTXSo/XFxTKVxcKlxcKig/IVxcKikvLFxuXHQgIGVtOiAvXl8oPz1cXFMpKFtcXHNcXFNdKj9cXFMpXyg/IV8pfF5cXCooPz1cXFMpKFtcXHNcXFNdKj9cXFMpXFwqKD8hXFwqKS9cblx0fSk7XG5cdFxuXHQvKipcblx0ICogR0ZNIElubGluZSBHcmFtbWFyXG5cdCAqL1xuXHRcblx0aW5saW5lLmdmbSA9IG1lcmdlKHt9LCBpbmxpbmUubm9ybWFsLCB7XG5cdCAgZXNjYXBlOiByZXBsYWNlKGlubGluZS5lc2NhcGUpKCddKScsICd+fF0pJykoKSxcblx0ICB1cmw6IC9eKGh0dHBzPzpcXC9cXC9bXlxcczxdK1tePC4sOjtcIicpXFxdXFxzXSkvLFxuXHQgIGRlbDogL15+fig/PVxcUykoW1xcc1xcU10qP1xcUyl+fi8sXG5cdCAgdGV4dDogcmVwbGFjZShpbmxpbmUudGV4dClcblx0ICAgICgnXXwnLCAnfl18Jylcblx0ICAgICgnfCcsICd8aHR0cHM/Oi8vfCcpXG5cdCAgICAoKVxuXHR9KTtcblx0XG5cdC8qKlxuXHQgKiBHRk0gKyBMaW5lIEJyZWFrcyBJbmxpbmUgR3JhbW1hclxuXHQgKi9cblx0XG5cdGlubGluZS5icmVha3MgPSBtZXJnZSh7fSwgaW5saW5lLmdmbSwge1xuXHQgIGJyOiByZXBsYWNlKGlubGluZS5icikoJ3syLH0nLCAnKicpKCksXG5cdCAgdGV4dDogcmVwbGFjZShpbmxpbmUuZ2ZtLnRleHQpKCd7Mix9JywgJyonKSgpXG5cdH0pO1xuXHRcblx0LyoqXG5cdCAqIElubGluZSBMZXhlciAmIENvbXBpbGVyXG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gSW5saW5lTGV4ZXIobGlua3MsIG9wdGlvbnMpIHtcblx0ICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IG1hcmtlZC5kZWZhdWx0cztcblx0ICB0aGlzLmxpbmtzID0gbGlua3M7XG5cdCAgdGhpcy5ydWxlcyA9IGlubGluZS5ub3JtYWw7XG5cdCAgdGhpcy5yZW5kZXJlciA9IHRoaXMub3B0aW9ucy5yZW5kZXJlciB8fCBuZXcgUmVuZGVyZXI7XG5cdCAgdGhpcy5yZW5kZXJlci5vcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXHRcblx0ICBpZiAoIXRoaXMubGlua3MpIHtcblx0ICAgIHRocm93IG5ld1xuXHQgICAgICBFcnJvcignVG9rZW5zIGFycmF5IHJlcXVpcmVzIGEgYGxpbmtzYCBwcm9wZXJ0eS4nKTtcblx0ICB9XG5cdFxuXHQgIGlmICh0aGlzLm9wdGlvbnMuZ2ZtKSB7XG5cdCAgICBpZiAodGhpcy5vcHRpb25zLmJyZWFrcykge1xuXHQgICAgICB0aGlzLnJ1bGVzID0gaW5saW5lLmJyZWFrcztcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIHRoaXMucnVsZXMgPSBpbmxpbmUuZ2ZtO1xuXHQgICAgfVxuXHQgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLnBlZGFudGljKSB7XG5cdCAgICB0aGlzLnJ1bGVzID0gaW5saW5lLnBlZGFudGljO1xuXHQgIH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIEV4cG9zZSBJbmxpbmUgUnVsZXNcblx0ICovXG5cdFxuXHRJbmxpbmVMZXhlci5ydWxlcyA9IGlubGluZTtcblx0XG5cdC8qKlxuXHQgKiBTdGF0aWMgTGV4aW5nL0NvbXBpbGluZyBNZXRob2Rcblx0ICovXG5cdFxuXHRJbmxpbmVMZXhlci5vdXRwdXQgPSBmdW5jdGlvbihzcmMsIGxpbmtzLCBvcHRpb25zKSB7XG5cdCAgdmFyIGlubGluZSA9IG5ldyBJbmxpbmVMZXhlcihsaW5rcywgb3B0aW9ucyk7XG5cdCAgcmV0dXJuIGlubGluZS5vdXRwdXQoc3JjKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBMZXhpbmcvQ29tcGlsaW5nXG5cdCAqL1xuXHRcblx0SW5saW5lTGV4ZXIucHJvdG90eXBlLm91dHB1dCA9IGZ1bmN0aW9uKHNyYykge1xuXHQgIHZhciBvdXQgPSAnJ1xuXHQgICAgLCBsaW5rXG5cdCAgICAsIHRleHRcblx0ICAgICwgaHJlZlxuXHQgICAgLCBjYXA7XG5cdFxuXHQgIHdoaWxlIChzcmMpIHtcblx0ICAgIC8vIGVzY2FwZVxuXHQgICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuZXNjYXBlLmV4ZWMoc3JjKSkge1xuXHQgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuXHQgICAgICBvdXQgKz0gY2FwWzFdO1xuXHQgICAgICBjb250aW51ZTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBhdXRvbGlua1xuXHQgICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuYXV0b2xpbmsuZXhlYyhzcmMpKSB7XG5cdCAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG5cdCAgICAgIGlmIChjYXBbMl0gPT09ICdAJykge1xuXHQgICAgICAgIHRleHQgPSBjYXBbMV0uY2hhckF0KDYpID09PSAnOidcblx0ICAgICAgICAgID8gdGhpcy5tYW5nbGUoY2FwWzFdLnN1YnN0cmluZyg3KSlcblx0ICAgICAgICAgIDogdGhpcy5tYW5nbGUoY2FwWzFdKTtcblx0ICAgICAgICBocmVmID0gdGhpcy5tYW5nbGUoJ21haWx0bzonKSArIHRleHQ7XG5cdCAgICAgIH0gZWxzZSB7XG5cdCAgICAgICAgdGV4dCA9IGVzY2FwZShjYXBbMV0pO1xuXHQgICAgICAgIGhyZWYgPSB0ZXh0O1xuXHQgICAgICB9XG5cdCAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmxpbmsoaHJlZiwgbnVsbCwgdGV4dCk7XG5cdCAgICAgIGNvbnRpbnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIHVybCAoZ2ZtKVxuXHQgICAgaWYgKCF0aGlzLmluTGluayAmJiAoY2FwID0gdGhpcy5ydWxlcy51cmwuZXhlYyhzcmMpKSkge1xuXHQgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuXHQgICAgICB0ZXh0ID0gZXNjYXBlKGNhcFsxXSk7XG5cdCAgICAgIGhyZWYgPSB0ZXh0O1xuXHQgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5saW5rKGhyZWYsIG51bGwsIHRleHQpO1xuXHQgICAgICBjb250aW51ZTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyB0YWdcblx0ICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLnRhZy5leGVjKHNyYykpIHtcblx0ICAgICAgaWYgKCF0aGlzLmluTGluayAmJiAvXjxhIC9pLnRlc3QoY2FwWzBdKSkge1xuXHQgICAgICAgIHRoaXMuaW5MaW5rID0gdHJ1ZTtcblx0ICAgICAgfSBlbHNlIGlmICh0aGlzLmluTGluayAmJiAvXjxcXC9hPi9pLnRlc3QoY2FwWzBdKSkge1xuXHQgICAgICAgIHRoaXMuaW5MaW5rID0gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcblx0ICAgICAgb3V0ICs9IHRoaXMub3B0aW9ucy5zYW5pdGl6ZVxuXHQgICAgICAgID8gdGhpcy5vcHRpb25zLnNhbml0aXplclxuXHQgICAgICAgICAgPyB0aGlzLm9wdGlvbnMuc2FuaXRpemVyKGNhcFswXSlcblx0ICAgICAgICAgIDogZXNjYXBlKGNhcFswXSlcblx0ICAgICAgICA6IGNhcFswXVxuXHQgICAgICBjb250aW51ZTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBsaW5rXG5cdCAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5saW5rLmV4ZWMoc3JjKSkge1xuXHQgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuXHQgICAgICB0aGlzLmluTGluayA9IHRydWU7XG5cdCAgICAgIG91dCArPSB0aGlzLm91dHB1dExpbmsoY2FwLCB7XG5cdCAgICAgICAgaHJlZjogY2FwWzJdLFxuXHQgICAgICAgIHRpdGxlOiBjYXBbM11cblx0ICAgICAgfSk7XG5cdCAgICAgIHRoaXMuaW5MaW5rID0gZmFsc2U7XG5cdCAgICAgIGNvbnRpbnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIHJlZmxpbmssIG5vbGlua1xuXHQgICAgaWYgKChjYXAgPSB0aGlzLnJ1bGVzLnJlZmxpbmsuZXhlYyhzcmMpKVxuXHQgICAgICAgIHx8IChjYXAgPSB0aGlzLnJ1bGVzLm5vbGluay5leGVjKHNyYykpKSB7XG5cdCAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG5cdCAgICAgIGxpbmsgPSAoY2FwWzJdIHx8IGNhcFsxXSkucmVwbGFjZSgvXFxzKy9nLCAnICcpO1xuXHQgICAgICBsaW5rID0gdGhpcy5saW5rc1tsaW5rLnRvTG93ZXJDYXNlKCldO1xuXHQgICAgICBpZiAoIWxpbmsgfHwgIWxpbmsuaHJlZikge1xuXHQgICAgICAgIG91dCArPSBjYXBbMF0uY2hhckF0KDApO1xuXHQgICAgICAgIHNyYyA9IGNhcFswXS5zdWJzdHJpbmcoMSkgKyBzcmM7XG5cdCAgICAgICAgY29udGludWU7XG5cdCAgICAgIH1cblx0ICAgICAgdGhpcy5pbkxpbmsgPSB0cnVlO1xuXHQgICAgICBvdXQgKz0gdGhpcy5vdXRwdXRMaW5rKGNhcCwgbGluayk7XG5cdCAgICAgIHRoaXMuaW5MaW5rID0gZmFsc2U7XG5cdCAgICAgIGNvbnRpbnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIHN0cm9uZ1xuXHQgICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuc3Ryb25nLmV4ZWMoc3JjKSkge1xuXHQgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuXHQgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5zdHJvbmcodGhpcy5vdXRwdXQoY2FwWzJdIHx8IGNhcFsxXSkpO1xuXHQgICAgICBjb250aW51ZTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBlbVxuXHQgICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuZW0uZXhlYyhzcmMpKSB7XG5cdCAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG5cdCAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmVtKHRoaXMub3V0cHV0KGNhcFsyXSB8fCBjYXBbMV0pKTtcblx0ICAgICAgY29udGludWU7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gY29kZVxuXHQgICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuY29kZS5leGVjKHNyYykpIHtcblx0ICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcblx0ICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuY29kZXNwYW4oZXNjYXBlKGNhcFsyXSwgdHJ1ZSkpO1xuXHQgICAgICBjb250aW51ZTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBiclxuXHQgICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuYnIuZXhlYyhzcmMpKSB7XG5cdCAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG5cdCAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmJyKCk7XG5cdCAgICAgIGNvbnRpbnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIGRlbCAoZ2ZtKVxuXHQgICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuZGVsLmV4ZWMoc3JjKSkge1xuXHQgICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuXHQgICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5kZWwodGhpcy5vdXRwdXQoY2FwWzFdKSk7XG5cdCAgICAgIGNvbnRpbnVlO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIHRleHRcblx0ICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLnRleHQuZXhlYyhzcmMpKSB7XG5cdCAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG5cdCAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLnRleHQoZXNjYXBlKHRoaXMuc21hcnR5cGFudHMoY2FwWzBdKSkpO1xuXHQgICAgICBjb250aW51ZTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoc3JjKSB7XG5cdCAgICAgIHRocm93IG5ld1xuXHQgICAgICAgIEVycm9yKCdJbmZpbml0ZSBsb29wIG9uIGJ5dGU6ICcgKyBzcmMuY2hhckNvZGVBdCgwKSk7XG5cdCAgICB9XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gb3V0O1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIENvbXBpbGUgTGlua1xuXHQgKi9cblx0XG5cdElubGluZUxleGVyLnByb3RvdHlwZS5vdXRwdXRMaW5rID0gZnVuY3Rpb24oY2FwLCBsaW5rKSB7XG5cdCAgdmFyIGhyZWYgPSBlc2NhcGUobGluay5ocmVmKVxuXHQgICAgLCB0aXRsZSA9IGxpbmsudGl0bGUgPyBlc2NhcGUobGluay50aXRsZSkgOiBudWxsO1xuXHRcblx0ICByZXR1cm4gY2FwWzBdLmNoYXJBdCgwKSAhPT0gJyEnXG5cdCAgICA/IHRoaXMucmVuZGVyZXIubGluayhocmVmLCB0aXRsZSwgdGhpcy5vdXRwdXQoY2FwWzFdKSlcblx0ICAgIDogdGhpcy5yZW5kZXJlci5pbWFnZShocmVmLCB0aXRsZSwgZXNjYXBlKGNhcFsxXSkpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFNtYXJ0eXBhbnRzIFRyYW5zZm9ybWF0aW9uc1xuXHQgKi9cblx0XG5cdElubGluZUxleGVyLnByb3RvdHlwZS5zbWFydHlwYW50cyA9IGZ1bmN0aW9uKHRleHQpIHtcblx0ICBpZiAoIXRoaXMub3B0aW9ucy5zbWFydHlwYW50cykgcmV0dXJuIHRleHQ7XG5cdCAgcmV0dXJuIHRleHRcblx0ICAgIC8vIGVtLWRhc2hlc1xuXHQgICAgLnJlcGxhY2UoLy0tLS9nLCAnXFx1MjAxNCcpXG5cdCAgICAvLyBlbi1kYXNoZXNcblx0ICAgIC5yZXBsYWNlKC8tLS9nLCAnXFx1MjAxMycpXG5cdCAgICAvLyBvcGVuaW5nIHNpbmdsZXNcblx0ICAgIC5yZXBsYWNlKC8oXnxbLVxcdTIwMTQvKFxcW3tcIlxcc10pJy9nLCAnJDFcXHUyMDE4Jylcblx0ICAgIC8vIGNsb3Npbmcgc2luZ2xlcyAmIGFwb3N0cm9waGVzXG5cdCAgICAucmVwbGFjZSgvJy9nLCAnXFx1MjAxOScpXG5cdCAgICAvLyBvcGVuaW5nIGRvdWJsZXNcblx0ICAgIC5yZXBsYWNlKC8oXnxbLVxcdTIwMTQvKFxcW3tcXHUyMDE4XFxzXSlcIi9nLCAnJDFcXHUyMDFjJylcblx0ICAgIC8vIGNsb3NpbmcgZG91Ymxlc1xuXHQgICAgLnJlcGxhY2UoL1wiL2csICdcXHUyMDFkJylcblx0ICAgIC8vIGVsbGlwc2VzXG5cdCAgICAucmVwbGFjZSgvXFwuezN9L2csICdcXHUyMDI2Jyk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogTWFuZ2xlIExpbmtzXG5cdCAqL1xuXHRcblx0SW5saW5lTGV4ZXIucHJvdG90eXBlLm1hbmdsZSA9IGZ1bmN0aW9uKHRleHQpIHtcblx0ICBpZiAoIXRoaXMub3B0aW9ucy5tYW5nbGUpIHJldHVybiB0ZXh0O1xuXHQgIHZhciBvdXQgPSAnJ1xuXHQgICAgLCBsID0gdGV4dC5sZW5ndGhcblx0ICAgICwgaSA9IDBcblx0ICAgICwgY2g7XG5cdFxuXHQgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG5cdCAgICBjaCA9IHRleHQuY2hhckNvZGVBdChpKTtcblx0ICAgIGlmIChNYXRoLnJhbmRvbSgpID4gMC41KSB7XG5cdCAgICAgIGNoID0gJ3gnICsgY2gudG9TdHJpbmcoMTYpO1xuXHQgICAgfVxuXHQgICAgb3V0ICs9ICcmIycgKyBjaCArICc7Jztcblx0ICB9XG5cdFxuXHQgIHJldHVybiBvdXQ7XG5cdH07XG5cdFxuXHQvKipcblx0ICogUmVuZGVyZXJcblx0ICovXG5cdFxuXHRmdW5jdGlvbiBSZW5kZXJlcihvcHRpb25zKSB7XG5cdCAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0fVxuXHRcblx0UmVuZGVyZXIucHJvdG90eXBlLmNvZGUgPSBmdW5jdGlvbihjb2RlLCBsYW5nLCBlc2NhcGVkKSB7XG5cdCAgaWYgKHRoaXMub3B0aW9ucy5oaWdobGlnaHQpIHtcblx0ICAgIHZhciBvdXQgPSB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0KGNvZGUsIGxhbmcpO1xuXHQgICAgaWYgKG91dCAhPSBudWxsICYmIG91dCAhPT0gY29kZSkge1xuXHQgICAgICBlc2NhcGVkID0gdHJ1ZTtcblx0ICAgICAgY29kZSA9IG91dDtcblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIGlmICghbGFuZykge1xuXHQgICAgcmV0dXJuICc8cHJlPjxjb2RlPidcblx0ICAgICAgKyAoZXNjYXBlZCA/IGNvZGUgOiBlc2NhcGUoY29kZSwgdHJ1ZSkpXG5cdCAgICAgICsgJ1xcbjwvY29kZT48L3ByZT4nO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuICc8cHJlPjxjb2RlIGNsYXNzPVwiJ1xuXHQgICAgKyB0aGlzLm9wdGlvbnMubGFuZ1ByZWZpeFxuXHQgICAgKyBlc2NhcGUobGFuZywgdHJ1ZSlcblx0ICAgICsgJ1wiPidcblx0ICAgICsgKGVzY2FwZWQgPyBjb2RlIDogZXNjYXBlKGNvZGUsIHRydWUpKVxuXHQgICAgKyAnXFxuPC9jb2RlPjwvcHJlPlxcbic7XG5cdH07XG5cdFxuXHRSZW5kZXJlci5wcm90b3R5cGUuYmxvY2txdW90ZSA9IGZ1bmN0aW9uKHF1b3RlKSB7XG5cdCAgcmV0dXJuICc8YmxvY2txdW90ZT5cXG4nICsgcXVvdGUgKyAnPC9ibG9ja3F1b3RlPlxcbic7XG5cdH07XG5cdFxuXHRSZW5kZXJlci5wcm90b3R5cGUuaHRtbCA9IGZ1bmN0aW9uKGh0bWwpIHtcblx0ICByZXR1cm4gaHRtbDtcblx0fTtcblx0XG5cdFJlbmRlcmVyLnByb3RvdHlwZS5oZWFkaW5nID0gZnVuY3Rpb24odGV4dCwgbGV2ZWwsIHJhdykge1xuXHQgIHJldHVybiAnPGgnXG5cdCAgICArIGxldmVsXG5cdCAgICArICcgaWQ9XCInXG5cdCAgICArIHRoaXMub3B0aW9ucy5oZWFkZXJQcmVmaXhcblx0ICAgICsgcmF3LnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvW15cXHddKy9nLCAnLScpXG5cdCAgICArICdcIj4nXG5cdCAgICArIHRleHRcblx0ICAgICsgJzwvaCdcblx0ICAgICsgbGV2ZWxcblx0ICAgICsgJz5cXG4nO1xuXHR9O1xuXHRcblx0UmVuZGVyZXIucHJvdG90eXBlLmhyID0gZnVuY3Rpb24oKSB7XG5cdCAgcmV0dXJuIHRoaXMub3B0aW9ucy54aHRtbCA/ICc8aHIvPlxcbicgOiAnPGhyPlxcbic7XG5cdH07XG5cdFxuXHRSZW5kZXJlci5wcm90b3R5cGUubGlzdCA9IGZ1bmN0aW9uKGJvZHksIG9yZGVyZWQpIHtcblx0ICB2YXIgdHlwZSA9IG9yZGVyZWQgPyAnb2wnIDogJ3VsJztcblx0ICByZXR1cm4gJzwnICsgdHlwZSArICc+XFxuJyArIGJvZHkgKyAnPC8nICsgdHlwZSArICc+XFxuJztcblx0fTtcblx0XG5cdFJlbmRlcmVyLnByb3RvdHlwZS5saXN0aXRlbSA9IGZ1bmN0aW9uKHRleHQpIHtcblx0ICByZXR1cm4gJzxsaT4nICsgdGV4dCArICc8L2xpPlxcbic7XG5cdH07XG5cdFxuXHRSZW5kZXJlci5wcm90b3R5cGUucGFyYWdyYXBoID0gZnVuY3Rpb24odGV4dCkge1xuXHQgIHJldHVybiAnPHA+JyArIHRleHQgKyAnPC9wPlxcbic7XG5cdH07XG5cdFxuXHRSZW5kZXJlci5wcm90b3R5cGUudGFibGUgPSBmdW5jdGlvbihoZWFkZXIsIGJvZHkpIHtcblx0ICByZXR1cm4gJzx0YWJsZT5cXG4nXG5cdCAgICArICc8dGhlYWQ+XFxuJ1xuXHQgICAgKyBoZWFkZXJcblx0ICAgICsgJzwvdGhlYWQ+XFxuJ1xuXHQgICAgKyAnPHRib2R5Plxcbidcblx0ICAgICsgYm9keVxuXHQgICAgKyAnPC90Ym9keT5cXG4nXG5cdCAgICArICc8L3RhYmxlPlxcbic7XG5cdH07XG5cdFxuXHRSZW5kZXJlci5wcm90b3R5cGUudGFibGVyb3cgPSBmdW5jdGlvbihjb250ZW50KSB7XG5cdCAgcmV0dXJuICc8dHI+XFxuJyArIGNvbnRlbnQgKyAnPC90cj5cXG4nO1xuXHR9O1xuXHRcblx0UmVuZGVyZXIucHJvdG90eXBlLnRhYmxlY2VsbCA9IGZ1bmN0aW9uKGNvbnRlbnQsIGZsYWdzKSB7XG5cdCAgdmFyIHR5cGUgPSBmbGFncy5oZWFkZXIgPyAndGgnIDogJ3RkJztcblx0ICB2YXIgdGFnID0gZmxhZ3MuYWxpZ25cblx0ICAgID8gJzwnICsgdHlwZSArICcgc3R5bGU9XCJ0ZXh0LWFsaWduOicgKyBmbGFncy5hbGlnbiArICdcIj4nXG5cdCAgICA6ICc8JyArIHR5cGUgKyAnPic7XG5cdCAgcmV0dXJuIHRhZyArIGNvbnRlbnQgKyAnPC8nICsgdHlwZSArICc+XFxuJztcblx0fTtcblx0XG5cdC8vIHNwYW4gbGV2ZWwgcmVuZGVyZXJcblx0UmVuZGVyZXIucHJvdG90eXBlLnN0cm9uZyA9IGZ1bmN0aW9uKHRleHQpIHtcblx0ICByZXR1cm4gJzxzdHJvbmc+JyArIHRleHQgKyAnPC9zdHJvbmc+Jztcblx0fTtcblx0XG5cdFJlbmRlcmVyLnByb3RvdHlwZS5lbSA9IGZ1bmN0aW9uKHRleHQpIHtcblx0ICByZXR1cm4gJzxlbT4nICsgdGV4dCArICc8L2VtPic7XG5cdH07XG5cdFxuXHRSZW5kZXJlci5wcm90b3R5cGUuY29kZXNwYW4gPSBmdW5jdGlvbih0ZXh0KSB7XG5cdCAgcmV0dXJuICc8Y29kZT4nICsgdGV4dCArICc8L2NvZGU+Jztcblx0fTtcblx0XG5cdFJlbmRlcmVyLnByb3RvdHlwZS5iciA9IGZ1bmN0aW9uKCkge1xuXHQgIHJldHVybiB0aGlzLm9wdGlvbnMueGh0bWwgPyAnPGJyLz4nIDogJzxicj4nO1xuXHR9O1xuXHRcblx0UmVuZGVyZXIucHJvdG90eXBlLmRlbCA9IGZ1bmN0aW9uKHRleHQpIHtcblx0ICByZXR1cm4gJzxkZWw+JyArIHRleHQgKyAnPC9kZWw+Jztcblx0fTtcblx0XG5cdFJlbmRlcmVyLnByb3RvdHlwZS5saW5rID0gZnVuY3Rpb24oaHJlZiwgdGl0bGUsIHRleHQpIHtcblx0ICBpZiAodGhpcy5vcHRpb25zLnNhbml0aXplKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICB2YXIgcHJvdCA9IGRlY29kZVVSSUNvbXBvbmVudCh1bmVzY2FwZShocmVmKSlcblx0ICAgICAgICAucmVwbGFjZSgvW15cXHc6XS9nLCAnJylcblx0ICAgICAgICAudG9Mb3dlckNhc2UoKTtcblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgcmV0dXJuICcnO1xuXHQgICAgfVxuXHQgICAgaWYgKHByb3QuaW5kZXhPZignamF2YXNjcmlwdDonKSA9PT0gMCB8fCBwcm90LmluZGV4T2YoJ3Zic2NyaXB0OicpID09PSAwKSB7XG5cdCAgICAgIHJldHVybiAnJztcblx0ICAgIH1cblx0ICB9XG5cdCAgdmFyIG91dCA9ICc8YSBocmVmPVwiJyArIGhyZWYgKyAnXCInO1xuXHQgIGlmICh0aXRsZSkge1xuXHQgICAgb3V0ICs9ICcgdGl0bGU9XCInICsgdGl0bGUgKyAnXCInO1xuXHQgIH1cblx0ICBvdXQgKz0gJz4nICsgdGV4dCArICc8L2E+Jztcblx0ICByZXR1cm4gb3V0O1xuXHR9O1xuXHRcblx0UmVuZGVyZXIucHJvdG90eXBlLmltYWdlID0gZnVuY3Rpb24oaHJlZiwgdGl0bGUsIHRleHQpIHtcblx0ICB2YXIgb3V0ID0gJzxpbWcgc3JjPVwiJyArIGhyZWYgKyAnXCIgYWx0PVwiJyArIHRleHQgKyAnXCInO1xuXHQgIGlmICh0aXRsZSkge1xuXHQgICAgb3V0ICs9ICcgdGl0bGU9XCInICsgdGl0bGUgKyAnXCInO1xuXHQgIH1cblx0ICBvdXQgKz0gdGhpcy5vcHRpb25zLnhodG1sID8gJy8+JyA6ICc+Jztcblx0ICByZXR1cm4gb3V0O1xuXHR9O1xuXHRcblx0UmVuZGVyZXIucHJvdG90eXBlLnRleHQgPSBmdW5jdGlvbih0ZXh0KSB7XG5cdCAgcmV0dXJuIHRleHQ7XG5cdH07XG5cdFxuXHQvKipcblx0ICogUGFyc2luZyAmIENvbXBpbGluZ1xuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIFBhcnNlcihvcHRpb25zKSB7XG5cdCAgdGhpcy50b2tlbnMgPSBbXTtcblx0ICB0aGlzLnRva2VuID0gbnVsbDtcblx0ICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IG1hcmtlZC5kZWZhdWx0cztcblx0ICB0aGlzLm9wdGlvbnMucmVuZGVyZXIgPSB0aGlzLm9wdGlvbnMucmVuZGVyZXIgfHwgbmV3IFJlbmRlcmVyO1xuXHQgIHRoaXMucmVuZGVyZXIgPSB0aGlzLm9wdGlvbnMucmVuZGVyZXI7XG5cdCAgdGhpcy5yZW5kZXJlci5vcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXHR9XG5cdFxuXHQvKipcblx0ICogU3RhdGljIFBhcnNlIE1ldGhvZFxuXHQgKi9cblx0XG5cdFBhcnNlci5wYXJzZSA9IGZ1bmN0aW9uKHNyYywgb3B0aW9ucywgcmVuZGVyZXIpIHtcblx0ICB2YXIgcGFyc2VyID0gbmV3IFBhcnNlcihvcHRpb25zLCByZW5kZXJlcik7XG5cdCAgcmV0dXJuIHBhcnNlci5wYXJzZShzcmMpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFBhcnNlIExvb3Bcblx0ICovXG5cdFxuXHRQYXJzZXIucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24oc3JjKSB7XG5cdCAgdGhpcy5pbmxpbmUgPSBuZXcgSW5saW5lTGV4ZXIoc3JjLmxpbmtzLCB0aGlzLm9wdGlvbnMsIHRoaXMucmVuZGVyZXIpO1xuXHQgIHRoaXMudG9rZW5zID0gc3JjLnJldmVyc2UoKTtcblx0XG5cdCAgdmFyIG91dCA9ICcnO1xuXHQgIHdoaWxlICh0aGlzLm5leHQoKSkge1xuXHQgICAgb3V0ICs9IHRoaXMudG9rKCk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gb3V0O1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIE5leHQgVG9rZW5cblx0ICovXG5cdFxuXHRQYXJzZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcblx0ICByZXR1cm4gdGhpcy50b2tlbiA9IHRoaXMudG9rZW5zLnBvcCgpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFByZXZpZXcgTmV4dCBUb2tlblxuXHQgKi9cblx0XG5cdFBhcnNlci5wcm90b3R5cGUucGVlayA9IGZ1bmN0aW9uKCkge1xuXHQgIHJldHVybiB0aGlzLnRva2Vuc1t0aGlzLnRva2Vucy5sZW5ndGggLSAxXSB8fCAwO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFBhcnNlIFRleHQgVG9rZW5zXG5cdCAqL1xuXHRcblx0UGFyc2VyLnByb3RvdHlwZS5wYXJzZVRleHQgPSBmdW5jdGlvbigpIHtcblx0ICB2YXIgYm9keSA9IHRoaXMudG9rZW4udGV4dDtcblx0XG5cdCAgd2hpbGUgKHRoaXMucGVlaygpLnR5cGUgPT09ICd0ZXh0Jykge1xuXHQgICAgYm9keSArPSAnXFxuJyArIHRoaXMubmV4dCgpLnRleHQ7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gdGhpcy5pbmxpbmUub3V0cHV0KGJvZHkpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFBhcnNlIEN1cnJlbnQgVG9rZW5cblx0ICovXG5cdFxuXHRQYXJzZXIucHJvdG90eXBlLnRvayA9IGZ1bmN0aW9uKCkge1xuXHQgIHN3aXRjaCAodGhpcy50b2tlbi50eXBlKSB7XG5cdCAgICBjYXNlICdzcGFjZSc6IHtcblx0ICAgICAgcmV0dXJuICcnO1xuXHQgICAgfVxuXHQgICAgY2FzZSAnaHInOiB7XG5cdCAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmhyKCk7XG5cdCAgICB9XG5cdCAgICBjYXNlICdoZWFkaW5nJzoge1xuXHQgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5oZWFkaW5nKFxuXHQgICAgICAgIHRoaXMuaW5saW5lLm91dHB1dCh0aGlzLnRva2VuLnRleHQpLFxuXHQgICAgICAgIHRoaXMudG9rZW4uZGVwdGgsXG5cdCAgICAgICAgdGhpcy50b2tlbi50ZXh0KTtcblx0ICAgIH1cblx0ICAgIGNhc2UgJ2NvZGUnOiB7XG5cdCAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmNvZGUodGhpcy50b2tlbi50ZXh0LFxuXHQgICAgICAgIHRoaXMudG9rZW4ubGFuZyxcblx0ICAgICAgICB0aGlzLnRva2VuLmVzY2FwZWQpO1xuXHQgICAgfVxuXHQgICAgY2FzZSAndGFibGUnOiB7XG5cdCAgICAgIHZhciBoZWFkZXIgPSAnJ1xuXHQgICAgICAgICwgYm9keSA9ICcnXG5cdCAgICAgICAgLCBpXG5cdCAgICAgICAgLCByb3dcblx0ICAgICAgICAsIGNlbGxcblx0ICAgICAgICAsIGZsYWdzXG5cdCAgICAgICAgLCBqO1xuXHRcblx0ICAgICAgLy8gaGVhZGVyXG5cdCAgICAgIGNlbGwgPSAnJztcblx0ICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMudG9rZW4uaGVhZGVyLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgZmxhZ3MgPSB7IGhlYWRlcjogdHJ1ZSwgYWxpZ246IHRoaXMudG9rZW4uYWxpZ25baV0gfTtcblx0ICAgICAgICBjZWxsICs9IHRoaXMucmVuZGVyZXIudGFibGVjZWxsKFxuXHQgICAgICAgICAgdGhpcy5pbmxpbmUub3V0cHV0KHRoaXMudG9rZW4uaGVhZGVyW2ldKSxcblx0ICAgICAgICAgIHsgaGVhZGVyOiB0cnVlLCBhbGlnbjogdGhpcy50b2tlbi5hbGlnbltpXSB9XG5cdCAgICAgICAgKTtcblx0ICAgICAgfVxuXHQgICAgICBoZWFkZXIgKz0gdGhpcy5yZW5kZXJlci50YWJsZXJvdyhjZWxsKTtcblx0XG5cdCAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLnRva2VuLmNlbGxzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgcm93ID0gdGhpcy50b2tlbi5jZWxsc1tpXTtcblx0XG5cdCAgICAgICAgY2VsbCA9ICcnO1xuXHQgICAgICAgIGZvciAoaiA9IDA7IGogPCByb3cubGVuZ3RoOyBqKyspIHtcblx0ICAgICAgICAgIGNlbGwgKz0gdGhpcy5yZW5kZXJlci50YWJsZWNlbGwoXG5cdCAgICAgICAgICAgIHRoaXMuaW5saW5lLm91dHB1dChyb3dbal0pLFxuXHQgICAgICAgICAgICB7IGhlYWRlcjogZmFsc2UsIGFsaWduOiB0aGlzLnRva2VuLmFsaWduW2pdIH1cblx0ICAgICAgICAgICk7XG5cdCAgICAgICAgfVxuXHRcblx0ICAgICAgICBib2R5ICs9IHRoaXMucmVuZGVyZXIudGFibGVyb3coY2VsbCk7XG5cdCAgICAgIH1cblx0ICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIudGFibGUoaGVhZGVyLCBib2R5KTtcblx0ICAgIH1cblx0ICAgIGNhc2UgJ2Jsb2NrcXVvdGVfc3RhcnQnOiB7XG5cdCAgICAgIHZhciBib2R5ID0gJyc7XG5cdFxuXHQgICAgICB3aGlsZSAodGhpcy5uZXh0KCkudHlwZSAhPT0gJ2Jsb2NrcXVvdGVfZW5kJykge1xuXHQgICAgICAgIGJvZHkgKz0gdGhpcy50b2soKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuYmxvY2txdW90ZShib2R5KTtcblx0ICAgIH1cblx0ICAgIGNhc2UgJ2xpc3Rfc3RhcnQnOiB7XG5cdCAgICAgIHZhciBib2R5ID0gJydcblx0ICAgICAgICAsIG9yZGVyZWQgPSB0aGlzLnRva2VuLm9yZGVyZWQ7XG5cdFxuXHQgICAgICB3aGlsZSAodGhpcy5uZXh0KCkudHlwZSAhPT0gJ2xpc3RfZW5kJykge1xuXHQgICAgICAgIGJvZHkgKz0gdGhpcy50b2soKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIubGlzdChib2R5LCBvcmRlcmVkKTtcblx0ICAgIH1cblx0ICAgIGNhc2UgJ2xpc3RfaXRlbV9zdGFydCc6IHtcblx0ICAgICAgdmFyIGJvZHkgPSAnJztcblx0XG5cdCAgICAgIHdoaWxlICh0aGlzLm5leHQoKS50eXBlICE9PSAnbGlzdF9pdGVtX2VuZCcpIHtcblx0ICAgICAgICBib2R5ICs9IHRoaXMudG9rZW4udHlwZSA9PT0gJ3RleHQnXG5cdCAgICAgICAgICA/IHRoaXMucGFyc2VUZXh0KClcblx0ICAgICAgICAgIDogdGhpcy50b2soKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIubGlzdGl0ZW0oYm9keSk7XG5cdCAgICB9XG5cdCAgICBjYXNlICdsb29zZV9pdGVtX3N0YXJ0Jzoge1xuXHQgICAgICB2YXIgYm9keSA9ICcnO1xuXHRcblx0ICAgICAgd2hpbGUgKHRoaXMubmV4dCgpLnR5cGUgIT09ICdsaXN0X2l0ZW1fZW5kJykge1xuXHQgICAgICAgIGJvZHkgKz0gdGhpcy50b2soKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIubGlzdGl0ZW0oYm9keSk7XG5cdCAgICB9XG5cdCAgICBjYXNlICdodG1sJzoge1xuXHQgICAgICB2YXIgaHRtbCA9ICF0aGlzLnRva2VuLnByZSAmJiAhdGhpcy5vcHRpb25zLnBlZGFudGljXG5cdCAgICAgICAgPyB0aGlzLmlubGluZS5vdXRwdXQodGhpcy50b2tlbi50ZXh0KVxuXHQgICAgICAgIDogdGhpcy50b2tlbi50ZXh0O1xuXHQgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5odG1sKGh0bWwpO1xuXHQgICAgfVxuXHQgICAgY2FzZSAncGFyYWdyYXBoJzoge1xuXHQgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5wYXJhZ3JhcGgodGhpcy5pbmxpbmUub3V0cHV0KHRoaXMudG9rZW4udGV4dCkpO1xuXHQgICAgfVxuXHQgICAgY2FzZSAndGV4dCc6IHtcblx0ICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIucGFyYWdyYXBoKHRoaXMucGFyc2VUZXh0KCkpO1xuXHQgICAgfVxuXHQgIH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBIZWxwZXJzXG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gZXNjYXBlKGh0bWwsIGVuY29kZSkge1xuXHQgIHJldHVybiBodG1sXG5cdCAgICAucmVwbGFjZSghZW5jb2RlID8gLyYoPyEjP1xcdys7KS9nIDogLyYvZywgJyZhbXA7Jylcblx0ICAgIC5yZXBsYWNlKC88L2csICcmbHQ7Jylcblx0ICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7Jylcblx0ICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7Jylcblx0ICAgIC5yZXBsYWNlKC8nL2csICcmIzM5OycpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB1bmVzY2FwZShodG1sKSB7XG5cdFx0Ly8gZXhwbGljaXRseSBtYXRjaCBkZWNpbWFsLCBoZXgsIGFuZCBuYW1lZCBIVE1MIGVudGl0aWVzIFxuXHQgIHJldHVybiBodG1sLnJlcGxhY2UoLyYoIyg/OlxcZCspfCg/OiN4WzAtOUEtRmEtZl0rKXwoPzpcXHcrKSk7Py9nLCBmdW5jdGlvbihfLCBuKSB7XG5cdCAgICBuID0gbi50b0xvd2VyQ2FzZSgpO1xuXHQgICAgaWYgKG4gPT09ICdjb2xvbicpIHJldHVybiAnOic7XG5cdCAgICBpZiAobi5jaGFyQXQoMCkgPT09ICcjJykge1xuXHQgICAgICByZXR1cm4gbi5jaGFyQXQoMSkgPT09ICd4J1xuXHQgICAgICAgID8gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChuLnN1YnN0cmluZygyKSwgMTYpKVxuXHQgICAgICAgIDogU3RyaW5nLmZyb21DaGFyQ29kZSgrbi5zdWJzdHJpbmcoMSkpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuICcnO1xuXHQgIH0pO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZXBsYWNlKHJlZ2V4LCBvcHQpIHtcblx0ICByZWdleCA9IHJlZ2V4LnNvdXJjZTtcblx0ICBvcHQgPSBvcHQgfHwgJyc7XG5cdCAgcmV0dXJuIGZ1bmN0aW9uIHNlbGYobmFtZSwgdmFsKSB7XG5cdCAgICBpZiAoIW5hbWUpIHJldHVybiBuZXcgUmVnRXhwKHJlZ2V4LCBvcHQpO1xuXHQgICAgdmFsID0gdmFsLnNvdXJjZSB8fCB2YWw7XG5cdCAgICB2YWwgPSB2YWwucmVwbGFjZSgvKF58W15cXFtdKVxcXi9nLCAnJDEnKTtcblx0ICAgIHJlZ2V4ID0gcmVnZXgucmVwbGFjZShuYW1lLCB2YWwpO1xuXHQgICAgcmV0dXJuIHNlbGY7XG5cdCAgfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdG5vb3AuZXhlYyA9IG5vb3A7XG5cdFxuXHRmdW5jdGlvbiBtZXJnZShvYmopIHtcblx0ICB2YXIgaSA9IDFcblx0ICAgICwgdGFyZ2V0XG5cdCAgICAsIGtleTtcblx0XG5cdCAgZm9yICg7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0ICAgIHRhcmdldCA9IGFyZ3VtZW50c1tpXTtcblx0ICAgIGZvciAoa2V5IGluIHRhcmdldCkge1xuXHQgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwga2V5KSkge1xuXHQgICAgICAgIG9ialtrZXldID0gdGFyZ2V0W2tleV07XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9XG5cdFxuXHQgIHJldHVybiBvYmo7XG5cdH1cblx0XG5cdFxuXHQvKipcblx0ICogTWFya2VkXG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gbWFya2VkKHNyYywgb3B0LCBjYWxsYmFjaykge1xuXHQgIGlmIChjYWxsYmFjayB8fCB0eXBlb2Ygb3B0ID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICBpZiAoIWNhbGxiYWNrKSB7XG5cdCAgICAgIGNhbGxiYWNrID0gb3B0O1xuXHQgICAgICBvcHQgPSBudWxsO1xuXHQgICAgfVxuXHRcblx0ICAgIG9wdCA9IG1lcmdlKHt9LCBtYXJrZWQuZGVmYXVsdHMsIG9wdCB8fCB7fSk7XG5cdFxuXHQgICAgdmFyIGhpZ2hsaWdodCA9IG9wdC5oaWdobGlnaHRcblx0ICAgICAgLCB0b2tlbnNcblx0ICAgICAgLCBwZW5kaW5nXG5cdCAgICAgICwgaSA9IDA7XG5cdFxuXHQgICAgdHJ5IHtcblx0ICAgICAgdG9rZW5zID0gTGV4ZXIubGV4KHNyYywgb3B0KVxuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICByZXR1cm4gY2FsbGJhY2soZSk7XG5cdCAgICB9XG5cdFxuXHQgICAgcGVuZGluZyA9IHRva2Vucy5sZW5ndGg7XG5cdFxuXHQgICAgdmFyIGRvbmUgPSBmdW5jdGlvbihlcnIpIHtcblx0ICAgICAgaWYgKGVycikge1xuXHQgICAgICAgIG9wdC5oaWdobGlnaHQgPSBoaWdobGlnaHQ7XG5cdCAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHZhciBvdXQ7XG5cdFxuXHQgICAgICB0cnkge1xuXHQgICAgICAgIG91dCA9IFBhcnNlci5wYXJzZSh0b2tlbnMsIG9wdCk7XG5cdCAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICBlcnIgPSBlO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICBvcHQuaGlnaGxpZ2h0ID0gaGlnaGxpZ2h0O1xuXHRcblx0ICAgICAgcmV0dXJuIGVyclxuXHQgICAgICAgID8gY2FsbGJhY2soZXJyKVxuXHQgICAgICAgIDogY2FsbGJhY2sobnVsbCwgb3V0KTtcblx0ICAgIH07XG5cdFxuXHQgICAgaWYgKCFoaWdobGlnaHQgfHwgaGlnaGxpZ2h0Lmxlbmd0aCA8IDMpIHtcblx0ICAgICAgcmV0dXJuIGRvbmUoKTtcblx0ICAgIH1cblx0XG5cdCAgICBkZWxldGUgb3B0LmhpZ2hsaWdodDtcblx0XG5cdCAgICBpZiAoIXBlbmRpbmcpIHJldHVybiBkb25lKCk7XG5cdFxuXHQgICAgZm9yICg7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgKGZ1bmN0aW9uKHRva2VuKSB7XG5cdCAgICAgICAgaWYgKHRva2VuLnR5cGUgIT09ICdjb2RlJykge1xuXHQgICAgICAgICAgcmV0dXJuIC0tcGVuZGluZyB8fCBkb25lKCk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiBoaWdobGlnaHQodG9rZW4udGV4dCwgdG9rZW4ubGFuZywgZnVuY3Rpb24oZXJyLCBjb2RlKSB7XG5cdCAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gZG9uZShlcnIpO1xuXHQgICAgICAgICAgaWYgKGNvZGUgPT0gbnVsbCB8fCBjb2RlID09PSB0b2tlbi50ZXh0KSB7XG5cdCAgICAgICAgICAgIHJldHVybiAtLXBlbmRpbmcgfHwgZG9uZSgpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgICAgdG9rZW4udGV4dCA9IGNvZGU7XG5cdCAgICAgICAgICB0b2tlbi5lc2NhcGVkID0gdHJ1ZTtcblx0ICAgICAgICAgIC0tcGVuZGluZyB8fCBkb25lKCk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0pKHRva2Vuc1tpXSk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuO1xuXHQgIH1cblx0ICB0cnkge1xuXHQgICAgaWYgKG9wdCkgb3B0ID0gbWVyZ2Uoe30sIG1hcmtlZC5kZWZhdWx0cywgb3B0KTtcblx0ICAgIHJldHVybiBQYXJzZXIucGFyc2UoTGV4ZXIubGV4KHNyYywgb3B0KSwgb3B0KTtcblx0ICB9IGNhdGNoIChlKSB7XG5cdCAgICBlLm1lc3NhZ2UgKz0gJ1xcblBsZWFzZSByZXBvcnQgdGhpcyB0byBodHRwczovL2dpdGh1Yi5jb20vY2hqai9tYXJrZWQuJztcblx0ICAgIGlmICgob3B0IHx8IG1hcmtlZC5kZWZhdWx0cykuc2lsZW50KSB7XG5cdCAgICAgIHJldHVybiAnPHA+QW4gZXJyb3Igb2NjdXJlZDo8L3A+PHByZT4nXG5cdCAgICAgICAgKyBlc2NhcGUoZS5tZXNzYWdlICsgJycsIHRydWUpXG5cdCAgICAgICAgKyAnPC9wcmU+Jztcblx0ICAgIH1cblx0ICAgIHRocm93IGU7XG5cdCAgfVxuXHR9XG5cdFxuXHQvKipcblx0ICogT3B0aW9uc1xuXHQgKi9cblx0XG5cdG1hcmtlZC5vcHRpb25zID1cblx0bWFya2VkLnNldE9wdGlvbnMgPSBmdW5jdGlvbihvcHQpIHtcblx0ICBtZXJnZShtYXJrZWQuZGVmYXVsdHMsIG9wdCk7XG5cdCAgcmV0dXJuIG1hcmtlZDtcblx0fTtcblx0XG5cdG1hcmtlZC5kZWZhdWx0cyA9IHtcblx0ICBnZm06IHRydWUsXG5cdCAgdGFibGVzOiB0cnVlLFxuXHQgIGJyZWFrczogZmFsc2UsXG5cdCAgcGVkYW50aWM6IGZhbHNlLFxuXHQgIHNhbml0aXplOiBmYWxzZSxcblx0ICBzYW5pdGl6ZXI6IG51bGwsXG5cdCAgbWFuZ2xlOiB0cnVlLFxuXHQgIHNtYXJ0TGlzdHM6IGZhbHNlLFxuXHQgIHNpbGVudDogZmFsc2UsXG5cdCAgaGlnaGxpZ2h0OiBudWxsLFxuXHQgIGxhbmdQcmVmaXg6ICdsYW5nLScsXG5cdCAgc21hcnR5cGFudHM6IGZhbHNlLFxuXHQgIGhlYWRlclByZWZpeDogJycsXG5cdCAgcmVuZGVyZXI6IG5ldyBSZW5kZXJlcixcblx0ICB4aHRtbDogZmFsc2Vcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBFeHBvc2Vcblx0ICovXG5cdFxuXHRtYXJrZWQuUGFyc2VyID0gUGFyc2VyO1xuXHRtYXJrZWQucGFyc2VyID0gUGFyc2VyLnBhcnNlO1xuXHRcblx0bWFya2VkLlJlbmRlcmVyID0gUmVuZGVyZXI7XG5cdFxuXHRtYXJrZWQuTGV4ZXIgPSBMZXhlcjtcblx0bWFya2VkLmxleGVyID0gTGV4ZXIubGV4O1xuXHRcblx0bWFya2VkLklubGluZUxleGVyID0gSW5saW5lTGV4ZXI7XG5cdG1hcmtlZC5pbmxpbmVMZXhlciA9IElubGluZUxleGVyLm91dHB1dDtcblx0XG5cdG1hcmtlZC5wYXJzZSA9IG1hcmtlZDtcblx0XG5cdGlmICh0cnVlKSB7XG5cdCAgbW9kdWxlLmV4cG9ydHMgPSBtYXJrZWQ7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG5cdCAgZGVmaW5lKGZ1bmN0aW9uKCkgeyByZXR1cm4gbWFya2VkOyB9KTtcblx0fSBlbHNlIHtcblx0ICB0aGlzLm1hcmtlZCA9IG1hcmtlZDtcblx0fVxuXHRcblx0fSkuY2FsbChmdW5jdGlvbigpIHtcblx0ICByZXR1cm4gdGhpcyB8fCAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBnbG9iYWwpO1xuXHR9KCkpO1xuXHRcblx0LyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIChmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0oKSkpKVxuXG4vKioqLyB9LFxuXG4vKioqLyAxNDg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IChfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KSkoNjc0KTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTQ5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3RSb3V0ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0dmFyIF9JY29uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3OCk7XG5cdFxuXHR2YXIgX0ljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSWNvbik7XG5cdFxuXHR2YXIgX0ZhZGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDg4KTtcblx0XG5cdHZhciBfRmFkZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9GYWRlKTtcblx0XG5cdHZhciBfVmlld2VyUHJlZmVyZW5jZSA9IF9fd2VicGFja19yZXF1aXJlX18oMTUwKTtcblx0XG5cdHZhciBfVmlld2VyUHJlZmVyZW5jZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9WaWV3ZXJQcmVmZXJlbmNlKTtcblx0XG5cdHZhciBfcmVhY3RDc3NNb2R1bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Mik7XG5cdFxuXHR2YXIgX3JlYWN0Q3NzTW9kdWxlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdENzc01vZHVsZXMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9fZGVjb3JhdGUgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fZGVjb3JhdGUgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG5cdCAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdCAgICAgICAgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsXG5cdCAgICAgICAgZDtcblx0ICAgIGlmICgodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihSZWZsZWN0KSkgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO2Vsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0ICAgICAgICBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuXHQgICAgfXJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG5cdH07XG5cdFxuXHR2YXIgc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTUpO1xuXHR2YXIgVmlld2VyUGFuZWwgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICAgX2luaGVyaXRzKFZpZXdlclBhbmVsLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBWaWV3ZXJQYW5lbChwcm9wcykge1xuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWaWV3ZXJQYW5lbCk7XG5cdFxuXHQgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIE9iamVjdC5nZXRQcm90b3R5cGVPZihWaWV3ZXJQYW5lbCkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHRcblx0ICAgICAgICBfdGhpcy5zdGF0ZSA9IHtcblx0ICAgICAgICAgICAgc2hvd1ZpZXdlclByZWZlcmVuY2U6IGZhbHNlXG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfdGhpcy5oYW5kbGVQcmVmQ2xpY2sgPSBfdGhpcy5oYW5kbGVQcmVmQ2xpY2suYmluZChfdGhpcyk7XG5cdCAgICAgICAgcmV0dXJuIF90aGlzO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhWaWV3ZXJQYW5lbCwgW3tcblx0ICAgICAgICBrZXk6IFwiaGFuZGxlUHJlZkNsaWNrXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVByZWZDbGljaygpIHtcblx0ICAgICAgICAgICAgdGhpcy5wcm9wcy5vblByZWZWaXNpYmlsaXR5Q2hhbmdlKCF0aGlzLnByb3BzLnNob3dWaWV3ZXJQcmVmZXJlbmNlKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcImNvbXBvbmVudERpZE1vdW50XCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge31cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwicmVuZGVyXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHM7XG5cdCAgICAgICAgICAgIHZhciB0aXRsZSA9IF9wcm9wcy50aXRsZTtcblx0ICAgICAgICAgICAgdmFyIHNob3dWaWV3ZXJQcmVmZXJlbmNlID0gX3Byb3BzLnNob3dWaWV3ZXJQcmVmZXJlbmNlO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgc3R5bGVOYW1lOiBcInZpZXdlci1wYW5lbFwiIH0sIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgc3R5bGVOYW1lOiBcImNvbnRhaW5lclwiIH0sIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgc3R5bGVOYW1lOiBcImJhY2tcIiB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RSb3V0ZXIuTGluaywgeyB0bzogXCIvXCIgfSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0ljb24yLmRlZmF1bHQsIHsgbmFtZTogXCJiYWNrXCIgfSksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCBcIui/lOWbnlwiKSkpLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBzdHlsZU5hbWU6IFwidGl0bGVcIiB9LCB0aXRsZSksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgb25DbGljazogdGhpcy5oYW5kbGVQcmVmQ2xpY2ssIHN0eWxlTmFtZTogXCJwcmVmZXJlbmNlXCIgfSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0ljb24yLmRlZmF1bHQsIHsgbmFtZTogXCJwcmVmZXJlbmNlXCIgfSkpLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfRmFkZTIuZGVmYXVsdCwgbnVsbCwgc2hvd1ZpZXdlclByZWZlcmVuY2UgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVmlld2VyUHJlZmVyZW5jZTIuZGVmYXVsdCwgbnVsbCkgOiBudWxsKSkpO1xuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gVmlld2VyUGFuZWw7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFZpZXdlclBhbmVsID0gX19kZWNvcmF0ZShbKDAsIF9yZWFjdENzc01vZHVsZXMyLmRlZmF1bHQpKHN0eWxlcyldLCBWaWV3ZXJQYW5lbCk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFZpZXdlclBhbmVsO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNTA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdFJlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfU3dpdGNoZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1MSk7XG5cdFxuXHR2YXIgX1N3aXRjaGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N3aXRjaGVyKTtcblx0XG5cdHZhciBfcmVhY3RDc3NNb2R1bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Mik7XG5cdFxuXHR2YXIgX3JlYWN0Q3NzTW9kdWxlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdENzc01vZHVsZXMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9fZGVjb3JhdGUgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fZGVjb3JhdGUgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG5cdCAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdCAgICAgICAgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsXG5cdCAgICAgICAgZDtcblx0ICAgIGlmICgodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihSZWZsZWN0KSkgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO2Vsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0ICAgICAgICBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuXHQgICAgfXJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG5cdH07XG5cdFxuXHR2YXIgc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTQpO1xuXHR2YXIgVmlld2VyUHJlZmVyZW5jZSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgICBfaW5oZXJpdHMoVmlld2VyUHJlZmVyZW5jZSwgX0NvbXBvbmVudCk7XG5cdFxuXHQgICAgZnVuY3Rpb24gVmlld2VyUHJlZmVyZW5jZShwcm9wcykge1xuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWaWV3ZXJQcmVmZXJlbmNlKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIE9iamVjdC5nZXRQcm90b3R5cGVPZihWaWV3ZXJQcmVmZXJlbmNlKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKFZpZXdlclByZWZlcmVuY2UsIFt7XG5cdCAgICAgICAga2V5OiBcInJlbmRlclwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlTmFtZTogXCJ2aWV3ZXItcHJlZmVyZW5jZVwiIH0sIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwidWxcIiwgeyBjbGFzc05hbWU6IFwib3B0aW9uc1wiIH0sIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwibGlcIiwgeyBzdHlsZU5hbWU6IFwib3B0aW9uLWZvbnQtc2l6ZVwiIH0sIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCBcIkEtXCIpLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgXCJBK1wiKSksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwibGlcIiwgeyBzdHlsZU5hbWU6IFwib3B0aW9uLXNjcm9sbFwiIH0sIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJsYWJlbFwiIH0sIFwi5rua5Yqo5qih5byPXCIpLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfU3dpdGNoZXIyLmRlZmF1bHQsIHsgdmFsdWU6IHRydWUgfSkpLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImxpXCIsIHsgc3R5bGVOYW1lOiBcIm9wdGlvbi10aGVtZVwiIH0sIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IHN0eWxlOiB7IGJhY2tncm91bmQ6ICcjZmZmJyB9IH0sIFwidGhlbWUxXCIpLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBzdHlsZTogeyBiYWNrZ3JvdW5kOiAnI2VlZScgfSB9LCBcInRoZW1lMlwiKSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgc3R5bGU6IHsgYmFja2dyb3VuZDogJyMyMjInIH0gfSwgXCJ0aGVtZTNcIikpKSk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBWaWV3ZXJQcmVmZXJlbmNlO1xuXHR9KF9yZWFjdC5Db21wb25lbnQpO1xuXHRWaWV3ZXJQcmVmZXJlbmNlID0gX19kZWNvcmF0ZShbKDAsIF9yZWFjdENzc01vZHVsZXMyLmRlZmF1bHQpKHN0eWxlcyldLCBWaWV3ZXJQcmVmZXJlbmNlKTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9yZWFjdFJlZHV4LmNvbm5lY3QpKCkoVmlld2VyUHJlZmVyZW5jZSk7XG5cbi8qKiovIH0sXG5cbi8qKiovIDE1MTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9Td2l0Y2hlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTUyKTtcblx0XG5cdHZhciBfU3dpdGNoZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3dpdGNoZXIpO1xuXG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cblx0ZXhwb3J0cy5kZWZhdWx0ID0gX1N3aXRjaGVyMi5kZWZhdWx0O1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNTI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdENzc01vZHVsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgyKTtcblx0XG5cdHZhciBfcmVhY3RDc3NNb2R1bGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0Q3NzTW9kdWxlcyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX19kZWNvcmF0ZSA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19kZWNvcmF0ZSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcblx0ICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCxcblx0ICAgICAgICByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYyxcblx0ICAgICAgICBkO1xuXHQgICAgaWYgKCh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKFJlZmxlY3QpKSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7ZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHQgICAgICAgIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG5cdCAgICB9cmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcblx0fTtcblx0XG5cdHZhciBzdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1Myk7XG5cdHZhciBTd2l0Y2hlciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgICBfaW5oZXJpdHMoU3dpdGNoZXIsIF9Db21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIFN3aXRjaGVyKHByb3BzKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN3aXRjaGVyKTtcblx0XG5cdCAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIE9iamVjdC5nZXRQcm90b3R5cGVPZihTd2l0Y2hlcikuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhTd2l0Y2hlciwgW3tcblx0ICAgICAgICBrZXk6IFwiY29tcG9uZW50RGlkTW91bnRcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7fVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJyZW5kZXJcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgICAgICAgICB2YXIgaXNPbiA9IF9wcm9wcy52YWx1ZTtcblx0ICAgICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWU7XG5cdFxuXHQgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMucHJvcHMudmFsdWUgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgICAgICBpZiAoaXNPbiA9PT0gJzEnIHx8IGlzT24gPT09ICd0cnVlJykge1xuXHQgICAgICAgICAgICAgICAgICAgIGlzT24gPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICBpc09uID0gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdmFyIHN0YXRlID0gQm9vbGVhbihpc09uKSA/ICdvbicgOiAnb2ZmJztcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbGFzc05hbWUgfHwgJycsIHN0eWxlTmFtZTogXCJzd2l0Y2hlci13cmFwXCIgfSwgdGhpcy5wcm9wcy50aXRsZSAmJiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgdGhpcy5wcm9wcy50aXRsZSksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMi5wcm9wcy5vbkNoYW5nZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3VmFsdWUgPSB2b2lkIDA7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczIucHJvcHMub3B0aW9ucykge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZUluZGV4ID0gX3RoaXMyLnByb3BzLm9wdGlvbnMubWFwKGZ1bmN0aW9uIChvcHRpb24pIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9uLnZhbHVlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuaW5kZXhPZihfdGhpczIucHJvcHMudmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZUluZGV4ID09PSAxKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3VmFsdWUgPSBfdGhpczIucHJvcHMub3B0aW9uc1swXS52YWx1ZTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFZhbHVlSW5kZXggPT09IDApIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZSA9IF90aGlzMi5wcm9wcy5vcHRpb25zWzFdLnZhbHVlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZSA9IF90aGlzMi5wcm9wcy5vcHRpb25zWzBdLnZhbHVlO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+W9k+WJjeaVsOaNruacieivr++8jOWwhuS9v+eUqOm7mOiupOaVsOaNru+8gScpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBfdGhpczIucHJvcHMudmFsdWUgPT09ICdzdHJpbmcnKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign5rKh5pyJ57uZIG9wdGlvbnMg5pe25b+F6aG75L2/55So5biD5bCU5Z6L55qEIHZhbHVl77yBJyk7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlID0gIV90aGlzMi5wcm9wcy52YWx1ZTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIucHJvcHMub25DaGFuZ2UobmV3VmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0sIHN0eWxlTmFtZTogXCJzd2l0Y2hlci0tXCIgKyBzdGF0ZSB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlTmFtZTogXCJzd2l0Y2hlci1idXR0b25cIiB9KSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBzdHlsZU5hbWU6IFwic3dpdGNoZXItdHJhY2tcIiB9KSkpO1xuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gU3dpdGNoZXI7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFN3aXRjaGVyID0gX19kZWNvcmF0ZShbKDAsIF9yZWFjdENzc01vZHVsZXMyLmRlZmF1bHQpKHN0eWxlcywge1xuXHQgICAgYWxsb3dNdWx0aXBsZTogdHJ1ZVxuXHR9KV0sIFN3aXRjaGVyKTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gU3dpdGNoZXI7XG5cbi8qKiovIH0sXG5cbi8qKiovIDE1Mzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cdG1vZHVsZS5leHBvcnRzID0ge1wic3dpdGNoZXItd3JhcFwiOlwic3dpdGNoZXItd3JhcF8zVU1BVVwiLFwic3dpdGNoZXJcIjpcInN3aXRjaGVyX0czbjRfXCIsXCJzd2l0Y2hlci0tb2ZmXCI6XCJzd2l0Y2hlci0tb2ZmXzFFb09VXCIsXCJzd2l0Y2hlci0tb25cIjpcInN3aXRjaGVyLS1vbl8yeGl3T1wiLFwic3dpdGNoZXItYnV0dG9uXCI6XCJzd2l0Y2hlci1idXR0b25fMmtIR0xcIixcInN3aXRjaGVyLXRyYWNrXCI6XCJzd2l0Y2hlci10cmFja194dmhqZ1wifTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTU0OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblx0bW9kdWxlLmV4cG9ydHMgPSB7XCJ2aWV3ZXItcHJlZmVyZW5jZVwiOlwidmlld2VyLXByZWZlcmVuY2VfMUZOSlpcIixcIm9wdGlvblwiOlwib3B0aW9uXzE5RlhXXCIsXCJvcHRpb24tZm9udC1zaXplXCI6XCJvcHRpb24tZm9udC1zaXplXzE4T05HIG9wdGlvbl8xOUZYV1wiLFwib3B0aW9uLXNjcm9sbFwiOlwib3B0aW9uLXNjcm9sbF8zYWd0TyBvcHRpb25fMTlGWFdcIixcImxhYmVsXCI6XCJsYWJlbF8zSExQcFwiLFwic3dpdGNoZXJcIjpcInN3aXRjaGVyXzNUOUtfXCIsXCJvcHRpb24tdGhlbWVcIjpcIm9wdGlvbi10aGVtZV8zOGJVZyBvcHRpb25fMTlGWFdcIn07XG5cbi8qKiovIH0sXG5cbi8qKiovIDE1NTpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cdG1vZHVsZS5leHBvcnRzID0ge1widmlld2VyLXBhbmVsXCI6XCJ2aWV3ZXItcGFuZWxfYW9PdjdcIixcImNvbnRhaW5lclwiOlwiY29udGFpbmVyXzJjTE5JXCIsXCJiYWNrXCI6XCJiYWNrX3BweFFfXCIsXCJ0aXRsZVwiOlwidGl0bGVfM05obGlcIixcInByZWZlcmVuY2VcIjpcInByZWZlcmVuY2VfMXdQYTZcIn07XG5cbi8qKiovIH0sXG5cbi8qKiovIDE1Njpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfQm9va1BhZ2VMaXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMzkpO1xuXHRcblx0dmFyIF9Cb29rUGFnZUxpc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQm9va1BhZ2VMaXN0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBCb29rUGFnZVdpdGhSYXdIdG1sID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcblx0ICAgIF9pbmhlcml0cyhCb29rUGFnZVdpdGhSYXdIdG1sLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBCb29rUGFnZVdpdGhSYXdIdG1sKHByb3BzKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJvb2tQYWdlV2l0aFJhd0h0bWwpO1xuXHRcblx0ICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgT2JqZWN0LmdldFByb3RvdHlwZU9mKEJvb2tQYWdlV2l0aFJhd0h0bWwpLmNhbGwodGhpcywgcHJvcHMpKTtcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoQm9va1BhZ2VXaXRoUmF3SHRtbCwgW3tcblx0ICAgICAgICBrZXk6ICdnZXRDb250ZW50SHRtbCcsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbnRlbnRIdG1sKCkge1xuXHQgICAgICAgICAgICByZXR1cm4gdGhpcy5ib29rUGFnZUxpc3QuYm9va1BhZ2UuYm9va1BhZ2VEb207XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcztcblx0ICAgICAgICAgICAgdmFyIGZsdWlkID0gX3Byb3BzLmZsdWlkO1xuXHQgICAgICAgICAgICB2YXIgbm9kZXMgPSBfcHJvcHMubm9kZXM7XG5cdFxuXHQgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0Jvb2tQYWdlTGlzdDIuZGVmYXVsdCwgeyBmbHVpZDogZmx1aWQsIG5vZGVzOiBub2Rlcywgbm9kZUhlaWdodHM6IFtdLCBwYWdlQ291bnQ6IDEsIHBhZ2VIZWlnaHQ6IDAsIGlzQ2FsY01vZGU6IHRydWUsIHJlZjogZnVuY3Rpb24gcmVmKF9yZWYpIHtcblx0ICAgICAgICAgICAgICAgICAgICBfdGhpczIuYm9va1BhZ2VMaXN0ID0gX3JlZjtcblx0ICAgICAgICAgICAgICAgIH0gfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfV0pO1xuXHRcblx0ICAgIHJldHVybiBCb29rUGFnZVdpdGhSYXdIdG1sO1xuXHR9KF9yZWFjdC5Db21wb25lbnQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gQm9va1BhZ2VXaXRoUmF3SHRtbDtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTU3OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0Ly8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuLyoqKi8gfVxuXG59KTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAxLjEuanNcbiAqKi8iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQgUmVhY3RDU1NUcmFuc2l0aW9uR3JvdXAgZnJvbSAncmVhY3QtYWRkb25zLWNzcy10cmFuc2l0aW9uLWdyb3VwJ1xuaW1wb3J0IEJvb2tQYWdlTGlzdCBmcm9tICcuL0Jvb2tQYWdlTGlzdCdcbmltcG9ydCAqIGFzIHZpZXdlclV0aWxzIGZyb20gJy4vVmlld2VyLnV0aWxzJ1xuaW1wb3J0IHsgZmV0Y2hCb29rLCBmZXRjaFByb2dyZXNzLCBvcGVuQ29uZmlybU1vZGFsIH0gZnJvbSAnLi4vLi4vc3RvcmUvYWN0aW9ucydcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCdcbmltcG9ydCBWaWV3ZXJQYW5lbCBmcm9tICcuL1ZpZXdlclBhbmVsJ1xuaW1wb3J0IEJvb2tQYWdlV2l0aFJhd0h0bWwgZnJvbSAnLi9Cb29rUGFnZVdpdGhSYXdIdG1sJ1xuaW1wb3J0IENTU01vZHVsZXMgZnJvbSAncmVhY3QtY3NzLW1vZHVsZXMnXG5pbXBvcnQgYXBpIGZyb20gJy4uLy4uL2FwaXMnXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vLi4vdXRpbHMnXG5pbXBvcnQgRG9jQ29udGFpbmVyIGZyb20gJy4uLy4uL2NvbnRhaW5lcnMvRG9jQ29udGFpbmVyJ1xuY29uc3Qgc3R5bGVzID0gcmVxdWlyZSgnLi9fdmlld2VyLnNjc3MnKVxuXG5pbnRlcmZhY2UgSUFsbFByb3BzIHtcbiAgZmV0Y2hCb29rOiBhbnlcbiAgYm9vazogYW55XG4gIHJhd0Jvb2tDb250ZW50OiBzdHJpbmdcbiAgZmV0Y2hQcm9ncmVzczogKGJvb2tJZDogc3RyaW5nKSA9PiB2b2lkXG4gIHByb2dyZXNzOiBudW1iZXJcbiAgb3BlbkNvbmZpcm1Nb2RhbDogKGRhdGE6IG9wZW5Db25maXJtTW9kYWwpID0+IHZvaWRcbn1cblxuaW50ZXJmYWNlIElTdGF0ZSB7XG4gIHNob3dQYW5lbD86IGJvb2xlYW5cbiAgaXNDYWxjTW9kZT86IGJvb2xlYW5cbiAgbm9kZUhlaWdodHM/OiBudW1iZXJbXVxuICBub2Rlcz86IHN0cmluZ1tdXG4gIHNob3dWaWV3ZXJQcmVmZXJlbmNlPzogYm9vbGVhblxuICBmbHVpZD86IGJvb2xlYW5cbiAgaXNUb3VjaE1vZGU/OiBib29sZWFuXG4gIHNob3dQYWdlSW5mbz86IGJvb2xlYW5cbn1cblxuQENTU01vZHVsZXMoc3R5bGVzKVxuY2xhc3MgVmlld2VyIGV4dGVuZHMgQ29tcG9uZW50PElBbGxQcm9wcywgSVN0YXRlPiB7XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcblxuICAgIHRoaXMuYm9va0lkID0gcHJvcHMucGFyYW1zLmlkXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHNob3dQYW5lbDogZmFsc2UsXG4gICAgICBpc0NhbGNNb2RlOiB0cnVlLFxuICAgICAgbm9kZUhlaWdodHM6IFtdLFxuICAgICAgbm9kZXM6IFtdLFxuICAgICAgc2hvd1ZpZXdlclByZWZlcmVuY2U6IGZhbHNlLFxuICAgICAgZmx1aWQ6IGZhbHNlLFxuICAgICAgaXNUb3VjaE1vZGU6IGZhbHNlXG4gICAgfVxuICAgIHRoaXMuaGFuZGxlVmlld2VyQ2xpY2sgPSB0aGlzLmhhbmRsZVZpZXdlckNsaWNrLmJpbmQodGhpcylcbiAgICB0aGlzLmhhbmRlbFZpZXdlck1vdXNlTW92ZSA9IHRoaXMuaGFuZGVsVmlld2VyTW91c2VNb3ZlLmJpbmQodGhpcylcbiAgICB0aGlzLmhhbmRsZVByb2dyZXNzQ2hhbmdlID0gdGhpcy5oYW5kbGVQcm9ncmVzc0NoYW5nZS5iaW5kKHRoaXMpXG4gICAgdGhpcy5oYW5kbGVSZXNpemUgPSB0aGlzLmhhbmRsZVJlc2l6ZS5iaW5kKHRoaXMpXG4gICAgdGhpcy5kZWJvdW5kZWRIYW5kbGVSZXNpemUgPSBfLmRlYm91bmNlKHRoaXMuaGFuZGxlUmVzaXplLCA1MDAsIHtcbiAgICAgIG1heFdhaXQ6IDEwMDBcbiAgICB9KVxuICB9XG5cbiAgYm9va0lkOiBzdHJpbmdcbiAgYm9va1BhZ2VXaXRoUmF3SHRtbDogYW55XG4gIGRlYm91bmRlZEhhbmRsZVJlc2l6ZTogYW55XG5cbiAgaXNWaWV3Rmx1aWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHV0aWxzLmdldFNjcmVlbkluZm8oKS52aWV3LndpZHRoIDwgNzAwXG4gIH1cblxuICBpc1RvdWNoTW9kZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdXRpbHMuZ2V0U2NyZWVuSW5mbygpLnZpZXcud2lkdGggPCA3MDBcbiAgfVxuXG4gIHNldFByb2dyZXNzKHBlcmNlbnRhZ2UpIHtcbiAgICBhcGkuc2V0UHJvZ3Jlc3ModGhpcy5ib29rSWQsIHsgcGVyY2VudGFnZSB9KVxuICB9XG5cbiAgaGFuZGVsVmlld2VyTW91c2VNb3ZlKGV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmlzQ2FsY01vZGUgJiYgIXRoaXMuc3RhdGUuaXNUb3VjaE1vZGUpIHtcbiAgICAgIGxldCB5ID0gZXZlbnQucGFnZVkgLSBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcFxuICAgICAgbGV0IGRUb1NjcmVlblJpZ2h0ID0gdXRpbHMuZ2V0U2NyZWVuSW5mbygpLnZpZXcud2lkdGggLSBldmVudC5wYWdlWFxuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2hvd1BhbmVsOiB5IDwgOTAsXG4gICAgICAgIHNob3dQYWdlSW5mbzogZFRvU2NyZWVuUmlnaHQgPCAxMDBcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlUmVzaXplKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZmx1aWQ6IHRoaXMuaXNWaWV3Rmx1aWQoKSxcbiAgICAgIGlzVG91Y2hNb2RlOiB0aGlzLmlzVG91Y2hNb2RlKClcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlUHJvZ3Jlc3NDaGFuZ2UobmV3UHJvZ3Jlc3MpIHtcbiAgICB0aGlzLnNldFByb2dyZXNzKG5ld1Byb2dyZXNzKVxuICB9XG5cbiAgaGFuZGxlVmlld2VyQ2xpY2soKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuaXNUb3VjaE1vZGUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzaG93UGFuZWw6ICF0aGlzLnN0YXRlLnNob3dQYW5lbFxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBjYWxjRG9tKCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaXNDYWxjTW9kZTogdHJ1ZVxuICAgIH0sICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRlbnRIdG1sID0gdGhpcy5ib29rUGFnZVdpdGhSYXdIdG1sLmdldENvbnRlbnRIdG1sKClcbiAgICAgIGNvbnN0IG5vZGVIZWlnaHRzID0gdmlld2VyVXRpbHMuZ2V0Tm9kZUhlaWdodHMoY29udGVudEh0bWwuY2hpbGROb2RlcylcbiAgICAgIGNvbnNvbGUubG9nKCdjYWxjIGRvbmUnKVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIG5vZGVIZWlnaHRzLFxuICAgICAgICBpc0NhbGNNb2RlOiBmYWxzZVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgbG9hZFJhd0Jvb2tDb250ZW50KCkge1xuICAgIHRoaXMucHJvcHMuZmV0Y2hCb29rKHRoaXMuYm9va0lkKS50aGVuKHJlcyA9PiB7XG4gICAgICBjb25zdCBub2RlcyA9IHZpZXdlclV0aWxzLm1hcmtkb3duVG9Ob2RlU3RyaW5nTGlzdCh0aGlzLnByb3BzLnJhd0Jvb2tDb250ZW50KVxuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgbm9kZXMsXG4gICAgICAgIGZsdWlkOiB0aGlzLmlzVmlld0ZsdWlkKCksXG4gICAgICAgIGlzVG91Y2hNb2RlOiB0aGlzLmlzVG91Y2hNb2RlKClcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIGFkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmRlYm91bmRlZEhhbmRsZVJlc2l6ZSlcbiAgfVxuXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmRlYm91bmRlZEhhbmRsZVJlc2l6ZSlcbiAgfVxuXG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICAgIHJldHVybiAhXy5pc0VxdWFsKHRoaXMuc3RhdGUsIG5leHRTdGF0ZSlcbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgIGNvbnN0IGhhc0Jvb2tOb2Rlc0xvYWRlZCA9IHRoaXMuc3RhdGUubm9kZXMubGVuZ3RoICE9PSAwICYmIHByZXZTdGF0ZS5ub2Rlcy5sZW5ndGggPT09IDBcbiAgICBjb25zdCB2aWV3Q2hhbmdlZCA9IHRoaXMuc3RhdGUuZmx1aWQgIT09IHByZXZTdGF0ZS5mbHVpZFxuXG4gICAgaWYgKGhhc0Jvb2tOb2Rlc0xvYWRlZCB8fCB2aWV3Q2hhbmdlZCkge1xuICAgICAgdGhpcy5jYWxjRG9tKClcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLmxvYWRSYXdCb29rQ29udGVudCgpXG4gICAgdGhpcy5wcm9wcy5mZXRjaFByb2dyZXNzKHRoaXMuYm9va0lkKVxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpXG4gIH1cblxuICByZW5kZXJWaWV3UGFuZWwoKSB7XG4gICAgcmV0dXJuICh0aGlzLnN0YXRlLnNob3dQYW5lbCB8fCB0aGlzLnN0YXRlLnNob3dWaWV3ZXJQcmVmZXJlbmNlKSAmJiAoXG4gICAgICA8Vmlld2VyUGFuZWxcbiAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuYm9vay50aXRsZX1cbiAgICAgICAgc2hvd1ZpZXdlclByZWZlcmVuY2U9e3RoaXMuc3RhdGUuc2hvd1ZpZXdlclByZWZlcmVuY2V9XG4gICAgICAgIG9uUHJlZlZpc2liaWxpdHlDaGFuZ2U9e25ld1Zpc2liaWxpdHkgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgc2hvd1ZpZXdlclByZWZlcmVuY2U6IG5ld1Zpc2liaWxpdHlcbiAgICAgICAgICB9KVxuICAgICAgICB9IH1cbiAgICAgICAgLz5cbiAgICApXG4gIH1cblxuICByZW5kZXJCb29rKCkge1xuICAgIGNvbnN0IHsgbm9kZXMsIG5vZGVIZWlnaHRzLCBmbHVpZCwgc2hvd1BhZ2VJbmZvIH0gPSB0aGlzLnN0YXRlXG4gICAgY29uc3QgeyBwcm9ncmVzcyB9ID0gdGhpcy5wcm9wc1xuXG4gICAgaWYgKG5vZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sb2FkaW5nXCI+5Yqg6L295LitIC4uLjwvZGl2PlxuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN0YXRlLmlzQ2FsY01vZGVcbiAgICAgID8gKFxuICAgICAgICA8Qm9va1BhZ2VXaXRoUmF3SHRtbFxuICAgICAgICAgIG5vZGVzPXtub2Rlc31cbiAgICAgICAgICByZWY9e3JlZiA9PiB7IHRoaXMuYm9va1BhZ2VXaXRoUmF3SHRtbCA9IHJlZiB9IH1cbiAgICAgICAgICBmbHVpZD17Zmx1aWR9XG4gICAgICAgICAgLz5cbiAgICAgIClcbiAgICAgIDogKFxuICAgICAgICA8Qm9va1BhZ2VMaXN0XG4gICAgICAgICAgbm9kZUhlaWdodHM9e25vZGVIZWlnaHRzfVxuICAgICAgICAgIG5vZGVzPXt0aGlzLnN0YXRlLm5vZGVzfVxuICAgICAgICAgIHBhZ2VDb3VudD17NX1cbiAgICAgICAgICBpbml0aWFsUHJvZ3Jlc3M9e3Byb2dyZXNzfVxuICAgICAgICAgIHBhZ2VIZWlnaHQ9ezkwMH1cbiAgICAgICAgICBvblByb2dyZXNzQ2hhbmdlPXt0aGlzLmhhbmRsZVByb2dyZXNzQ2hhbmdlfVxuICAgICAgICAgIGZsdWlkPXtmbHVpZH1cbiAgICAgICAgICBzaG93UGFnZUluZm89e3Nob3dQYWdlSW5mb31cbiAgICAgICAgICAvPlxuICAgICAgKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8RG9jQ29udGFpbmVyIGJvZHlDbGFzcz1cInZpZXdlclwiIHRpdGxlPXt0aGlzLnByb3BzLmJvb2sudGl0bGV9PlxuICAgICAgICA8ZGl2IG9uQ2xpY2s9e3RoaXMuaGFuZGxlVmlld2VyQ2xpY2t9IG9uTW91c2VNb3ZlPXt0aGlzLmhhbmRlbFZpZXdlck1vdXNlTW92ZSB9ID5cbiAgICAgICAgICB7IHRoaXMucmVuZGVyVmlld1BhbmVsKCkgfVxuICAgICAgICAgIHsgdGhpcy5yZW5kZXJCb29rKCkgfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvRG9jQ29udGFpbmVyPlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KFxuICAoc3RhdGUsIG93blByb3BzOiBhbnkpID0+IHtcbiAgICBjb25zdCBib29rID0gc3RhdGUuZW50aXRpZXMuYm9va3Nbb3duUHJvcHMucGFyYW1zLmlkXSB8fCB7fVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGJvb2ssXG4gICAgICByYXdCb29rQ29udGVudDogXy5nZXQoYm9vaywgJ2NvbnRlbnQucmF3JywgJycpLFxuICAgICAgcHJvZ3Jlc3M6IF8uZ2V0KHN0YXRlLnBheWxvYWRzLCAncHJvZ3Jlc3MucGVyY2VudGFnZScsIDApLFxuICAgICAgc2Vzc2lvbjogc3RhdGUuc2Vzc2lvblxuICAgIH1cbiAgfSxcbiAgeyBmZXRjaEJvb2ssIGZldGNoUHJvZ3Jlc3MsIG9wZW5Db25maXJtTW9kYWwgfVxuKShWaWV3ZXIgYXMgYW55KVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL2lzb21vcnBoaWMvcm91dGVzL1ZpZXdlci9WaWV3ZXIudHN4XG4gKiovIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IEJvb2tQYWdlIGZyb20gJy4vQm9va1BhZ2UnXG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICcuL0Jvb2tQYWdlTGlzdC51dGlscydcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCdcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnXG5pbXBvcnQgQ1NTTW9kdWxlcyBmcm9tICdyZWFjdC1jc3MtbW9kdWxlcydcbmltcG9ydCBWaWV3ZXJTY3JvbGxiYXIgZnJvbSAnLi9WaWV3ZXJTY3JvbGxiYXInXG5jb25zdCBzdHlsZXM6IGFueSA9IHJlcXVpcmUoJy4vX2Jvb2stcGFnZS1saXN0LnNjc3MnKVxuXG5pbnRlcmZhY2UgSVByb3BzIHtcbiAgbm9kZXM6IHN0cmluZ1tdXG4gIG5vZGVIZWlnaHRzOiBudW1iZXJbXVxuICBwYWdlQ291bnQ6IG51bWJlclxuICBpc1Njcm9sbE1vZGU/OiBib29sZWFuXG4gIGluaXRpYWxQYWdlPzogbnVtYmVyXG4gIGluaXRpYWxQcm9ncmVzcz86IG51bWJlclxuICBwYWdlSGVpZ2h0OiBudW1iZXJcbiAgb25Qcm9ncmVzc0NoYW5nZT86IChuZXdQcm9ncmVzczogbnVtYmVyKSA9PiB2b2lkXG4gIGZsdWlkOiBib29sZWFuXG4gIGlzQ2FsY01vZGU/OiBib29sZWFuXG4gIHNob3dQYWdlSW5mbz86IGJvb2xlYW5cbn1cblxuaW50ZXJmYWNlIElTdGF0ZSB7XG4gIHNjcm9sbFRvcD86IG51bWJlclxuICBjdXJyZW50UGFnZT86IG51bWJlclxufVxuXG5AQ1NTTW9kdWxlcyhzdHlsZXMpXG5jbGFzcyBCb29rUGFnZUxpc3QgZXh0ZW5kcyBDb21wb25lbnQ8SVByb3BzLCBJU3RhdGU+IHtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBzY3JvbGxUb3A6IDAsXG4gICAgICBjdXJyZW50UGFnZTogMVxuICAgIH1cbiAgICB0aGlzLmhhbmRsZVNjcm9sbCA9IHRoaXMuaGFuZGxlU2Nyb2xsLmJpbmQodGhpcylcbiAgICB0aGlzLmRlYm91bmRlZEhhbmRsZVNjcm9sbCA9IF8uZGVib3VuY2UodGhpcy5oYW5kbGVTY3JvbGwsIDIwMCwge1xuICAgICAgbWF4V2FpdDogMTAwMFxuICAgIH0pXG4gIH1cblxuICBib29rUGFnZUxpc3REb206IEhUTUxVTGlzdEVsZW1lbnRcbiAgYm9va1BhZ2U6IGFueVxuICBkZWJvdW5kZWRIYW5kbGVTY3JvbGw6IGFueVxuXG4gIGhhbmRsZVNjcm9sbCgpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMuaXNDYWxjTW9kZSkge1xuICAgICAgY29uc3QgeyBwYWdlcywgdG90YWxIZWlnaHQgfSA9IHRoaXMuY2FsY1BhZ2VzKClcbiAgICAgIGNvbnN0IHsgb25Qcm9ncmVzc0NoYW5nZSB9ID0gdGhpcy5wcm9wc1xuXG4gICAgICBjb25zdCBzY3JvbGxUb3AgPSBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcFxuICAgICAgY29uc3QgY3VycmVudFBhZ2UgPSB1dGlscy5wZXJjZW50YWdlVG9QYWdlKHNjcm9sbFRvcCAvIHRvdGFsSGVpZ2h0LCBwYWdlcy5sZW5ndGgpXG5cbiAgICAgIGlmIChvblByb2dyZXNzQ2hhbmdlKSB7XG4gICAgICAgIG9uUHJvZ3Jlc3NDaGFuZ2Uoc2Nyb2xsVG9wIC8gdG90YWxIZWlnaHQpXG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBjdXJyZW50UGFnZVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBhZGRFdmVudExpc3RlbmVycygpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5kZWJvdW5kZWRIYW5kbGVTY3JvbGwpXG4gIH1cblxuICByZW1vdmVFdmVudExpc3RlbmVycygpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5kZWJvdW5kZWRIYW5kbGVTY3JvbGwpXG4gIH1cblxuICBjYWxjUGFnZXMoKSB7XG4gICAgLy8gdG9kbzog5re75Yqg57yT5a2YXG4gICAgY29uc3QgeyBub2RlSGVpZ2h0cywgbm9kZXMsIHBhZ2VIZWlnaHQgfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCBwYWdlcyA9IHV0aWxzLmdyb3VwTm9kZXNCeVBhZ2Uobm9kZXMsIG5vZGVIZWlnaHRzLCBwYWdlSGVpZ2h0KVxuXG4gICAgcmV0dXJuIHsgcGFnZXMsIHRvdGFsSGVpZ2h0OiBwYWdlcy5sZW5ndGggKiBwYWdlSGVpZ2h0IH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGNvbnN0IHsgcGFnZUhlaWdodCwgaW5pdGlhbFBhZ2UsIGluaXRpYWxQcm9ncmVzcyB9ID0gdGhpcy5wcm9wc1xuICAgIGNvbnN0IHsgdG90YWxIZWlnaHQgfSA9IHRoaXMuY2FsY1BhZ2VzKClcbiAgICBsZXQgc2Nyb2xsVG9wID0gMFxuXG4gICAgaWYgKGluaXRpYWxQcm9ncmVzcykge1xuICAgICAgc2Nyb2xsVG9wID0gdG90YWxIZWlnaHQgKiBpbml0aWFsUHJvZ3Jlc3NcbiAgICB9IGVsc2UgaWYgKGluaXRpYWxQYWdlKSB7XG4gICAgICBzY3JvbGxUb3AgPSBwYWdlSGVpZ2h0ICogKGluaXRpYWxQYWdlIC0gMSlcbiAgICB9XG5cbiAgICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA9IHNjcm9sbFRvcFxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwYWdlcywgdG90YWxIZWlnaHQgfSA9IHRoaXMuY2FsY1BhZ2VzKClcbiAgICBjb25zdCB7IGN1cnJlbnRQYWdlIH0gPSB0aGlzLnN0YXRlXG4gICAgY29uc3QgeyBwYWdlQ291bnQsIHBhZ2VIZWlnaHQsIGZsdWlkLCBzaG93UGFnZUluZm8gfSA9IHRoaXMucHJvcHNcbiAgICBjb25zdCBzdGFydFBhZ2VJbmRleCA9IGN1cnJlbnRQYWdlIC0gMVxuICAgIGNvbnN0IGVuZFBhZ2VJbmRleCA9IHN0YXJ0UGFnZUluZGV4ICsgcGFnZUNvdW50XG4gICAgY29uc3QgY2xhc3NOYW1lID0gY2xhc3NuYW1lcyh7XG4gICAgICAncGFnZXMnOiAhZmx1aWQsXG4gICAgICAncGFnZXMtLWZsdWlkJzogZmx1aWRcbiAgICB9KVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDx1bCByZWY9e3JlZiA9PiB7IHRoaXMuYm9va1BhZ2VMaXN0RG9tID0gcmVmIH0gfSBzdHlsZU5hbWU9e2NsYXNzTmFtZX0gc3R5bGU9e3sgaGVpZ2h0OiB0b3RhbEhlaWdodCB9fT5cbiAgICAgICAgICB7XG4gICAgICAgICAgICBfLnNsaWNlKHBhZ2VzLCBzdGFydFBhZ2VJbmRleCwgZW5kUGFnZUluZGV4KS5tYXAoKHBhZ2UsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPEJvb2tQYWdlXG4gICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgcGFnZT17cGFnZX1cbiAgICAgICAgICAgICAgICAgIHBhZ2VIZWlnaHQ9e3BhZ2VIZWlnaHR9XG4gICAgICAgICAgICAgICAgICBmbHVpZD17Zmx1aWR9XG4gICAgICAgICAgICAgICAgICByZWY9e3JlZiA9PiB7IHRoaXMuYm9va1BhZ2UgPSByZWYgfSB9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgPC91bD5cbiAgICAgICAgPFZpZXdlclNjcm9sbGJhclxuICAgICAgICAgIHZpc2libGU9e3Nob3dQYWdlSW5mb31cbiAgICAgICAgICBjdXJyZW50PXtjdXJyZW50UGFnZX1cbiAgICAgICAgICB0b3RhbD17cGFnZXMubGVuZ3RofVxuICAgICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQm9va1BhZ2VMaXN0XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvaXNvbW9ycGhpYy9yb3V0ZXMvVmlld2VyL0Jvb2tQYWdlTGlzdC50c3hcbiAqKi8iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICcuL0Jvb2tQYWdlTGlzdC51dGlscydcbmltcG9ydCBSZWFjdENTU1RyYW5zaXRpb25Hcm91cCBmcm9tICdyZWFjdC1hZGRvbnMtY3NzLXRyYW5zaXRpb24tZ3JvdXAnXG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJ1xuaW1wb3J0IENTU01vZHVsZXMgZnJvbSAncmVhY3QtY3NzLW1vZHVsZXMnXG5jb25zdCBzdHlsZXM6IGFueSA9IHJlcXVpcmUoJy4vX2Jvb2stcGFnZS5zY3NzJylcblxuaW50ZXJmYWNlIElQcm9wcyB7XG4gIHBhZ2U6IHV0aWxzLlRQYWdlXG4gIHBhZ2VIZWlnaHQ6IG51bWJlclxuICBmbHVpZDogYm9vbGVhblxufVxuXG5pbnRlcmZhY2UgSVN0YXRlIHtcbn1cblxuQENTU01vZHVsZXMoc3R5bGVzKVxuY2xhc3MgQm9va1BhZ2UgZXh0ZW5kcyBDb21wb25lbnQ8SVByb3BzLCBJU3RhdGU+IHtcblxuICBib29rUGFnZURvbTogSFRNTERpdkVsZW1lbnRcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwYWdlOiB7IG5vZGVzLCBtZXRhIH0sIHBhZ2VIZWlnaHQsIGZsdWlkIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3Qgc3R5bGUgPSB7XG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIHRvcDogcGFnZUhlaWdodCAqIChtZXRhLnBhZ2VObyAtIDEpLFxuICAgICAgaGVpZ2h0OiBwYWdlSGVpZ2h0IHx8ICdhdXRvJ1xuICAgIH1cbiAgICBjb25zdCBjbGFzc05hbWUgPSBjbGFzc25hbWVzKHtcbiAgICAgICdwYWdlJzogIWZsdWlkLFxuICAgICAgJ3BhZ2UtLWZsdWlkJzogZmx1aWRcbiAgICB9KVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBzdHlsZU5hbWU9e2NsYXNzTmFtZX0gc3R5bGU9e3N0eWxlfT5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblRvcDogbWV0YS5vZmZzZXQgfX1cbiAgICAgICAgICBzdHlsZU5hbWU9XCJjb250ZW50XCJcbiAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IG5vZGVzLmpvaW4oJycpIH19XG4gICAgICAgICAgcmVmPXtyZWYgPT4geyB0aGlzLmJvb2tQYWdlRG9tID0gcmVmIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgPGRpdiBzdHlsZU5hbWU9XCJwYWdlLW5vXCI+e21ldGEucGFnZU5vfTwvZGl2PlxuICAgICAgPC9saT5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQm9va1BhZ2VcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9pc29tb3JwaGljL3JvdXRlcy9WaWV3ZXIvQm9va1BhZ2UudHN4XG4gKiovIiwiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wiY29udGVudFwiOlwiY29udGVudF8xbXlkSVwiLFwicGFnZVwiOlwicGFnZV8xU1U0aFwiLFwicGFnZS0tZmx1aWRcIjpcInBhZ2UtLWZsdWlkX3ZYOHJRIHBhZ2VfMVNVNGhcIixcInBhZ2UtLWluaXRcIjpcInBhZ2UtLWluaXRfOERaRkJcIixcInBhZ2Utbm9cIjpcInBhZ2Utbm9fMWpiVi1cIn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9pc29tb3JwaGljL3JvdXRlcy9WaWV3ZXIvX2Jvb2stcGFnZS5zY3NzXG4gKiogbW9kdWxlIGlkID0gMTQxXG4gKiogbW9kdWxlIGNodW5rcyA9IDFcbiAqKi8iLCJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnXG5cbi8vIGxvbmcgcGFyYWdyYXBoIHNpdHVhdGlvbiBkb2Vzbid0IHNlZW0gdG8gYWZmZWN0IHRoaXMgZnVuY3Rpb25cbi8vIG9mZnNldCBkaXN0YW5jZSBpcyBhbHdheXMgbmVndGl2ZSBvciB6ZXJvXG4vLyB0aGUgaW5kZXggd2lsbCBiZSBvZiB0aGUgcGFyYWdyYXBoIHdpdGggdGhpcyBvZmZzZXQgYXQgdGhlIGVuZFxuZnVuY3Rpb24gZ2V0UGFnZU9mZnNldCh7cGFnZUluZGV4LCBwYWdlSGVpZ2h0LCBub2RlSGVpZ2h0c306IHtcbiAgcGFnZUluZGV4OiBudW1iZXJcbiAgcGFnZUhlaWdodDogbnVtYmVyXG4gIG5vZGVIZWlnaHRzOiBudW1iZXJbXVxufSkge1xuICBsZXQgb2Zmc2V0ID0gMFxuICBsZXQgbm9kZUluZGV4ID0gMFxuICBsZXQgbm9kZVN0YXJ0SW5kZXhcblxuICBpZiAocGFnZUluZGV4ICE9PSAwKSB7XG4gICAgbGV0IG5vZGVIZWlnaHRTdW0gPSAwXG4gICAgd2hpbGUgKG5vZGVIZWlnaHRTdW0gPD0gcGFnZUhlaWdodCAqIHBhZ2VJbmRleCkge1xuICAgICAgbm9kZUhlaWdodFN1bSArPSBub2RlSGVpZ2h0c1tub2RlSW5kZXhdXG4gICAgICBub2RlSW5kZXgrK1xuICAgIH1cbiAgICBvZmZzZXQgPSBub2RlSGVpZ2h0U3VtIC0gbm9kZUhlaWdodHNbbm9kZUluZGV4IC0gMV0gLSBwYWdlSW5kZXggKiBwYWdlSGVpZ2h0XG4gICAgbm9kZVN0YXJ0SW5kZXggPSBub2RlSW5kZXggLSAxXG4gIH0gZWxzZSB7XG4gICAgbm9kZVN0YXJ0SW5kZXggPSAwXG4gIH1cblxuICByZXR1cm4geyBvZmZzZXQsIG5vZGVTdGFydEluZGV4IH1cbn1cblxuXG5mdW5jdGlvbiBnZXROb2Rlc09mUGFnZSh7cGFnZUluZGV4LCBub2RlcywgcGFnZUhlaWdodCwgbm9kZUhlaWdodHN9OiB7XG4gIHBhZ2VJbmRleDogbnVtYmVyXG4gIG5vZGVzOiBhbnlcbiAgcGFnZUhlaWdodDogbnVtYmVyXG4gIG5vZGVIZWlnaHRzOiBudW1iZXJbXVxufSkge1xuICBsZXQgeyBvZmZzZXQsIG5vZGVTdGFydEluZGV4IH0gPSBnZXRQYWdlT2Zmc2V0KHsgcGFnZUluZGV4LCBwYWdlSGVpZ2h0LCBub2RlSGVpZ2h0cyB9KVxuICBsZXQgbm9kZUluZGV4ID0gbm9kZVN0YXJ0SW5kZXhcbiAgbGV0IG5vZGVFbmRJbmRleFxuICBsZXQgcGFnZU5vZGVzID0gW11cblxuICBsZXQgbm9kZUhlaWdodFN1bSA9IG9mZnNldCArIG5vZGVIZWlnaHRzW25vZGVTdGFydEluZGV4XVxuXG4gIG5vZGVJbmRleCsrXG4gIGlmIChub2RlSGVpZ2h0U3VtIDwgcGFnZUhlaWdodCkge1xuICAgIHdoaWxlIChub2RlSGVpZ2h0U3VtIDw9IHBhZ2VIZWlnaHQgJiYgbm9kZUluZGV4ICE9PSBub2Rlcy5sZW5ndGgpIHtcbiAgICAgIG5vZGVIZWlnaHRTdW0gKz0gbm9kZUhlaWdodHNbbm9kZUluZGV4XVxuICAgICAgbm9kZUluZGV4KytcbiAgICB9XG4gICAgbm9kZUVuZEluZGV4ID0gbm9kZUluZGV4IC0gMVxuICB9IGVsc2Uge1xuICAgIG5vZGVFbmRJbmRleCA9IG5vZGVTdGFydEluZGV4XG4gIH1cblxuICBmb3IgKGxldCBpID0gbm9kZVN0YXJ0SW5kZXg7IGkgPD0gbm9kZUVuZEluZGV4ICYmIGkgPD0gbm9kZXMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgcGFnZU5vZGVzLnB1c2gobm9kZXNbaV0pXG4gIH1cblxuICByZXR1cm4geyBwYWdlTm9kZXMsIG9mZnNldCB9XG59XG5cblxuZXhwb3J0IHR5cGUgVFBhZ2UgPSB7XG4gIG5vZGVzOiBzdHJpbmdbXVxuICBtZXRhOiBhbnlcbn1cbmV4cG9ydCB0eXBlIFRQYWdlTGlzdCA9IFRQYWdlW11cbmV4cG9ydCBmdW5jdGlvbiBncm91cE5vZGVzQnlQYWdlKG5vZGVzOiBhbnksIG5vZGVIZWlnaHRzOiBudW1iZXJbXSwgcGFnZUhlaWdodDogbnVtYmVyKTogVFBhZ2VMaXN0IHtcbiAgbGV0IHBhZ2VzID0gW11cbiAgbGV0IHBhZ2VIZWlnaHRTdW0gPSBub2RlSGVpZ2h0cy5yZWR1Y2UoKGEsIGIpID0+IChhICsgYiksIDApXG4gIGxldCBwYWdlU3VtID0gTWF0aC5jZWlsKHBhZ2VIZWlnaHRTdW0gLyBwYWdlSGVpZ2h0KVxuXG4gIGNvbnNvbGUubG9nKCd0b2RvOiBncm91cCBub2RlcycpXG4gIC8vIG5vZGVzID0gbm9kZXMubWFwKChub2RlLCBpbmRleCkgPT4ge1xuICAvLyAgIG5vZGUucHJvcHMuaW5kZXggPSBpbmRleFxuICAvLyAgIHJldHVybiBub2RlXG4gIC8vIH0pXG5cbiAgaWYgKG5vZGVIZWlnaHRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBbe1xuICAgICAgbm9kZXMsXG4gICAgICBtZXRhOiB7XG4gICAgICAgIHBhZ2VObzogMSxcbiAgICAgICAgb2Zmc2V0OiAwXG4gICAgICB9XG4gICAgfV1cbiAgfVxuXG4gIC8vIGZpbmFsbHlcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWdlU3VtOyBpKyspIHtcbiAgICBjb25zdCB7IHBhZ2VOb2Rlcywgb2Zmc2V0IH0gPSBnZXROb2Rlc09mUGFnZSh7IHBhZ2VJbmRleDogaSwgbm9kZXMsIG5vZGVIZWlnaHRzLCBwYWdlSGVpZ2h0IH0pXG5cbiAgICBwYWdlcy5wdXNoKHtcbiAgICAgIG5vZGVzOiBwYWdlTm9kZXMsXG4gICAgICBtZXRhOiB7XG4gICAgICAgIHBhZ2VObzogaSArIDEsXG4gICAgICAgIG9mZnNldFxuICAgICAgfSxcbiAgICB9KVxuICB9XG5cbiAgcmV0dXJuIHBhZ2VzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwZXJjZW50YWdlVG9QYWdlKHA6IG51bWJlciwgcGFnZVN1bTogbnVtYmVyKSB7XG4gIGlmIChwID4gMSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1dyb25nIHBhcmFtZXRlciEnKVxuICAgIHJldHVybiBudWxsXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KChwICogcGFnZVN1bSkgYXMgYW55KSArIDFcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL2lzb21vcnBoaWMvcm91dGVzL1ZpZXdlci9Cb29rUGFnZUxpc3QudXRpbHMudHNcbiAqKi8iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgQ1NTTW9kdWxlcyBmcm9tICdyZWFjdC1jc3MtbW9kdWxlcydcbmNvbnN0IHN0eWxlczogYW55ID0gcmVxdWlyZSgnLi9fdmlld2VyLXNjcm9sbGJhci5zY3NzJylcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgY3VycmVudDogbnVtYmVyXG4gIHRvdGFsOiBudW1iZXJcbiAgdmlzaWJsZTogYm9vbGVhblxufVxuXG5AQ1NTTW9kdWxlcyhzdHlsZXMpXG5jbGFzcyBWaWV3ZXJTY3JvbGxiYXIgZXh0ZW5kcyBDb21wb25lbnQ8UHJvcHMsIHt9PiB7XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGN1cnJlbnQsIHRvdGFsIH0gPSB0aGlzLnByb3BzXG4gICAgY29uc3QgcGVyY2VudGFnZSA9ICgoY3VycmVudCAvIHRvdGFsKSAqIDEwMCkudG9GaXhlZCgyKSArICclJ1xuXG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMucHJvcHMudmlzaWJsZSAmJiAoXG4gICAgICAgIDxkaXYgc3R5bGVOYW1lPVwibG9jLWluZm9cIj5cbiAgICAgICAgICA8ZGl2PjxzdHJvbmc+e2N1cnJlbnR9PC9zdHJvbmc+L3t0b3RhbH08L2Rpdj5cbiAgICAgICAgICA8ZGl2IHN0eWxlTmFtZT1cInN1Yi1pbmZvXCI+e3BlcmNlbnRhZ2V9PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWaWV3ZXJTY3JvbGxiYXJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9pc29tb3JwaGljL3JvdXRlcy9WaWV3ZXIvVmlld2VyU2Nyb2xsYmFyLnRzeFxuICoqLyIsIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcInNjcm9sbGJhclwiOlwic2Nyb2xsYmFyXzN2SGx0XCIsXCJidXR0b25cIjpcImJ1dHRvbl8xdmRxVVwiLFwidHJhY2tcIjpcInRyYWNrXzJGTFRBXCIsXCJ0cmFjay0tcGFzdFwiOlwidHJhY2stLXBhc3RfM1lLZDQgdHJhY2tfMkZMVEFcIixcImxvYy1pbmZvXCI6XCJsb2MtaW5mb18zNzdWdVwiLFwic3ViLWluZm9cIjpcInN1Yi1pbmZvXzNxSTV1XCJ9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvaXNvbW9ycGhpYy9yb3V0ZXMvVmlld2VyL192aWV3ZXItc2Nyb2xsYmFyLnNjc3NcbiAqKiBtb2R1bGUgaWQgPSAxNDRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcInBhZ2VzXCI6XCJwYWdlc18xU05pc1wiLFwicGFnZXMtLWZsdWlkXCI6XCJwYWdlcy0tZmx1aWRfMzlGUGUgcGFnZXNfMVNOaXNcIn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9pc29tb3JwaGljL3JvdXRlcy9WaWV3ZXIvX2Jvb2stcGFnZS1saXN0LnNjc3NcbiAqKiBtb2R1bGUgaWQgPSAxNDVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsImltcG9ydCBtYXJrZWQgZnJvbSAnbWFya2VkJ1xuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5J1xuXG4vLyDmmoLkuI3mlK/mjIHljIXlkKvlm77niYfnmoTorqHnrpdcbi8vIOiuoeeul+ayoeacieetieW+heWbvueJh+WKoOi9veWujOaIkO+8jOaJgOS7pee7k+aenOaYr+S4jeato+ehrueahFxuZXhwb3J0IGZ1bmN0aW9uIGdldE5vZGVIZWlnaHRzKG5vZGVzKSB7XG4gIGNvbnNvbGUubG9nKCdkb20gcmVhZHksIGdldE5vZGVIZWlnaHRzJylcbiAgbGV0IG5vZGVzSGVpZ2h0ID0gW11cblxuICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKG5vZGVzLCAobm9kZSwgaW5kZXgpID0+IHtcbiAgICBpZiAobm9kZS5jbGFzc05hbWUgIT09ICdnYi1saW5lJykge1xuICAgICAgY29uc29sZS5lcnJvcignVW5zdXBwb3J0ZWQgY29udGVudCBmb3VuZCEnKVxuICAgIH1cbiAgICBub2Rlc0hlaWdodC5wdXNoKG5vZGUuY2xpZW50SGVpZ2h0KVxuICB9KVxuXG4gIHJldHVybiBub2Rlc0hlaWdodFxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBtYXJrZG93blRvTm9kZVN0cmluZ0xpc3QobWFya2Rvd246IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgY29uc29sZS5sb2coJ3N0YXJ0IG1kJylcbiAgbGV0IGh0bWwgPSBtYXJrZWQobWFya2Rvd24sIHtcbiAgICBnZm06IHRydWUsXG4gICAgYnJlYWtzOiB0cnVlXG4gIH0pXG4gIGNvbnNvbGUubG9nKCdkb25lIG1hcmtlZCcpXG4gIGNvbnN0IG5vZGVzID0gQXJyYXkucHJvdG90eXBlXG4gICAgLm1hcC5jYWxsKCQoaHRtbCksIChlbGUsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoZWxlLm5vZGVUeXBlID09PSAzICYmIGVsZS5ub2RlVmFsdWUgPT09ICdcXG4nKSB7XG4gICAgICAgIC8vIOenu+mZpCBodG1sIOmHjOeahOWbnui9plxuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfVxuXG4gICAgICBpZiAoZWxlLnRhZ05hbWUgPT09ICdQJykge1xuICAgICAgICByZXR1cm4gYDxwIGNsYXNzPVwiZ2ItbGluZVwiPiR7ZWxlLmlubmVySFRNTH08L3A+YFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwiZ2ItbGluZVwiPiR7ZWxlLm91dGVySFRNTH08L2Rpdj5gXG4gICAgICB9XG4gICAgfSlcbiAgICAuZmlsdGVyKG5vZGUgPT4gbm9kZSlcbiAgLy8gY29uc29sZS5sb2cobm9kZXMpXG4gIGNvbnNvbGUubG9nKCdlbmQgbWQnKVxuICByZXR1cm4gbm9kZXNcbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9pc29tb3JwaGljL3JvdXRlcy9WaWV3ZXIvVmlld2VyLnV0aWxzLnRzXG4gKiovIiwiLyoqXG4gKiBtYXJrZWQgLSBhIG1hcmtkb3duIHBhcnNlclxuICogQ29weXJpZ2h0IChjKSAyMDExLTIwMTQsIENocmlzdG9waGVyIEplZmZyZXkuIChNSVQgTGljZW5zZWQpXG4gKiBodHRwczovL2dpdGh1Yi5jb20vY2hqai9tYXJrZWRcbiAqL1xuXG47KGZ1bmN0aW9uKCkge1xuXG4vKipcbiAqIEJsb2NrLUxldmVsIEdyYW1tYXJcbiAqL1xuXG52YXIgYmxvY2sgPSB7XG4gIG5ld2xpbmU6IC9eXFxuKy8sXG4gIGNvZGU6IC9eKCB7NH1bXlxcbl0rXFxuKikrLyxcbiAgZmVuY2VzOiBub29wLFxuICBocjogL14oICpbLSpfXSl7Myx9ICooPzpcXG4rfCQpLyxcbiAgaGVhZGluZzogL14gKigjezEsNn0pICooW15cXG5dKz8pICojKiAqKD86XFxuK3wkKS8sXG4gIG5wdGFibGU6IG5vb3AsXG4gIGxoZWFkaW5nOiAvXihbXlxcbl0rKVxcbiAqKD18LSl7Mix9ICooPzpcXG4rfCQpLyxcbiAgYmxvY2txdW90ZTogL14oICo+W15cXG5dKyhcXG4oPyFkZWYpW15cXG5dKykqXFxuKikrLyxcbiAgbGlzdDogL14oICopKGJ1bGwpIFtcXHNcXFNdKz8oPzpocnxkZWZ8XFxuezIsfSg/ISApKD8hXFwxYnVsbCApXFxuKnxcXHMqJCkvLFxuICBodG1sOiAvXiAqKD86Y29tbWVudCAqKD86XFxufFxccyokKXxjbG9zZWQgKig/OlxcbnsyLH18XFxzKiQpfGNsb3NpbmcgKig/OlxcbnsyLH18XFxzKiQpKS8sXG4gIGRlZjogL14gKlxcWyhbXlxcXV0rKVxcXTogKjw/KFteXFxzPl0rKT4/KD86ICtbXCIoXShbXlxcbl0rKVtcIildKT8gKig/Olxcbit8JCkvLFxuICB0YWJsZTogbm9vcCxcbiAgcGFyYWdyYXBoOiAvXigoPzpbXlxcbl0rXFxuPyg/IWhyfGhlYWRpbmd8bGhlYWRpbmd8YmxvY2txdW90ZXx0YWd8ZGVmKSkrKVxcbiovLFxuICB0ZXh0OiAvXlteXFxuXSsvXG59O1xuXG5ibG9jay5idWxsZXQgPSAvKD86WyorLV18XFxkK1xcLikvO1xuYmxvY2suaXRlbSA9IC9eKCAqKShidWxsKSBbXlxcbl0qKD86XFxuKD8hXFwxYnVsbCApW15cXG5dKikqLztcbmJsb2NrLml0ZW0gPSByZXBsYWNlKGJsb2NrLml0ZW0sICdnbScpXG4gICgvYnVsbC9nLCBibG9jay5idWxsZXQpXG4gICgpO1xuXG5ibG9jay5saXN0ID0gcmVwbGFjZShibG9jay5saXN0KVxuICAoL2J1bGwvZywgYmxvY2suYnVsbGV0KVxuICAoJ2hyJywgJ1xcXFxuKyg/PVxcXFwxPyg/OlstKl9dICopezMsfSg/OlxcXFxuK3wkKSknKVxuICAoJ2RlZicsICdcXFxcbisoPz0nICsgYmxvY2suZGVmLnNvdXJjZSArICcpJylcbiAgKCk7XG5cbmJsb2NrLmJsb2NrcXVvdGUgPSByZXBsYWNlKGJsb2NrLmJsb2NrcXVvdGUpXG4gICgnZGVmJywgYmxvY2suZGVmKVxuICAoKTtcblxuYmxvY2suX3RhZyA9ICcoPyEoPzonXG4gICsgJ2F8ZW18c3Ryb25nfHNtYWxsfHN8Y2l0ZXxxfGRmbnxhYmJyfGRhdGF8dGltZXxjb2RlJ1xuICArICd8dmFyfHNhbXB8a2JkfHN1YnxzdXB8aXxifHV8bWFya3xydWJ5fHJ0fHJwfGJkaXxiZG8nXG4gICsgJ3xzcGFufGJyfHdicnxpbnN8ZGVsfGltZylcXFxcYilcXFxcdysoPyE6L3xbXlxcXFx3XFxcXHNAXSpAKVxcXFxiJztcblxuYmxvY2suaHRtbCA9IHJlcGxhY2UoYmxvY2suaHRtbClcbiAgKCdjb21tZW50JywgLzwhLS1bXFxzXFxTXSo/LS0+LylcbiAgKCdjbG9zZWQnLCAvPCh0YWcpW1xcc1xcU10rPzxcXC9cXDE+LylcbiAgKCdjbG9zaW5nJywgLzx0YWcoPzpcIlteXCJdKlwifCdbXiddKid8W14nXCI+XSkqPz4vKVxuICAoL3RhZy9nLCBibG9jay5fdGFnKVxuICAoKTtcblxuYmxvY2sucGFyYWdyYXBoID0gcmVwbGFjZShibG9jay5wYXJhZ3JhcGgpXG4gICgnaHInLCBibG9jay5ocilcbiAgKCdoZWFkaW5nJywgYmxvY2suaGVhZGluZylcbiAgKCdsaGVhZGluZycsIGJsb2NrLmxoZWFkaW5nKVxuICAoJ2Jsb2NrcXVvdGUnLCBibG9jay5ibG9ja3F1b3RlKVxuICAoJ3RhZycsICc8JyArIGJsb2NrLl90YWcpXG4gICgnZGVmJywgYmxvY2suZGVmKVxuICAoKTtcblxuLyoqXG4gKiBOb3JtYWwgQmxvY2sgR3JhbW1hclxuICovXG5cbmJsb2NrLm5vcm1hbCA9IG1lcmdlKHt9LCBibG9jayk7XG5cbi8qKlxuICogR0ZNIEJsb2NrIEdyYW1tYXJcbiAqL1xuXG5ibG9jay5nZm0gPSBtZXJnZSh7fSwgYmxvY2subm9ybWFsLCB7XG4gIGZlbmNlczogL14gKihgezMsfXx+ezMsfSlbIFxcLl0qKFxcUyspPyAqXFxuKFtcXHNcXFNdKj8pXFxzKlxcMSAqKD86XFxuK3wkKS8sXG4gIHBhcmFncmFwaDogL14vLFxuICBoZWFkaW5nOiAvXiAqKCN7MSw2fSkgKyhbXlxcbl0rPykgKiMqICooPzpcXG4rfCQpL1xufSk7XG5cbmJsb2NrLmdmbS5wYXJhZ3JhcGggPSByZXBsYWNlKGJsb2NrLnBhcmFncmFwaClcbiAgKCcoPyEnLCAnKD8hJ1xuICAgICsgYmxvY2suZ2ZtLmZlbmNlcy5zb3VyY2UucmVwbGFjZSgnXFxcXDEnLCAnXFxcXDInKSArICd8J1xuICAgICsgYmxvY2subGlzdC5zb3VyY2UucmVwbGFjZSgnXFxcXDEnLCAnXFxcXDMnKSArICd8JylcbiAgKCk7XG5cbi8qKlxuICogR0ZNICsgVGFibGVzIEJsb2NrIEdyYW1tYXJcbiAqL1xuXG5ibG9jay50YWJsZXMgPSBtZXJnZSh7fSwgYmxvY2suZ2ZtLCB7XG4gIG5wdGFibGU6IC9eICooXFxTLipcXHwuKilcXG4gKihbLTpdKyAqXFx8Wy18IDpdKilcXG4oKD86LipcXHwuKig/OlxcbnwkKSkqKVxcbiovLFxuICB0YWJsZTogL14gKlxcfCguKylcXG4gKlxcfCggKlstOl0rWy18IDpdKilcXG4oKD86ICpcXHwuKig/OlxcbnwkKSkqKVxcbiovXG59KTtcblxuLyoqXG4gKiBCbG9jayBMZXhlclxuICovXG5cbmZ1bmN0aW9uIExleGVyKG9wdGlvbnMpIHtcbiAgdGhpcy50b2tlbnMgPSBbXTtcbiAgdGhpcy50b2tlbnMubGlua3MgPSB7fTtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCBtYXJrZWQuZGVmYXVsdHM7XG4gIHRoaXMucnVsZXMgPSBibG9jay5ub3JtYWw7XG5cbiAgaWYgKHRoaXMub3B0aW9ucy5nZm0pIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLnRhYmxlcykge1xuICAgICAgdGhpcy5ydWxlcyA9IGJsb2NrLnRhYmxlcztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ydWxlcyA9IGJsb2NrLmdmbTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBFeHBvc2UgQmxvY2sgUnVsZXNcbiAqL1xuXG5MZXhlci5ydWxlcyA9IGJsb2NrO1xuXG4vKipcbiAqIFN0YXRpYyBMZXggTWV0aG9kXG4gKi9cblxuTGV4ZXIubGV4ID0gZnVuY3Rpb24oc3JjLCBvcHRpb25zKSB7XG4gIHZhciBsZXhlciA9IG5ldyBMZXhlcihvcHRpb25zKTtcbiAgcmV0dXJuIGxleGVyLmxleChzcmMpO1xufTtcblxuLyoqXG4gKiBQcmVwcm9jZXNzaW5nXG4gKi9cblxuTGV4ZXIucHJvdG90eXBlLmxleCA9IGZ1bmN0aW9uKHNyYykge1xuICBzcmMgPSBzcmNcbiAgICAucmVwbGFjZSgvXFxyXFxufFxcci9nLCAnXFxuJylcbiAgICAucmVwbGFjZSgvXFx0L2csICcgICAgJylcbiAgICAucmVwbGFjZSgvXFx1MDBhMC9nLCAnICcpXG4gICAgLnJlcGxhY2UoL1xcdTI0MjQvZywgJ1xcbicpO1xuXG4gIHJldHVybiB0aGlzLnRva2VuKHNyYywgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIExleGluZ1xuICovXG5cbkxleGVyLnByb3RvdHlwZS50b2tlbiA9IGZ1bmN0aW9uKHNyYywgdG9wLCBicSkge1xuICB2YXIgc3JjID0gc3JjLnJlcGxhY2UoL14gKyQvZ20sICcnKVxuICAgICwgbmV4dFxuICAgICwgbG9vc2VcbiAgICAsIGNhcFxuICAgICwgYnVsbFxuICAgICwgYlxuICAgICwgaXRlbVxuICAgICwgc3BhY2VcbiAgICAsIGlcbiAgICAsIGw7XG5cbiAgd2hpbGUgKHNyYykge1xuICAgIC8vIG5ld2xpbmVcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5uZXdsaW5lLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIGlmIChjYXBbMF0ubGVuZ3RoID4gMSkge1xuICAgICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiAnc3BhY2UnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGNvZGVcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5jb2RlLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIGNhcCA9IGNhcFswXS5yZXBsYWNlKC9eIHs0fS9nbSwgJycpO1xuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdjb2RlJyxcbiAgICAgICAgdGV4dDogIXRoaXMub3B0aW9ucy5wZWRhbnRpY1xuICAgICAgICAgID8gY2FwLnJlcGxhY2UoL1xcbiskLywgJycpXG4gICAgICAgICAgOiBjYXBcbiAgICAgIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gZmVuY2VzIChnZm0pXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuZmVuY2VzLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAnY29kZScsXG4gICAgICAgIGxhbmc6IGNhcFsyXSxcbiAgICAgICAgdGV4dDogY2FwWzNdIHx8ICcnXG4gICAgICB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGhlYWRpbmdcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5oZWFkaW5nLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAnaGVhZGluZycsXG4gICAgICAgIGRlcHRoOiBjYXBbMV0ubGVuZ3RoLFxuICAgICAgICB0ZXh0OiBjYXBbMl1cbiAgICAgIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gdGFibGUgbm8gbGVhZGluZyBwaXBlIChnZm0pXG4gICAgaWYgKHRvcCAmJiAoY2FwID0gdGhpcy5ydWxlcy5ucHRhYmxlLmV4ZWMoc3JjKSkpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG5cbiAgICAgIGl0ZW0gPSB7XG4gICAgICAgIHR5cGU6ICd0YWJsZScsXG4gICAgICAgIGhlYWRlcjogY2FwWzFdLnJlcGxhY2UoL14gKnwgKlxcfCAqJC9nLCAnJykuc3BsaXQoLyAqXFx8ICovKSxcbiAgICAgICAgYWxpZ246IGNhcFsyXS5yZXBsYWNlKC9eICp8XFx8ICokL2csICcnKS5zcGxpdCgvICpcXHwgKi8pLFxuICAgICAgICBjZWxsczogY2FwWzNdLnJlcGxhY2UoL1xcbiQvLCAnJykuc3BsaXQoJ1xcbicpXG4gICAgICB9O1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbS5hbGlnbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoL14gKi0rOiAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSAncmlnaHQnO1xuICAgICAgICB9IGVsc2UgaWYgKC9eICo6LSs6ICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdjZW50ZXInO1xuICAgICAgICB9IGVsc2UgaWYgKC9eICo6LSsgKiQvLnRlc3QoaXRlbS5hbGlnbltpXSkpIHtcbiAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ2xlZnQnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBpdGVtLmNlbGxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGl0ZW0uY2VsbHNbaV0gPSBpdGVtLmNlbGxzW2ldLnNwbGl0KC8gKlxcfCAqLyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudG9rZW5zLnB1c2goaXRlbSk7XG5cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGxoZWFkaW5nXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMubGhlYWRpbmcuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdoZWFkaW5nJyxcbiAgICAgICAgZGVwdGg6IGNhcFsyXSA9PT0gJz0nID8gMSA6IDIsXG4gICAgICAgIHRleHQ6IGNhcFsxXVxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBoclxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmhyLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAnaHInXG4gICAgICB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGJsb2NrcXVvdGVcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5ibG9ja3F1b3RlLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcblxuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdibG9ja3F1b3RlX3N0YXJ0J1xuICAgICAgfSk7XG5cbiAgICAgIGNhcCA9IGNhcFswXS5yZXBsYWNlKC9eICo+ID8vZ20sICcnKTtcblxuICAgICAgLy8gUGFzcyBgdG9wYCB0byBrZWVwIHRoZSBjdXJyZW50XG4gICAgICAvLyBcInRvcGxldmVsXCIgc3RhdGUuIFRoaXMgaXMgZXhhY3RseVxuICAgICAgLy8gaG93IG1hcmtkb3duLnBsIHdvcmtzLlxuICAgICAgdGhpcy50b2tlbihjYXAsIHRvcCwgdHJ1ZSk7XG5cbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAnYmxvY2txdW90ZV9lbmQnXG4gICAgICB9KTtcblxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gbGlzdFxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmxpc3QuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgYnVsbCA9IGNhcFsyXTtcblxuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6ICdsaXN0X3N0YXJ0JyxcbiAgICAgICAgb3JkZXJlZDogYnVsbC5sZW5ndGggPiAxXG4gICAgICB9KTtcblxuICAgICAgLy8gR2V0IGVhY2ggdG9wLWxldmVsIGl0ZW0uXG4gICAgICBjYXAgPSBjYXBbMF0ubWF0Y2godGhpcy5ydWxlcy5pdGVtKTtcblxuICAgICAgbmV4dCA9IGZhbHNlO1xuICAgICAgbCA9IGNhcC5sZW5ndGg7XG4gICAgICBpID0gMDtcblxuICAgICAgZm9yICg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaXRlbSA9IGNhcFtpXTtcblxuICAgICAgICAvLyBSZW1vdmUgdGhlIGxpc3QgaXRlbSdzIGJ1bGxldFxuICAgICAgICAvLyBzbyBpdCBpcyBzZWVuIGFzIHRoZSBuZXh0IHRva2VuLlxuICAgICAgICBzcGFjZSA9IGl0ZW0ubGVuZ3RoO1xuICAgICAgICBpdGVtID0gaXRlbS5yZXBsYWNlKC9eICooWyorLV18XFxkK1xcLikgKy8sICcnKTtcblxuICAgICAgICAvLyBPdXRkZW50IHdoYXRldmVyIHRoZVxuICAgICAgICAvLyBsaXN0IGl0ZW0gY29udGFpbnMuIEhhY2t5LlxuICAgICAgICBpZiAofml0ZW0uaW5kZXhPZignXFxuICcpKSB7XG4gICAgICAgICAgc3BhY2UgLT0gaXRlbS5sZW5ndGg7XG4gICAgICAgICAgaXRlbSA9ICF0aGlzLm9wdGlvbnMucGVkYW50aWNcbiAgICAgICAgICAgID8gaXRlbS5yZXBsYWNlKG5ldyBSZWdFeHAoJ14gezEsJyArIHNwYWNlICsgJ30nLCAnZ20nKSwgJycpXG4gICAgICAgICAgICA6IGl0ZW0ucmVwbGFjZSgvXiB7MSw0fS9nbSwgJycpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIG5leHQgbGlzdCBpdGVtIGJlbG9uZ3MgaGVyZS5cbiAgICAgICAgLy8gQmFja3BlZGFsIGlmIGl0IGRvZXMgbm90IGJlbG9uZyBpbiB0aGlzIGxpc3QuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc21hcnRMaXN0cyAmJiBpICE9PSBsIC0gMSkge1xuICAgICAgICAgIGIgPSBibG9jay5idWxsZXQuZXhlYyhjYXBbaSArIDFdKVswXTtcbiAgICAgICAgICBpZiAoYnVsbCAhPT0gYiAmJiAhKGJ1bGwubGVuZ3RoID4gMSAmJiBiLmxlbmd0aCA+IDEpKSB7XG4gICAgICAgICAgICBzcmMgPSBjYXAuc2xpY2UoaSArIDEpLmpvaW4oJ1xcbicpICsgc3JjO1xuICAgICAgICAgICAgaSA9IGwgLSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERldGVybWluZSB3aGV0aGVyIGl0ZW0gaXMgbG9vc2Ugb3Igbm90LlxuICAgICAgICAvLyBVc2U6IC8oXnxcXG4pKD8hIClbXlxcbl0rXFxuXFxuKD8hXFxzKiQpL1xuICAgICAgICAvLyBmb3IgZGlzY291bnQgYmVoYXZpb3IuXG4gICAgICAgIGxvb3NlID0gbmV4dCB8fCAvXFxuXFxuKD8hXFxzKiQpLy50ZXN0KGl0ZW0pO1xuICAgICAgICBpZiAoaSAhPT0gbCAtIDEpIHtcbiAgICAgICAgICBuZXh0ID0gaXRlbS5jaGFyQXQoaXRlbS5sZW5ndGggLSAxKSA9PT0gJ1xcbic7XG4gICAgICAgICAgaWYgKCFsb29zZSkgbG9vc2UgPSBuZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgICAgdHlwZTogbG9vc2VcbiAgICAgICAgICAgID8gJ2xvb3NlX2l0ZW1fc3RhcnQnXG4gICAgICAgICAgICA6ICdsaXN0X2l0ZW1fc3RhcnQnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFJlY3Vyc2UuXG4gICAgICAgIHRoaXMudG9rZW4oaXRlbSwgZmFsc2UsIGJxKTtcblxuICAgICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiAnbGlzdF9pdGVtX2VuZCdcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAnbGlzdF9lbmQnXG4gICAgICB9KTtcblxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gaHRtbFxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmh0bWwuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGhpcy50b2tlbnMucHVzaCh7XG4gICAgICAgIHR5cGU6IHRoaXMub3B0aW9ucy5zYW5pdGl6ZVxuICAgICAgICAgID8gJ3BhcmFncmFwaCdcbiAgICAgICAgICA6ICdodG1sJyxcbiAgICAgICAgcHJlOiAhdGhpcy5vcHRpb25zLnNhbml0aXplclxuICAgICAgICAgICYmIChjYXBbMV0gPT09ICdwcmUnIHx8IGNhcFsxXSA9PT0gJ3NjcmlwdCcgfHwgY2FwWzFdID09PSAnc3R5bGUnKSxcbiAgICAgICAgdGV4dDogY2FwWzBdXG4gICAgICB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGRlZlxuICAgIGlmICgoIWJxICYmIHRvcCkgJiYgKGNhcCA9IHRoaXMucnVsZXMuZGVmLmV4ZWMoc3JjKSkpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICB0aGlzLnRva2Vucy5saW5rc1tjYXBbMV0udG9Mb3dlckNhc2UoKV0gPSB7XG4gICAgICAgIGhyZWY6IGNhcFsyXSxcbiAgICAgICAgdGl0bGU6IGNhcFszXVxuICAgICAgfTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHRhYmxlIChnZm0pXG4gICAgaWYgKHRvcCAmJiAoY2FwID0gdGhpcy5ydWxlcy50YWJsZS5leGVjKHNyYykpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuXG4gICAgICBpdGVtID0ge1xuICAgICAgICB0eXBlOiAndGFibGUnLFxuICAgICAgICBoZWFkZXI6IGNhcFsxXS5yZXBsYWNlKC9eICp8ICpcXHwgKiQvZywgJycpLnNwbGl0KC8gKlxcfCAqLyksXG4gICAgICAgIGFsaWduOiBjYXBbMl0ucmVwbGFjZSgvXiAqfFxcfCAqJC9nLCAnJykuc3BsaXQoLyAqXFx8ICovKSxcbiAgICAgICAgY2VsbHM6IGNhcFszXS5yZXBsYWNlKC8oPzogKlxcfCAqKT9cXG4kLywgJycpLnNwbGl0KCdcXG4nKVxuICAgICAgfTtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGl0ZW0uYWxpZ24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKC9eICotKzogKiQvLnRlc3QoaXRlbS5hbGlnbltpXSkpIHtcbiAgICAgICAgICBpdGVtLmFsaWduW2ldID0gJ3JpZ2h0JztcbiAgICAgICAgfSBlbHNlIGlmICgvXiAqOi0rOiAqJC8udGVzdChpdGVtLmFsaWduW2ldKSkge1xuICAgICAgICAgIGl0ZW0uYWxpZ25baV0gPSAnY2VudGVyJztcbiAgICAgICAgfSBlbHNlIGlmICgvXiAqOi0rICokLy50ZXN0KGl0ZW0uYWxpZ25baV0pKSB7XG4gICAgICAgICAgaXRlbS5hbGlnbltpXSA9ICdsZWZ0JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtLmFsaWduW2ldID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbS5jZWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpdGVtLmNlbGxzW2ldID0gaXRlbS5jZWxsc1tpXVxuICAgICAgICAgIC5yZXBsYWNlKC9eICpcXHwgKnwgKlxcfCAqJC9nLCAnJylcbiAgICAgICAgICAuc3BsaXQoLyAqXFx8ICovKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy50b2tlbnMucHVzaChpdGVtKTtcblxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gdG9wLWxldmVsIHBhcmFncmFwaFxuICAgIGlmICh0b3AgJiYgKGNhcCA9IHRoaXMucnVsZXMucGFyYWdyYXBoLmV4ZWMoc3JjKSkpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICB0aGlzLnRva2Vucy5wdXNoKHtcbiAgICAgICAgdHlwZTogJ3BhcmFncmFwaCcsXG4gICAgICAgIHRleHQ6IGNhcFsxXS5jaGFyQXQoY2FwWzFdLmxlbmd0aCAtIDEpID09PSAnXFxuJ1xuICAgICAgICAgID8gY2FwWzFdLnNsaWNlKDAsIC0xKVxuICAgICAgICAgIDogY2FwWzFdXG4gICAgICB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHRleHRcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy50ZXh0LmV4ZWMoc3JjKSkge1xuICAgICAgLy8gVG9wLWxldmVsIHNob3VsZCBuZXZlciByZWFjaCBoZXJlLlxuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xuICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgIHRleHQ6IGNhcFswXVxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoc3JjKSB7XG4gICAgICB0aHJvdyBuZXdcbiAgICAgICAgRXJyb3IoJ0luZmluaXRlIGxvb3Agb24gYnl0ZTogJyArIHNyYy5jaGFyQ29kZUF0KDApKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcy50b2tlbnM7XG59O1xuXG4vKipcbiAqIElubGluZS1MZXZlbCBHcmFtbWFyXG4gKi9cblxudmFyIGlubGluZSA9IHtcbiAgZXNjYXBlOiAvXlxcXFwoW1xcXFxgKnt9XFxbXFxdKCkjK1xcLS4hXz5dKS8sXG4gIGF1dG9saW5rOiAvXjwoW14gPl0rKEB8OlxcLylbXiA+XSspPi8sXG4gIHVybDogbm9vcCxcbiAgdGFnOiAvXjwhLS1bXFxzXFxTXSo/LS0+fF48XFwvP1xcdysoPzpcIlteXCJdKlwifCdbXiddKid8W14nXCI+XSkqPz4vLFxuICBsaW5rOiAvXiE/XFxbKGluc2lkZSlcXF1cXChocmVmXFwpLyxcbiAgcmVmbGluazogL14hP1xcWyhpbnNpZGUpXFxdXFxzKlxcWyhbXlxcXV0qKVxcXS8sXG4gIG5vbGluazogL14hP1xcWygoPzpcXFtbXlxcXV0qXFxdfFteXFxbXFxdXSkqKVxcXS8sXG4gIHN0cm9uZzogL15fXyhbXFxzXFxTXSs/KV9fKD8hXyl8XlxcKlxcKihbXFxzXFxTXSs/KVxcKlxcKig/IVxcKikvLFxuICBlbTogL15cXGJfKCg/OlteX118X18pKz8pX1xcYnxeXFwqKCg/OlxcKlxcKnxbXFxzXFxTXSkrPylcXCooPyFcXCopLyxcbiAgY29kZTogL14oYCspXFxzKihbXFxzXFxTXSo/W15gXSlcXHMqXFwxKD8hYCkvLFxuICBicjogL14gezIsfVxcbig/IVxccyokKS8sXG4gIGRlbDogbm9vcCxcbiAgdGV4dDogL15bXFxzXFxTXSs/KD89W1xcXFw8IVxcW18qYF18IHsyLH1cXG58JCkvXG59O1xuXG5pbmxpbmUuX2luc2lkZSA9IC8oPzpcXFtbXlxcXV0qXFxdfFteXFxbXFxdXXxcXF0oPz1bXlxcW10qXFxdKSkqLztcbmlubGluZS5faHJlZiA9IC9cXHMqPD8oW1xcc1xcU10qPyk+Pyg/OlxccytbJ1wiXShbXFxzXFxTXSo/KVsnXCJdKT9cXHMqLztcblxuaW5saW5lLmxpbmsgPSByZXBsYWNlKGlubGluZS5saW5rKVxuICAoJ2luc2lkZScsIGlubGluZS5faW5zaWRlKVxuICAoJ2hyZWYnLCBpbmxpbmUuX2hyZWYpXG4gICgpO1xuXG5pbmxpbmUucmVmbGluayA9IHJlcGxhY2UoaW5saW5lLnJlZmxpbmspXG4gICgnaW5zaWRlJywgaW5saW5lLl9pbnNpZGUpXG4gICgpO1xuXG4vKipcbiAqIE5vcm1hbCBJbmxpbmUgR3JhbW1hclxuICovXG5cbmlubGluZS5ub3JtYWwgPSBtZXJnZSh7fSwgaW5saW5lKTtcblxuLyoqXG4gKiBQZWRhbnRpYyBJbmxpbmUgR3JhbW1hclxuICovXG5cbmlubGluZS5wZWRhbnRpYyA9IG1lcmdlKHt9LCBpbmxpbmUubm9ybWFsLCB7XG4gIHN0cm9uZzogL15fXyg/PVxcUykoW1xcc1xcU10qP1xcUylfXyg/IV8pfF5cXCpcXCooPz1cXFMpKFtcXHNcXFNdKj9cXFMpXFwqXFwqKD8hXFwqKS8sXG4gIGVtOiAvXl8oPz1cXFMpKFtcXHNcXFNdKj9cXFMpXyg/IV8pfF5cXCooPz1cXFMpKFtcXHNcXFNdKj9cXFMpXFwqKD8hXFwqKS9cbn0pO1xuXG4vKipcbiAqIEdGTSBJbmxpbmUgR3JhbW1hclxuICovXG5cbmlubGluZS5nZm0gPSBtZXJnZSh7fSwgaW5saW5lLm5vcm1hbCwge1xuICBlc2NhcGU6IHJlcGxhY2UoaW5saW5lLmVzY2FwZSkoJ10pJywgJ358XSknKSgpLFxuICB1cmw6IC9eKGh0dHBzPzpcXC9cXC9bXlxcczxdK1tePC4sOjtcIicpXFxdXFxzXSkvLFxuICBkZWw6IC9efn4oPz1cXFMpKFtcXHNcXFNdKj9cXFMpfn4vLFxuICB0ZXh0OiByZXBsYWNlKGlubGluZS50ZXh0KVxuICAgICgnXXwnLCAnfl18JylcbiAgICAoJ3wnLCAnfGh0dHBzPzovL3wnKVxuICAgICgpXG59KTtcblxuLyoqXG4gKiBHRk0gKyBMaW5lIEJyZWFrcyBJbmxpbmUgR3JhbW1hclxuICovXG5cbmlubGluZS5icmVha3MgPSBtZXJnZSh7fSwgaW5saW5lLmdmbSwge1xuICBicjogcmVwbGFjZShpbmxpbmUuYnIpKCd7Mix9JywgJyonKSgpLFxuICB0ZXh0OiByZXBsYWNlKGlubGluZS5nZm0udGV4dCkoJ3syLH0nLCAnKicpKClcbn0pO1xuXG4vKipcbiAqIElubGluZSBMZXhlciAmIENvbXBpbGVyXG4gKi9cblxuZnVuY3Rpb24gSW5saW5lTGV4ZXIobGlua3MsIG9wdGlvbnMpIHtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCBtYXJrZWQuZGVmYXVsdHM7XG4gIHRoaXMubGlua3MgPSBsaW5rcztcbiAgdGhpcy5ydWxlcyA9IGlubGluZS5ub3JtYWw7XG4gIHRoaXMucmVuZGVyZXIgPSB0aGlzLm9wdGlvbnMucmVuZGVyZXIgfHwgbmV3IFJlbmRlcmVyO1xuICB0aGlzLnJlbmRlcmVyLm9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgaWYgKCF0aGlzLmxpbmtzKSB7XG4gICAgdGhyb3cgbmV3XG4gICAgICBFcnJvcignVG9rZW5zIGFycmF5IHJlcXVpcmVzIGEgYGxpbmtzYCBwcm9wZXJ0eS4nKTtcbiAgfVxuXG4gIGlmICh0aGlzLm9wdGlvbnMuZ2ZtKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5icmVha3MpIHtcbiAgICAgIHRoaXMucnVsZXMgPSBpbmxpbmUuYnJlYWtzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJ1bGVzID0gaW5saW5lLmdmbTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLnBlZGFudGljKSB7XG4gICAgdGhpcy5ydWxlcyA9IGlubGluZS5wZWRhbnRpYztcbiAgfVxufVxuXG4vKipcbiAqIEV4cG9zZSBJbmxpbmUgUnVsZXNcbiAqL1xuXG5JbmxpbmVMZXhlci5ydWxlcyA9IGlubGluZTtcblxuLyoqXG4gKiBTdGF0aWMgTGV4aW5nL0NvbXBpbGluZyBNZXRob2RcbiAqL1xuXG5JbmxpbmVMZXhlci5vdXRwdXQgPSBmdW5jdGlvbihzcmMsIGxpbmtzLCBvcHRpb25zKSB7XG4gIHZhciBpbmxpbmUgPSBuZXcgSW5saW5lTGV4ZXIobGlua3MsIG9wdGlvbnMpO1xuICByZXR1cm4gaW5saW5lLm91dHB1dChzcmMpO1xufTtcblxuLyoqXG4gKiBMZXhpbmcvQ29tcGlsaW5nXG4gKi9cblxuSW5saW5lTGV4ZXIucHJvdG90eXBlLm91dHB1dCA9IGZ1bmN0aW9uKHNyYykge1xuICB2YXIgb3V0ID0gJydcbiAgICAsIGxpbmtcbiAgICAsIHRleHRcbiAgICAsIGhyZWZcbiAgICAsIGNhcDtcblxuICB3aGlsZSAoc3JjKSB7XG4gICAgLy8gZXNjYXBlXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuZXNjYXBlLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIG91dCArPSBjYXBbMV07XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBhdXRvbGlua1xuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmF1dG9saW5rLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIGlmIChjYXBbMl0gPT09ICdAJykge1xuICAgICAgICB0ZXh0ID0gY2FwWzFdLmNoYXJBdCg2KSA9PT0gJzonXG4gICAgICAgICAgPyB0aGlzLm1hbmdsZShjYXBbMV0uc3Vic3RyaW5nKDcpKVxuICAgICAgICAgIDogdGhpcy5tYW5nbGUoY2FwWzFdKTtcbiAgICAgICAgaHJlZiA9IHRoaXMubWFuZ2xlKCdtYWlsdG86JykgKyB0ZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGV4dCA9IGVzY2FwZShjYXBbMV0pO1xuICAgICAgICBocmVmID0gdGV4dDtcbiAgICAgIH1cbiAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmxpbmsoaHJlZiwgbnVsbCwgdGV4dCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyB1cmwgKGdmbSlcbiAgICBpZiAoIXRoaXMuaW5MaW5rICYmIChjYXAgPSB0aGlzLnJ1bGVzLnVybC5leGVjKHNyYykpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgdGV4dCA9IGVzY2FwZShjYXBbMV0pO1xuICAgICAgaHJlZiA9IHRleHQ7XG4gICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5saW5rKGhyZWYsIG51bGwsIHRleHQpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gdGFnXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMudGFnLmV4ZWMoc3JjKSkge1xuICAgICAgaWYgKCF0aGlzLmluTGluayAmJiAvXjxhIC9pLnRlc3QoY2FwWzBdKSkge1xuICAgICAgICB0aGlzLmluTGluayA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaW5MaW5rICYmIC9ePFxcL2E+L2kudGVzdChjYXBbMF0pKSB7XG4gICAgICAgIHRoaXMuaW5MaW5rID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgb3V0ICs9IHRoaXMub3B0aW9ucy5zYW5pdGl6ZVxuICAgICAgICA/IHRoaXMub3B0aW9ucy5zYW5pdGl6ZXJcbiAgICAgICAgICA/IHRoaXMub3B0aW9ucy5zYW5pdGl6ZXIoY2FwWzBdKVxuICAgICAgICAgIDogZXNjYXBlKGNhcFswXSlcbiAgICAgICAgOiBjYXBbMF1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGxpbmtcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5saW5rLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIHRoaXMuaW5MaW5rID0gdHJ1ZTtcbiAgICAgIG91dCArPSB0aGlzLm91dHB1dExpbmsoY2FwLCB7XG4gICAgICAgIGhyZWY6IGNhcFsyXSxcbiAgICAgICAgdGl0bGU6IGNhcFszXVxuICAgICAgfSk7XG4gICAgICB0aGlzLmluTGluayA9IGZhbHNlO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gcmVmbGluaywgbm9saW5rXG4gICAgaWYgKChjYXAgPSB0aGlzLnJ1bGVzLnJlZmxpbmsuZXhlYyhzcmMpKVxuICAgICAgICB8fCAoY2FwID0gdGhpcy5ydWxlcy5ub2xpbmsuZXhlYyhzcmMpKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIGxpbmsgPSAoY2FwWzJdIHx8IGNhcFsxXSkucmVwbGFjZSgvXFxzKy9nLCAnICcpO1xuICAgICAgbGluayA9IHRoaXMubGlua3NbbGluay50b0xvd2VyQ2FzZSgpXTtcbiAgICAgIGlmICghbGluayB8fCAhbGluay5ocmVmKSB7XG4gICAgICAgIG91dCArPSBjYXBbMF0uY2hhckF0KDApO1xuICAgICAgICBzcmMgPSBjYXBbMF0uc3Vic3RyaW5nKDEpICsgc3JjO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaW5MaW5rID0gdHJ1ZTtcbiAgICAgIG91dCArPSB0aGlzLm91dHB1dExpbmsoY2FwLCBsaW5rKTtcbiAgICAgIHRoaXMuaW5MaW5rID0gZmFsc2U7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBzdHJvbmdcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5zdHJvbmcuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuc3Ryb25nKHRoaXMub3V0cHV0KGNhcFsyXSB8fCBjYXBbMV0pKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGVtXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuZW0uZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuZW0odGhpcy5vdXRwdXQoY2FwWzJdIHx8IGNhcFsxXSkpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gY29kZVxuICAgIGlmIChjYXAgPSB0aGlzLnJ1bGVzLmNvZGUuZXhlYyhzcmMpKSB7XG4gICAgICBzcmMgPSBzcmMuc3Vic3RyaW5nKGNhcFswXS5sZW5ndGgpO1xuICAgICAgb3V0ICs9IHRoaXMucmVuZGVyZXIuY29kZXNwYW4oZXNjYXBlKGNhcFsyXSwgdHJ1ZSkpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gYnJcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy5ici5leGVjKHNyYykpIHtcbiAgICAgIHNyYyA9IHNyYy5zdWJzdHJpbmcoY2FwWzBdLmxlbmd0aCk7XG4gICAgICBvdXQgKz0gdGhpcy5yZW5kZXJlci5icigpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gZGVsIChnZm0pXG4gICAgaWYgKGNhcCA9IHRoaXMucnVsZXMuZGVsLmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLmRlbCh0aGlzLm91dHB1dChjYXBbMV0pKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIHRleHRcbiAgICBpZiAoY2FwID0gdGhpcy5ydWxlcy50ZXh0LmV4ZWMoc3JjKSkge1xuICAgICAgc3JjID0gc3JjLnN1YnN0cmluZyhjYXBbMF0ubGVuZ3RoKTtcbiAgICAgIG91dCArPSB0aGlzLnJlbmRlcmVyLnRleHQoZXNjYXBlKHRoaXMuc21hcnR5cGFudHMoY2FwWzBdKSkpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKHNyYykge1xuICAgICAgdGhyb3cgbmV3XG4gICAgICAgIEVycm9yKCdJbmZpbml0ZSBsb29wIG9uIGJ5dGU6ICcgKyBzcmMuY2hhckNvZGVBdCgwKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG91dDtcbn07XG5cbi8qKlxuICogQ29tcGlsZSBMaW5rXG4gKi9cblxuSW5saW5lTGV4ZXIucHJvdG90eXBlLm91dHB1dExpbmsgPSBmdW5jdGlvbihjYXAsIGxpbmspIHtcbiAgdmFyIGhyZWYgPSBlc2NhcGUobGluay5ocmVmKVxuICAgICwgdGl0bGUgPSBsaW5rLnRpdGxlID8gZXNjYXBlKGxpbmsudGl0bGUpIDogbnVsbDtcblxuICByZXR1cm4gY2FwWzBdLmNoYXJBdCgwKSAhPT0gJyEnXG4gICAgPyB0aGlzLnJlbmRlcmVyLmxpbmsoaHJlZiwgdGl0bGUsIHRoaXMub3V0cHV0KGNhcFsxXSkpXG4gICAgOiB0aGlzLnJlbmRlcmVyLmltYWdlKGhyZWYsIHRpdGxlLCBlc2NhcGUoY2FwWzFdKSk7XG59O1xuXG4vKipcbiAqIFNtYXJ0eXBhbnRzIFRyYW5zZm9ybWF0aW9uc1xuICovXG5cbklubGluZUxleGVyLnByb3RvdHlwZS5zbWFydHlwYW50cyA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgaWYgKCF0aGlzLm9wdGlvbnMuc21hcnR5cGFudHMpIHJldHVybiB0ZXh0O1xuICByZXR1cm4gdGV4dFxuICAgIC8vIGVtLWRhc2hlc1xuICAgIC5yZXBsYWNlKC8tLS0vZywgJ1xcdTIwMTQnKVxuICAgIC8vIGVuLWRhc2hlc1xuICAgIC5yZXBsYWNlKC8tLS9nLCAnXFx1MjAxMycpXG4gICAgLy8gb3BlbmluZyBzaW5nbGVzXG4gICAgLnJlcGxhY2UoLyhefFstXFx1MjAxNC8oXFxbe1wiXFxzXSknL2csICckMVxcdTIwMTgnKVxuICAgIC8vIGNsb3Npbmcgc2luZ2xlcyAmIGFwb3N0cm9waGVzXG4gICAgLnJlcGxhY2UoLycvZywgJ1xcdTIwMTknKVxuICAgIC8vIG9wZW5pbmcgZG91Ymxlc1xuICAgIC5yZXBsYWNlKC8oXnxbLVxcdTIwMTQvKFxcW3tcXHUyMDE4XFxzXSlcIi9nLCAnJDFcXHUyMDFjJylcbiAgICAvLyBjbG9zaW5nIGRvdWJsZXNcbiAgICAucmVwbGFjZSgvXCIvZywgJ1xcdTIwMWQnKVxuICAgIC8vIGVsbGlwc2VzXG4gICAgLnJlcGxhY2UoL1xcLnszfS9nLCAnXFx1MjAyNicpO1xufTtcblxuLyoqXG4gKiBNYW5nbGUgTGlua3NcbiAqL1xuXG5JbmxpbmVMZXhlci5wcm90b3R5cGUubWFuZ2xlID0gZnVuY3Rpb24odGV4dCkge1xuICBpZiAoIXRoaXMub3B0aW9ucy5tYW5nbGUpIHJldHVybiB0ZXh0O1xuICB2YXIgb3V0ID0gJydcbiAgICAsIGwgPSB0ZXh0Lmxlbmd0aFxuICAgICwgaSA9IDBcbiAgICAsIGNoO1xuXG4gIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgY2ggPSB0ZXh0LmNoYXJDb2RlQXQoaSk7XG4gICAgaWYgKE1hdGgucmFuZG9tKCkgPiAwLjUpIHtcbiAgICAgIGNoID0gJ3gnICsgY2gudG9TdHJpbmcoMTYpO1xuICAgIH1cbiAgICBvdXQgKz0gJyYjJyArIGNoICsgJzsnO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn07XG5cbi8qKlxuICogUmVuZGVyZXJcbiAqL1xuXG5mdW5jdGlvbiBSZW5kZXJlcihvcHRpb25zKSB7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG59XG5cblJlbmRlcmVyLnByb3RvdHlwZS5jb2RlID0gZnVuY3Rpb24oY29kZSwgbGFuZywgZXNjYXBlZCkge1xuICBpZiAodGhpcy5vcHRpb25zLmhpZ2hsaWdodCkge1xuICAgIHZhciBvdXQgPSB0aGlzLm9wdGlvbnMuaGlnaGxpZ2h0KGNvZGUsIGxhbmcpO1xuICAgIGlmIChvdXQgIT0gbnVsbCAmJiBvdXQgIT09IGNvZGUpIHtcbiAgICAgIGVzY2FwZWQgPSB0cnVlO1xuICAgICAgY29kZSA9IG91dDtcbiAgICB9XG4gIH1cblxuICBpZiAoIWxhbmcpIHtcbiAgICByZXR1cm4gJzxwcmU+PGNvZGU+J1xuICAgICAgKyAoZXNjYXBlZCA/IGNvZGUgOiBlc2NhcGUoY29kZSwgdHJ1ZSkpXG4gICAgICArICdcXG48L2NvZGU+PC9wcmU+JztcbiAgfVxuXG4gIHJldHVybiAnPHByZT48Y29kZSBjbGFzcz1cIidcbiAgICArIHRoaXMub3B0aW9ucy5sYW5nUHJlZml4XG4gICAgKyBlc2NhcGUobGFuZywgdHJ1ZSlcbiAgICArICdcIj4nXG4gICAgKyAoZXNjYXBlZCA/IGNvZGUgOiBlc2NhcGUoY29kZSwgdHJ1ZSkpXG4gICAgKyAnXFxuPC9jb2RlPjwvcHJlPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUuYmxvY2txdW90ZSA9IGZ1bmN0aW9uKHF1b3RlKSB7XG4gIHJldHVybiAnPGJsb2NrcXVvdGU+XFxuJyArIHF1b3RlICsgJzwvYmxvY2txdW90ZT5cXG4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmh0bWwgPSBmdW5jdGlvbihodG1sKSB7XG4gIHJldHVybiBodG1sO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmhlYWRpbmcgPSBmdW5jdGlvbih0ZXh0LCBsZXZlbCwgcmF3KSB7XG4gIHJldHVybiAnPGgnXG4gICAgKyBsZXZlbFxuICAgICsgJyBpZD1cIidcbiAgICArIHRoaXMub3B0aW9ucy5oZWFkZXJQcmVmaXhcbiAgICArIHJhdy50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1teXFx3XSsvZywgJy0nKVxuICAgICsgJ1wiPidcbiAgICArIHRleHRcbiAgICArICc8L2gnXG4gICAgKyBsZXZlbFxuICAgICsgJz5cXG4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmhyID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLm9wdGlvbnMueGh0bWwgPyAnPGhyLz5cXG4nIDogJzxocj5cXG4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmxpc3QgPSBmdW5jdGlvbihib2R5LCBvcmRlcmVkKSB7XG4gIHZhciB0eXBlID0gb3JkZXJlZCA/ICdvbCcgOiAndWwnO1xuICByZXR1cm4gJzwnICsgdHlwZSArICc+XFxuJyArIGJvZHkgKyAnPC8nICsgdHlwZSArICc+XFxuJztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5saXN0aXRlbSA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgcmV0dXJuICc8bGk+JyArIHRleHQgKyAnPC9saT5cXG4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLnBhcmFncmFwaCA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgcmV0dXJuICc8cD4nICsgdGV4dCArICc8L3A+XFxuJztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS50YWJsZSA9IGZ1bmN0aW9uKGhlYWRlciwgYm9keSkge1xuICByZXR1cm4gJzx0YWJsZT5cXG4nXG4gICAgKyAnPHRoZWFkPlxcbidcbiAgICArIGhlYWRlclxuICAgICsgJzwvdGhlYWQ+XFxuJ1xuICAgICsgJzx0Ym9keT5cXG4nXG4gICAgKyBib2R5XG4gICAgKyAnPC90Ym9keT5cXG4nXG4gICAgKyAnPC90YWJsZT5cXG4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLnRhYmxlcm93ID0gZnVuY3Rpb24oY29udGVudCkge1xuICByZXR1cm4gJzx0cj5cXG4nICsgY29udGVudCArICc8L3RyPlxcbic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUudGFibGVjZWxsID0gZnVuY3Rpb24oY29udGVudCwgZmxhZ3MpIHtcbiAgdmFyIHR5cGUgPSBmbGFncy5oZWFkZXIgPyAndGgnIDogJ3RkJztcbiAgdmFyIHRhZyA9IGZsYWdzLmFsaWduXG4gICAgPyAnPCcgKyB0eXBlICsgJyBzdHlsZT1cInRleHQtYWxpZ246JyArIGZsYWdzLmFsaWduICsgJ1wiPidcbiAgICA6ICc8JyArIHR5cGUgKyAnPic7XG4gIHJldHVybiB0YWcgKyBjb250ZW50ICsgJzwvJyArIHR5cGUgKyAnPlxcbic7XG59O1xuXG4vLyBzcGFuIGxldmVsIHJlbmRlcmVyXG5SZW5kZXJlci5wcm90b3R5cGUuc3Ryb25nID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gJzxzdHJvbmc+JyArIHRleHQgKyAnPC9zdHJvbmc+Jztcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5lbSA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgcmV0dXJuICc8ZW0+JyArIHRleHQgKyAnPC9lbT4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmNvZGVzcGFuID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gJzxjb2RlPicgKyB0ZXh0ICsgJzwvY29kZT4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmJyID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLm9wdGlvbnMueGh0bWwgPyAnPGJyLz4nIDogJzxicj4nO1xufTtcblxuUmVuZGVyZXIucHJvdG90eXBlLmRlbCA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgcmV0dXJuICc8ZGVsPicgKyB0ZXh0ICsgJzwvZGVsPic7XG59O1xuXG5SZW5kZXJlci5wcm90b3R5cGUubGluayA9IGZ1bmN0aW9uKGhyZWYsIHRpdGxlLCB0ZXh0KSB7XG4gIGlmICh0aGlzLm9wdGlvbnMuc2FuaXRpemUpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIHByb3QgPSBkZWNvZGVVUklDb21wb25lbnQodW5lc2NhcGUoaHJlZikpXG4gICAgICAgIC5yZXBsYWNlKC9bXlxcdzpdL2csICcnKVxuICAgICAgICAudG9Mb3dlckNhc2UoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGlmIChwcm90LmluZGV4T2YoJ2phdmFzY3JpcHQ6JykgPT09IDAgfHwgcHJvdC5pbmRleE9mKCd2YnNjcmlwdDonKSA9PT0gMCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfVxuICB2YXIgb3V0ID0gJzxhIGhyZWY9XCInICsgaHJlZiArICdcIic7XG4gIGlmICh0aXRsZSkge1xuICAgIG91dCArPSAnIHRpdGxlPVwiJyArIHRpdGxlICsgJ1wiJztcbiAgfVxuICBvdXQgKz0gJz4nICsgdGV4dCArICc8L2E+JztcbiAgcmV0dXJuIG91dDtcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS5pbWFnZSA9IGZ1bmN0aW9uKGhyZWYsIHRpdGxlLCB0ZXh0KSB7XG4gIHZhciBvdXQgPSAnPGltZyBzcmM9XCInICsgaHJlZiArICdcIiBhbHQ9XCInICsgdGV4dCArICdcIic7XG4gIGlmICh0aXRsZSkge1xuICAgIG91dCArPSAnIHRpdGxlPVwiJyArIHRpdGxlICsgJ1wiJztcbiAgfVxuICBvdXQgKz0gdGhpcy5vcHRpb25zLnhodG1sID8gJy8+JyA6ICc+JztcbiAgcmV0dXJuIG91dDtcbn07XG5cblJlbmRlcmVyLnByb3RvdHlwZS50ZXh0ID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gdGV4dDtcbn07XG5cbi8qKlxuICogUGFyc2luZyAmIENvbXBpbGluZ1xuICovXG5cbmZ1bmN0aW9uIFBhcnNlcihvcHRpb25zKSB7XG4gIHRoaXMudG9rZW5zID0gW107XG4gIHRoaXMudG9rZW4gPSBudWxsO1xuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IG1hcmtlZC5kZWZhdWx0cztcbiAgdGhpcy5vcHRpb25zLnJlbmRlcmVyID0gdGhpcy5vcHRpb25zLnJlbmRlcmVyIHx8IG5ldyBSZW5kZXJlcjtcbiAgdGhpcy5yZW5kZXJlciA9IHRoaXMub3B0aW9ucy5yZW5kZXJlcjtcbiAgdGhpcy5yZW5kZXJlci5vcHRpb25zID0gdGhpcy5vcHRpb25zO1xufVxuXG4vKipcbiAqIFN0YXRpYyBQYXJzZSBNZXRob2RcbiAqL1xuXG5QYXJzZXIucGFyc2UgPSBmdW5jdGlvbihzcmMsIG9wdGlvbnMsIHJlbmRlcmVyKSB7XG4gIHZhciBwYXJzZXIgPSBuZXcgUGFyc2VyKG9wdGlvbnMsIHJlbmRlcmVyKTtcbiAgcmV0dXJuIHBhcnNlci5wYXJzZShzcmMpO1xufTtcblxuLyoqXG4gKiBQYXJzZSBMb29wXG4gKi9cblxuUGFyc2VyLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKHNyYykge1xuICB0aGlzLmlubGluZSA9IG5ldyBJbmxpbmVMZXhlcihzcmMubGlua3MsIHRoaXMub3B0aW9ucywgdGhpcy5yZW5kZXJlcik7XG4gIHRoaXMudG9rZW5zID0gc3JjLnJldmVyc2UoKTtcblxuICB2YXIgb3V0ID0gJyc7XG4gIHdoaWxlICh0aGlzLm5leHQoKSkge1xuICAgIG91dCArPSB0aGlzLnRvaygpO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn07XG5cbi8qKlxuICogTmV4dCBUb2tlblxuICovXG5cblBhcnNlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy50b2tlbiA9IHRoaXMudG9rZW5zLnBvcCgpO1xufTtcblxuLyoqXG4gKiBQcmV2aWV3IE5leHQgVG9rZW5cbiAqL1xuXG5QYXJzZXIucHJvdG90eXBlLnBlZWsgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMudG9rZW5zW3RoaXMudG9rZW5zLmxlbmd0aCAtIDFdIHx8IDA7XG59O1xuXG4vKipcbiAqIFBhcnNlIFRleHQgVG9rZW5zXG4gKi9cblxuUGFyc2VyLnByb3RvdHlwZS5wYXJzZVRleHQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGJvZHkgPSB0aGlzLnRva2VuLnRleHQ7XG5cbiAgd2hpbGUgKHRoaXMucGVlaygpLnR5cGUgPT09ICd0ZXh0Jykge1xuICAgIGJvZHkgKz0gJ1xcbicgKyB0aGlzLm5leHQoKS50ZXh0O1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuaW5saW5lLm91dHB1dChib2R5KTtcbn07XG5cbi8qKlxuICogUGFyc2UgQ3VycmVudCBUb2tlblxuICovXG5cblBhcnNlci5wcm90b3R5cGUudG9rID0gZnVuY3Rpb24oKSB7XG4gIHN3aXRjaCAodGhpcy50b2tlbi50eXBlKSB7XG4gICAgY2FzZSAnc3BhY2UnOiB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGNhc2UgJ2hyJzoge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuaHIoKTtcbiAgICB9XG4gICAgY2FzZSAnaGVhZGluZyc6IHtcbiAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmhlYWRpbmcoXG4gICAgICAgIHRoaXMuaW5saW5lLm91dHB1dCh0aGlzLnRva2VuLnRleHQpLFxuICAgICAgICB0aGlzLnRva2VuLmRlcHRoLFxuICAgICAgICB0aGlzLnRva2VuLnRleHQpO1xuICAgIH1cbiAgICBjYXNlICdjb2RlJzoge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuY29kZSh0aGlzLnRva2VuLnRleHQsXG4gICAgICAgIHRoaXMudG9rZW4ubGFuZyxcbiAgICAgICAgdGhpcy50b2tlbi5lc2NhcGVkKTtcbiAgICB9XG4gICAgY2FzZSAndGFibGUnOiB7XG4gICAgICB2YXIgaGVhZGVyID0gJydcbiAgICAgICAgLCBib2R5ID0gJydcbiAgICAgICAgLCBpXG4gICAgICAgICwgcm93XG4gICAgICAgICwgY2VsbFxuICAgICAgICAsIGZsYWdzXG4gICAgICAgICwgajtcblxuICAgICAgLy8gaGVhZGVyXG4gICAgICBjZWxsID0gJyc7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy50b2tlbi5oZWFkZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZmxhZ3MgPSB7IGhlYWRlcjogdHJ1ZSwgYWxpZ246IHRoaXMudG9rZW4uYWxpZ25baV0gfTtcbiAgICAgICAgY2VsbCArPSB0aGlzLnJlbmRlcmVyLnRhYmxlY2VsbChcbiAgICAgICAgICB0aGlzLmlubGluZS5vdXRwdXQodGhpcy50b2tlbi5oZWFkZXJbaV0pLFxuICAgICAgICAgIHsgaGVhZGVyOiB0cnVlLCBhbGlnbjogdGhpcy50b2tlbi5hbGlnbltpXSB9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBoZWFkZXIgKz0gdGhpcy5yZW5kZXJlci50YWJsZXJvdyhjZWxsKTtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMudG9rZW4uY2VsbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcm93ID0gdGhpcy50b2tlbi5jZWxsc1tpXTtcblxuICAgICAgICBjZWxsID0gJyc7XG4gICAgICAgIGZvciAoaiA9IDA7IGogPCByb3cubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBjZWxsICs9IHRoaXMucmVuZGVyZXIudGFibGVjZWxsKFxuICAgICAgICAgICAgdGhpcy5pbmxpbmUub3V0cHV0KHJvd1tqXSksXG4gICAgICAgICAgICB7IGhlYWRlcjogZmFsc2UsIGFsaWduOiB0aGlzLnRva2VuLmFsaWduW2pdIH1cbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgYm9keSArPSB0aGlzLnJlbmRlcmVyLnRhYmxlcm93KGNlbGwpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIudGFibGUoaGVhZGVyLCBib2R5KTtcbiAgICB9XG4gICAgY2FzZSAnYmxvY2txdW90ZV9zdGFydCc6IHtcbiAgICAgIHZhciBib2R5ID0gJyc7XG5cbiAgICAgIHdoaWxlICh0aGlzLm5leHQoKS50eXBlICE9PSAnYmxvY2txdW90ZV9lbmQnKSB7XG4gICAgICAgIGJvZHkgKz0gdGhpcy50b2soKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuYmxvY2txdW90ZShib2R5KTtcbiAgICB9XG4gICAgY2FzZSAnbGlzdF9zdGFydCc6IHtcbiAgICAgIHZhciBib2R5ID0gJydcbiAgICAgICAgLCBvcmRlcmVkID0gdGhpcy50b2tlbi5vcmRlcmVkO1xuXG4gICAgICB3aGlsZSAodGhpcy5uZXh0KCkudHlwZSAhPT0gJ2xpc3RfZW5kJykge1xuICAgICAgICBib2R5ICs9IHRoaXMudG9rKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmxpc3QoYm9keSwgb3JkZXJlZCk7XG4gICAgfVxuICAgIGNhc2UgJ2xpc3RfaXRlbV9zdGFydCc6IHtcbiAgICAgIHZhciBib2R5ID0gJyc7XG5cbiAgICAgIHdoaWxlICh0aGlzLm5leHQoKS50eXBlICE9PSAnbGlzdF9pdGVtX2VuZCcpIHtcbiAgICAgICAgYm9keSArPSB0aGlzLnRva2VuLnR5cGUgPT09ICd0ZXh0J1xuICAgICAgICAgID8gdGhpcy5wYXJzZVRleHQoKVxuICAgICAgICAgIDogdGhpcy50b2soKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIubGlzdGl0ZW0oYm9keSk7XG4gICAgfVxuICAgIGNhc2UgJ2xvb3NlX2l0ZW1fc3RhcnQnOiB7XG4gICAgICB2YXIgYm9keSA9ICcnO1xuXG4gICAgICB3aGlsZSAodGhpcy5uZXh0KCkudHlwZSAhPT0gJ2xpc3RfaXRlbV9lbmQnKSB7XG4gICAgICAgIGJvZHkgKz0gdGhpcy50b2soKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIubGlzdGl0ZW0oYm9keSk7XG4gICAgfVxuICAgIGNhc2UgJ2h0bWwnOiB7XG4gICAgICB2YXIgaHRtbCA9ICF0aGlzLnRva2VuLnByZSAmJiAhdGhpcy5vcHRpb25zLnBlZGFudGljXG4gICAgICAgID8gdGhpcy5pbmxpbmUub3V0cHV0KHRoaXMudG9rZW4udGV4dClcbiAgICAgICAgOiB0aGlzLnRva2VuLnRleHQ7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5odG1sKGh0bWwpO1xuICAgIH1cbiAgICBjYXNlICdwYXJhZ3JhcGgnOiB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5wYXJhZ3JhcGgodGhpcy5pbmxpbmUub3V0cHV0KHRoaXMudG9rZW4udGV4dCkpO1xuICAgIH1cbiAgICBjYXNlICd0ZXh0Jzoge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIucGFyYWdyYXBoKHRoaXMucGFyc2VUZXh0KCkpO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBIZWxwZXJzXG4gKi9cblxuZnVuY3Rpb24gZXNjYXBlKGh0bWwsIGVuY29kZSkge1xuICByZXR1cm4gaHRtbFxuICAgIC5yZXBsYWNlKCFlbmNvZGUgPyAvJig/ISM/XFx3KzspL2cgOiAvJi9nLCAnJmFtcDsnKVxuICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JylcbiAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpXG4gICAgLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKVxuICAgIC5yZXBsYWNlKC8nL2csICcmIzM5OycpO1xufVxuXG5mdW5jdGlvbiB1bmVzY2FwZShodG1sKSB7XG5cdC8vIGV4cGxpY2l0bHkgbWF0Y2ggZGVjaW1hbCwgaGV4LCBhbmQgbmFtZWQgSFRNTCBlbnRpdGllcyBcbiAgcmV0dXJuIGh0bWwucmVwbGFjZSgvJigjKD86XFxkKyl8KD86I3hbMC05QS1GYS1mXSspfCg/OlxcdyspKTs/L2csIGZ1bmN0aW9uKF8sIG4pIHtcbiAgICBuID0gbi50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChuID09PSAnY29sb24nKSByZXR1cm4gJzonO1xuICAgIGlmIChuLmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgICByZXR1cm4gbi5jaGFyQXQoMSkgPT09ICd4J1xuICAgICAgICA/IFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQobi5zdWJzdHJpbmcoMiksIDE2KSlcbiAgICAgICAgOiBTdHJpbmcuZnJvbUNoYXJDb2RlKCtuLnN1YnN0cmluZygxKSk7XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlcGxhY2UocmVnZXgsIG9wdCkge1xuICByZWdleCA9IHJlZ2V4LnNvdXJjZTtcbiAgb3B0ID0gb3B0IHx8ICcnO1xuICByZXR1cm4gZnVuY3Rpb24gc2VsZihuYW1lLCB2YWwpIHtcbiAgICBpZiAoIW5hbWUpIHJldHVybiBuZXcgUmVnRXhwKHJlZ2V4LCBvcHQpO1xuICAgIHZhbCA9IHZhbC5zb3VyY2UgfHwgdmFsO1xuICAgIHZhbCA9IHZhbC5yZXBsYWNlKC8oXnxbXlxcW10pXFxeL2csICckMScpO1xuICAgIHJlZ2V4ID0gcmVnZXgucmVwbGFjZShuYW1lLCB2YWwpO1xuICAgIHJldHVybiBzZWxmO1xuICB9O1xufVxuXG5mdW5jdGlvbiBub29wKCkge31cbm5vb3AuZXhlYyA9IG5vb3A7XG5cbmZ1bmN0aW9uIG1lcmdlKG9iaikge1xuICB2YXIgaSA9IDFcbiAgICAsIHRhcmdldFxuICAgICwga2V5O1xuXG4gIGZvciAoOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdGFyZ2V0ID0gYXJndW1lbnRzW2ldO1xuICAgIGZvciAoa2V5IGluIHRhcmdldCkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YXJnZXQsIGtleSkpIHtcbiAgICAgICAgb2JqW2tleV0gPSB0YXJnZXRba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5cbi8qKlxuICogTWFya2VkXG4gKi9cblxuZnVuY3Rpb24gbWFya2VkKHNyYywgb3B0LCBjYWxsYmFjaykge1xuICBpZiAoY2FsbGJhY2sgfHwgdHlwZW9mIG9wdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmICghY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0O1xuICAgICAgb3B0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBvcHQgPSBtZXJnZSh7fSwgbWFya2VkLmRlZmF1bHRzLCBvcHQgfHwge30pO1xuXG4gICAgdmFyIGhpZ2hsaWdodCA9IG9wdC5oaWdobGlnaHRcbiAgICAgICwgdG9rZW5zXG4gICAgICAsIHBlbmRpbmdcbiAgICAgICwgaSA9IDA7XG5cbiAgICB0cnkge1xuICAgICAgdG9rZW5zID0gTGV4ZXIubGV4KHNyYywgb3B0KVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlKTtcbiAgICB9XG5cbiAgICBwZW5kaW5nID0gdG9rZW5zLmxlbmd0aDtcblxuICAgIHZhciBkb25lID0gZnVuY3Rpb24oZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIG9wdC5oaWdobGlnaHQgPSBoaWdobGlnaHQ7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgb3V0O1xuXG4gICAgICB0cnkge1xuICAgICAgICBvdXQgPSBQYXJzZXIucGFyc2UodG9rZW5zLCBvcHQpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBlcnIgPSBlO1xuICAgICAgfVxuXG4gICAgICBvcHQuaGlnaGxpZ2h0ID0gaGlnaGxpZ2h0O1xuXG4gICAgICByZXR1cm4gZXJyXG4gICAgICAgID8gY2FsbGJhY2soZXJyKVxuICAgICAgICA6IGNhbGxiYWNrKG51bGwsIG91dCk7XG4gICAgfTtcblxuICAgIGlmICghaGlnaGxpZ2h0IHx8IGhpZ2hsaWdodC5sZW5ndGggPCAzKSB7XG4gICAgICByZXR1cm4gZG9uZSgpO1xuICAgIH1cblxuICAgIGRlbGV0ZSBvcHQuaGlnaGxpZ2h0O1xuXG4gICAgaWYgKCFwZW5kaW5nKSByZXR1cm4gZG9uZSgpO1xuXG4gICAgZm9yICg7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIChmdW5jdGlvbih0b2tlbikge1xuICAgICAgICBpZiAodG9rZW4udHlwZSAhPT0gJ2NvZGUnKSB7XG4gICAgICAgICAgcmV0dXJuIC0tcGVuZGluZyB8fCBkb25lKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhpZ2hsaWdodCh0b2tlbi50ZXh0LCB0b2tlbi5sYW5nLCBmdW5jdGlvbihlcnIsIGNvZGUpIHtcbiAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gZG9uZShlcnIpO1xuICAgICAgICAgIGlmIChjb2RlID09IG51bGwgfHwgY29kZSA9PT0gdG9rZW4udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIC0tcGVuZGluZyB8fCBkb25lKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRva2VuLnRleHQgPSBjb2RlO1xuICAgICAgICAgIHRva2VuLmVzY2FwZWQgPSB0cnVlO1xuICAgICAgICAgIC0tcGVuZGluZyB8fCBkb25lKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSkodG9rZW5zW2ldKTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH1cbiAgdHJ5IHtcbiAgICBpZiAob3B0KSBvcHQgPSBtZXJnZSh7fSwgbWFya2VkLmRlZmF1bHRzLCBvcHQpO1xuICAgIHJldHVybiBQYXJzZXIucGFyc2UoTGV4ZXIubGV4KHNyYywgb3B0KSwgb3B0KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGUubWVzc2FnZSArPSAnXFxuUGxlYXNlIHJlcG9ydCB0aGlzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9jaGpqL21hcmtlZC4nO1xuICAgIGlmICgob3B0IHx8IG1hcmtlZC5kZWZhdWx0cykuc2lsZW50KSB7XG4gICAgICByZXR1cm4gJzxwPkFuIGVycm9yIG9jY3VyZWQ6PC9wPjxwcmU+J1xuICAgICAgICArIGVzY2FwZShlLm1lc3NhZ2UgKyAnJywgdHJ1ZSlcbiAgICAgICAgKyAnPC9wcmU+JztcbiAgICB9XG4gICAgdGhyb3cgZTtcbiAgfVxufVxuXG4vKipcbiAqIE9wdGlvbnNcbiAqL1xuXG5tYXJrZWQub3B0aW9ucyA9XG5tYXJrZWQuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uKG9wdCkge1xuICBtZXJnZShtYXJrZWQuZGVmYXVsdHMsIG9wdCk7XG4gIHJldHVybiBtYXJrZWQ7XG59O1xuXG5tYXJrZWQuZGVmYXVsdHMgPSB7XG4gIGdmbTogdHJ1ZSxcbiAgdGFibGVzOiB0cnVlLFxuICBicmVha3M6IGZhbHNlLFxuICBwZWRhbnRpYzogZmFsc2UsXG4gIHNhbml0aXplOiBmYWxzZSxcbiAgc2FuaXRpemVyOiBudWxsLFxuICBtYW5nbGU6IHRydWUsXG4gIHNtYXJ0TGlzdHM6IGZhbHNlLFxuICBzaWxlbnQ6IGZhbHNlLFxuICBoaWdobGlnaHQ6IG51bGwsXG4gIGxhbmdQcmVmaXg6ICdsYW5nLScsXG4gIHNtYXJ0eXBhbnRzOiBmYWxzZSxcbiAgaGVhZGVyUHJlZml4OiAnJyxcbiAgcmVuZGVyZXI6IG5ldyBSZW5kZXJlcixcbiAgeGh0bWw6IGZhbHNlXG59O1xuXG4vKipcbiAqIEV4cG9zZVxuICovXG5cbm1hcmtlZC5QYXJzZXIgPSBQYXJzZXI7XG5tYXJrZWQucGFyc2VyID0gUGFyc2VyLnBhcnNlO1xuXG5tYXJrZWQuUmVuZGVyZXIgPSBSZW5kZXJlcjtcblxubWFya2VkLkxleGVyID0gTGV4ZXI7XG5tYXJrZWQubGV4ZXIgPSBMZXhlci5sZXg7XG5cbm1hcmtlZC5JbmxpbmVMZXhlciA9IElubGluZUxleGVyO1xubWFya2VkLmlubGluZUxleGVyID0gSW5saW5lTGV4ZXIub3V0cHV0O1xuXG5tYXJrZWQucGFyc2UgPSBtYXJrZWQ7XG5cbmlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBtYXJrZWQ7XG59IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICBkZWZpbmUoZnVuY3Rpb24oKSB7IHJldHVybiBtYXJrZWQ7IH0pO1xufSBlbHNlIHtcbiAgdGhpcy5tYXJrZWQgPSBtYXJrZWQ7XG59XG5cbn0pLmNhbGwoZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzIHx8ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IGdsb2JhbCk7XG59KCkpO1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbWFya2VkL2xpYi9tYXJrZWQuanNcbiAqKiBtb2R1bGUgaWQgPSAxNDdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gKF9fd2VicGFja19yZXF1aXJlX18oMTQpKSg2NzQpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogZGVsZWdhdGVkIC4vbm9kZV9tb2R1bGVzL2pxdWVyeS9kaXN0L2pxdWVyeS5qcyBmcm9tIGRsbC1yZWZlcmVuY2UgX3V0aWxzX2RsbFxuICoqIG1vZHVsZSBpZCA9IDE0OFxuICoqIG1vZHVsZSBjaHVua3MgPSAxXG4gKiovIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlcidcbmltcG9ydCBJY29uIGZyb20gJy4uLy4uL2VsZW1lbnRzL0ljb24nXG5pbXBvcnQgRmFkZSBmcm9tICcuLi8uLi9lbGVtZW50cy9fYW5pbWF0aW9ucy9GYWRlJ1xuaW1wb3J0IFZpZXdlclByZWZlcmVuY2UgZnJvbSAnLi9WaWV3ZXJQcmVmZXJlbmNlJ1xuaW1wb3J0IENTU01vZHVsZXMgZnJvbSAncmVhY3QtY3NzLW1vZHVsZXMnXG5jb25zdCBzdHlsZXM6IGFueSA9IHJlcXVpcmUoJy4vX3ZpZXdlci1wYW5lbC5zY3NzJylcblxuaW50ZXJmYWNlIElQcm9wcyB7XG4gIHRpdGxlOiBzdHJpbmdcbiAgc2hvd1ZpZXdlclByZWZlcmVuY2U6IGJvb2xlYW5cbiAgb25QcmVmVmlzaWJpbGl0eUNoYW5nZTogKG5ld1Zpc2liaWxpdHk6IGJvb2xlYW4pID0+IHZvaWRcbn1cblxuaW50ZXJmYWNlIElTdGF0ZSB7XG59XG5cbkBDU1NNb2R1bGVzKHN0eWxlcylcbmNsYXNzIFZpZXdlclBhbmVsIGV4dGVuZHMgQ29tcG9uZW50PElQcm9wcywgSVN0YXRlPiB7XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgc2hvd1ZpZXdlclByZWZlcmVuY2U6IGZhbHNlXG4gICAgfVxuICAgIHRoaXMuaGFuZGxlUHJlZkNsaWNrID0gdGhpcy5oYW5kbGVQcmVmQ2xpY2suYmluZCh0aGlzKVxuICB9XG5cbiAgaGFuZGxlUHJlZkNsaWNrKCkge1xuICAgIHRoaXMucHJvcHMub25QcmVmVmlzaWJpbGl0eUNoYW5nZSghdGhpcy5wcm9wcy5zaG93Vmlld2VyUHJlZmVyZW5jZSlcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgdGl0bGUsIHNob3dWaWV3ZXJQcmVmZXJlbmNlIH0gPSB0aGlzLnByb3BzXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBzdHlsZU5hbWU9XCJ2aWV3ZXItcGFuZWxcIj5cbiAgICAgICAgPGRpdiBzdHlsZU5hbWU9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IHN0eWxlTmFtZT1cImJhY2tcIj5cbiAgICAgICAgICAgIDxMaW5rIHRvPVwiL1wiPlxuICAgICAgICAgICAgICA8SWNvbiBuYW1lPVwiYmFja1wiIC8+XG4gICAgICAgICAgICAgIDxzcGFuPui/lOWbnjwvc3Bhbj5cbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8c3BhbiBzdHlsZU5hbWU9XCJ0aXRsZVwiPnt0aXRsZX08L3NwYW4+XG4gICAgICAgICAgPGRpdiBvbkNsaWNrPXt0aGlzLmhhbmRsZVByZWZDbGlja30gc3R5bGVOYW1lPVwicHJlZmVyZW5jZVwiPlxuICAgICAgICAgICAgPEljb24gbmFtZT1cInByZWZlcmVuY2VcIiAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxGYWRlPlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzaG93Vmlld2VyUHJlZmVyZW5jZSA/IChcbiAgICAgICAgICAgICAgICA8Vmlld2VyUHJlZmVyZW5jZSAvPlxuICAgICAgICAgICAgICApIDogbnVsbFxuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvRmFkZT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmlld2VyUGFuZWxcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9pc29tb3JwaGljL3JvdXRlcy9WaWV3ZXIvVmlld2VyUGFuZWwudHN4XG4gKiovIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4J1xuLy8gaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlcidcbmltcG9ydCBTd2l0Y2hlciBmcm9tICcuLi8uLi9lbGVtZW50cy9Td2l0Y2hlcidcbmltcG9ydCBDU1NNb2R1bGVzIGZyb20gJ3JlYWN0LWNzcy1tb2R1bGVzJ1xuY29uc3Qgc3R5bGVzOiBhbnkgPSByZXF1aXJlKCcuL192aWV3ZXItcHJlZmVyZW5jZS5zY3NzJylcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgbmFtZTogc3RyaW5nXG59XG5cbkBDU1NNb2R1bGVzKHN0eWxlcylcbmNsYXNzIFZpZXdlclByZWZlcmVuY2UgZXh0ZW5kcyBDb21wb25lbnQ8UHJvcHMsIGFueT4ge1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgc3R5bGVOYW1lPVwidmlld2VyLXByZWZlcmVuY2VcIj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cIm9wdGlvbnNcIj5cbiAgICAgICAgICA8bGkgc3R5bGVOYW1lPVwib3B0aW9uLWZvbnQtc2l6ZVwiPlxuICAgICAgICAgICAgPHNwYW4+QS08L3NwYW4+PHNwYW4+QSs8L3NwYW4+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgICA8bGkgc3R5bGVOYW1lPVwib3B0aW9uLXNjcm9sbFwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibGFiZWxcIj7mu5rliqjmqKHlvI88L3NwYW4+XG4gICAgICAgICAgICA8U3dpdGNoZXIgdmFsdWU9e3RydWV9IC8+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgICA8bGkgc3R5bGVOYW1lPVwib3B0aW9uLXRoZW1lXCI+XG4gICAgICAgICAgICA8c3BhbiBzdHlsZT17e2JhY2tncm91bmQ6ICcjZmZmJ319PnRoZW1lMTwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7YmFja2dyb3VuZDogJyNlZWUnfX0+dGhlbWUyPC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3tiYWNrZ3JvdW5kOiAnIzIyMid9fT50aGVtZTM8L3NwYW4+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KFxuKShWaWV3ZXJQcmVmZXJlbmNlIGFzIGFueSlcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9pc29tb3JwaGljL3JvdXRlcy9WaWV3ZXIvVmlld2VyUHJlZmVyZW5jZS50c3hcbiAqKi8iLCJpbXBvcnQgU3dpdGNoZXIgZnJvbSAnLi9Td2l0Y2hlcidcbmV4cG9ydCBkZWZhdWx0IFN3aXRjaGVyXG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9pc29tb3JwaGljL2VsZW1lbnRzL1N3aXRjaGVyL2luZGV4LnRzXG4gKiovIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IENTU01vZHVsZXMgZnJvbSAncmVhY3QtY3NzLW1vZHVsZXMnXG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJ1xuY29uc3Qgc3R5bGVzID0gcmVxdWlyZSgnLi9fc3dpdGNoZXIuc2NzcycpXG5cbi8vIGludGVyZmFjZSBQcm9wcyB7XG4vLyAgIG9uOiBib29sZWFuXG4vLyB9XG5cbmludGVyZmFjZSBJUHJvcHMge1xuICB2YWx1ZTogc3RyaW5nIHwgYm9vbGVhblxuICB0aXRsZT86IHN0cmluZ1xuICBvbkNoYW5nZT86IChuZXdWYWx1ZTogc3RyaW5nIHwgYm9vbGVhbikgPT4gdm9pZFxuICBvcHRpb25zPzoge1xuICAgIG5hbWU/OiBzdHJpbmdcbiAgICB2YWx1ZTogc3RyaW5nIHwgYm9vbGVhblxuICB9W11cbiAgY2xhc3NOYW1lPzogc3RyaW5nXG4gIHN0eWxlTmFtZT86IHN0cmluZ1xufVxuXG5pbnRlcmZhY2UgSVN0YXRlIHtcbn1cblxuQENTU01vZHVsZXMoc3R5bGVzLCB7XG4gIGFsbG93TXVsdGlwbGU6IHRydWVcbn0pXG5jbGFzcyBTd2l0Y2hlciBleHRlbmRzIENvbXBvbmVudDxJUHJvcHMsIElTdGF0ZT4ge1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQgeyB2YWx1ZTogaXNPbiwgY2xhc3NOYW1lIH0gPSB0aGlzLnByb3BzXG5cbiAgICBpZiAodHlwZW9mIHRoaXMucHJvcHMudmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAoaXNPbiA9PT0gJzEnIHx8IGlzT24gPT09ICd0cnVlJykge1xuICAgICAgICBpc09uID0gdHJ1ZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXNPbiA9IGZhbHNlXG4gICAgICB9XG4gICAgfVxuICAgIGxldCBzdGF0ZSA9IEJvb2xlYW4oaXNPbikgPyAnb24nIDogJ29mZidcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lIHx8ICcnfSBzdHlsZU5hbWU9XCJzd2l0Y2hlci13cmFwXCI+XG4gICAgICAgIHtcbiAgICAgICAgICB0aGlzLnByb3BzLnRpdGxlICYmIChcbiAgICAgICAgICAgIDxzcGFuPnt0aGlzLnByb3BzLnRpdGxlfTwvc3Bhbj5cbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgICAgPGRpdlxuICAgICAgICAgIG9uQ2xpY2s9e2UgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub25DaGFuZ2UpIHtcbiAgICAgICAgICAgICAgbGV0IG5ld1ZhbHVlXG5cbiAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZUluZGV4ID0gdGhpcy5wcm9wcy5vcHRpb25zLm1hcChvcHRpb24gPT4gb3B0aW9uLnZhbHVlKS5pbmRleE9mKHRoaXMucHJvcHMudmFsdWUpXG5cbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFZhbHVlSW5kZXggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlID0gdGhpcy5wcm9wcy5vcHRpb25zWzBdLnZhbHVlXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50VmFsdWVJbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgbmV3VmFsdWUgPSB0aGlzLnByb3BzLm9wdGlvbnNbMV0udmFsdWVcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgbmV3VmFsdWUgPSB0aGlzLnByb3BzLm9wdGlvbnNbMF0udmFsdWVcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+W9k+WJjeaVsOaNruacieivr++8jOWwhuS9v+eUqOm7mOiupOaVsOaNru+8gScpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5wcm9wcy52YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+ayoeaciee7mSBvcHRpb25zIOaXtuW/hemhu+S9v+eUqOW4g+WwlOWei+eahCB2YWx1Ze+8gScpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlID0gIXRoaXMucHJvcHMudmFsdWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKG5ld1ZhbHVlKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH19XG4gICAgICAgICAgc3R5bGVOYW1lPXtgc3dpdGNoZXItLSR7c3RhdGV9YH1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgc3R5bGVOYW1lPVwic3dpdGNoZXItYnV0dG9uXCI+PC9kaXY+XG4gICAgICAgICAgPGRpdiBzdHlsZU5hbWU9XCJzd2l0Y2hlci10cmFja1wiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG4vLyBjbGFzcyBTd2l0Y2hlciBleHRlbmRzIENvbXBvbmVudDxQcm9wcywgYW55PiB7XG5cbi8vICAgY29uc3RydWN0b3IocHJvcHMpIHtcbi8vICAgICBzdXBlcihwcm9wcylcbi8vICAgfVxuXG4vLyAgIHJlbmRlcigpIHtcbi8vICAgICBsZXQgY2xhc3NOYW1lID0gdGhpcy5wcm9wcy5vbiA/ICdvbicgOiAnb2ZmJ1xuLy8gICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZSArICcgc3dpdGNoZXInXG5cbi8vICAgICByZXR1cm4gKFxuLy8gICAgICAgPGRpdiBzdHlsZU5hbWU9e3RoaXMucHJvcHMub24gPyAnc3dpdGNoZXItLW9uJyA6ICdzd2l0Y2hlci0tb2ZmJ30+XG4vLyAgICAgICAgIDxkaXYgc3R5bGVOYW1lPVwic3dpdGNoZXItYnV0dG9uXCI+PC9kaXY+XG4vLyAgICAgICAgIDxkaXYgc3R5bGVOYW1lPVwic3dpdGNoZXItdHJhY2tcIj48L2Rpdj5cbi8vICAgICAgIDwvZGl2PlxuLy8gICAgIClcbi8vICAgfVxuLy8gfVxuXG5leHBvcnQgZGVmYXVsdCBTd2l0Y2hlclxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9pc29tb3JwaGljL2VsZW1lbnRzL1N3aXRjaGVyL1N3aXRjaGVyLnRzeFxuICoqLyIsIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcInN3aXRjaGVyLXdyYXBcIjpcInN3aXRjaGVyLXdyYXBfM1VNQVVcIixcInN3aXRjaGVyXCI6XCJzd2l0Y2hlcl9HM240X1wiLFwic3dpdGNoZXItLW9mZlwiOlwic3dpdGNoZXItLW9mZl8xRW9PVVwiLFwic3dpdGNoZXItLW9uXCI6XCJzd2l0Y2hlci0tb25fMnhpd09cIixcInN3aXRjaGVyLWJ1dHRvblwiOlwic3dpdGNoZXItYnV0dG9uXzJrSEdMXCIsXCJzd2l0Y2hlci10cmFja1wiOlwic3dpdGNoZXItdHJhY2tfeHZoamdcIn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9pc29tb3JwaGljL2VsZW1lbnRzL1N3aXRjaGVyL19zd2l0Y2hlci5zY3NzXG4gKiogbW9kdWxlIGlkID0gMTUzXG4gKiogbW9kdWxlIGNodW5rcyA9IDEgMTBcbiAqKi8iLCIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJ2aWV3ZXItcHJlZmVyZW5jZVwiOlwidmlld2VyLXByZWZlcmVuY2VfMUZOSlpcIixcIm9wdGlvblwiOlwib3B0aW9uXzE5RlhXXCIsXCJvcHRpb24tZm9udC1zaXplXCI6XCJvcHRpb24tZm9udC1zaXplXzE4T05HIG9wdGlvbl8xOUZYV1wiLFwib3B0aW9uLXNjcm9sbFwiOlwib3B0aW9uLXNjcm9sbF8zYWd0TyBvcHRpb25fMTlGWFdcIixcImxhYmVsXCI6XCJsYWJlbF8zSExQcFwiLFwic3dpdGNoZXJcIjpcInN3aXRjaGVyXzNUOUtfXCIsXCJvcHRpb24tdGhlbWVcIjpcIm9wdGlvbi10aGVtZV8zOGJVZyBvcHRpb25fMTlGWFdcIn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9pc29tb3JwaGljL3JvdXRlcy9WaWV3ZXIvX3ZpZXdlci1wcmVmZXJlbmNlLnNjc3NcbiAqKiBtb2R1bGUgaWQgPSAxNTRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMVxuICoqLyIsIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcInZpZXdlci1wYW5lbFwiOlwidmlld2VyLXBhbmVsX2FvT3Y3XCIsXCJjb250YWluZXJcIjpcImNvbnRhaW5lcl8yY0xOSVwiLFwiYmFja1wiOlwiYmFja19wcHhRX1wiLFwidGl0bGVcIjpcInRpdGxlXzNOaGxpXCIsXCJwcmVmZXJlbmNlXCI6XCJwcmVmZXJlbmNlXzF3UGE2XCJ9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvaXNvbW9ycGhpYy9yb3V0ZXMvVmlld2VyL192aWV3ZXItcGFuZWwuc2Nzc1xuICoqIG1vZHVsZSBpZCA9IDE1NVxuICoqIG1vZHVsZSBjaHVua3MgPSAxXG4gKiovIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IEJvb2tQYWdlTGlzdCBmcm9tICcuL0Jvb2tQYWdlTGlzdCdcblxuaW50ZXJmYWNlIElQcm9wcyB7XG4gIG5vZGVzOiBzdHJpbmdbXVxuICBmbHVpZDogYm9vbGVhblxufVxuXG5jbGFzcyBCb29rUGFnZVdpdGhSYXdIdG1sIGV4dGVuZHMgQ29tcG9uZW50PElQcm9wcywge30+IHtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuICB9XG5cbiAgYm9va1BhZ2VMaXN0OiBhbnlcblxuICBnZXRDb250ZW50SHRtbCgpIHtcbiAgICByZXR1cm4gdGhpcy5ib29rUGFnZUxpc3QuYm9va1BhZ2UuYm9va1BhZ2VEb21cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGZsdWlkLCBub2RlcyB9ID0gdGhpcy5wcm9wc1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxCb29rUGFnZUxpc3RcbiAgICAgICAgZmx1aWQ9e2ZsdWlkfVxuICAgICAgICBub2Rlcz17bm9kZXN9XG4gICAgICAgIG5vZGVIZWlnaHRzPXtbXX1cbiAgICAgICAgcGFnZUNvdW50PXsxfVxuICAgICAgICBwYWdlSGVpZ2h0PXswfVxuICAgICAgICBpc0NhbGNNb2RlXG4gICAgICAgIHJlZj17cmVmID0+IHsgdGhpcy5ib29rUGFnZUxpc3QgPSByZWYgfX1cbiAgICAgIC8+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJvb2tQYWdlV2l0aFJhd0h0bWxcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9pc29tb3JwaGljL3JvdXRlcy9WaWV3ZXIvQm9va1BhZ2VXaXRoUmF3SHRtbC50c3hcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9