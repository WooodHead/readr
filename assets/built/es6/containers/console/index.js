import React, { Component } from 'react';
import { Link } from 'react-router';
import { connect } from 'react-redux';
import Container from 'elements/Container';
import Icon from 'elements/Icon';
import ConsoleBranding from 'components/ConsoleBranding';
import { userAuth, handleNotification } from 'actions/index';
import Notification from 'components/Notification';
const menuMapping = [
    {
        component: 'books',
        displayName: '',
        path: 'console/managebooks',
        subMenu: [
            {
                component: 'managebooks',
                displayName: 'Manage Books',
                path: 'console'
            },
            {
                component: 'addbook',
                displayName: 'Add Book',
                path: 'console/addbook'
            },
            {
                component: 'addcollection',
                displayName: 'Add Collection',
                path: 'console/collection/new'
            }
        ]
    },
    {
        component: 'users',
        displayName: '',
        path: 'console/manageusers',
        subMenu: [
            {
                component: 'manageusers',
                displayName: 'Manage Users',
                path: 'console/manageusers'
            }
        ]
    },
    {
        component: 'database',
        displayName: '',
        path: 'console/managebooks',
        subMenu: []
    },
    {
        component: 'statistics',
        displayName: '',
        path: 'console/managebooks',
        subMenu: []
    }
];
class Console extends Component {
    componentDidMount() {
        this.props.userAuth();
    }
    renderMenu(menuMapping, currentPath) {
        let currentMenu = {
            rootIndex: 0,
            subIndex: 0
        };
        menuMapping.forEach((item, rootIndex) => {
            let subIndex;
            let result = item.subMenu.filter((item, index) => {
                if (item.path === currentPath) {
                    subIndex = index;
                    return true;
                }
            });
            if (result.length > 0) {
                currentMenu.rootIndex = rootIndex;
                currentMenu.subIndex = subIndex;
            }
        });
        let rootMenu = (React.createElement("ul", {className: "nav-side nav-side-root"}, menuMapping.map((menu, index) => {
            let className = `menu-${menu.component}`;
            if (index === currentMenu.rootIndex) {
                className += ' current';
            }
            return (React.createElement("li", {key: index, className: className}, React.createElement(Link, {to: `/${menu.path}`}, React.createElement(Icon, {name: menu.component}))));
        })));
        let subMenu = (React.createElement("ul", {className: "nav-side nav-side-sub"}, menuMapping[currentMenu.rootIndex].subMenu.map((menu, index) => {
            let className = `menu-${menu.component}`;
            if (index === currentMenu.subIndex) {
                className += ' current';
            }
            return (React.createElement("li", {key: index, className: className}, React.createElement(Link, {to: `/${menu.path}`}, menu.displayName)));
        })));
        return (React.createElement("div", {className: "sidebar-left"}, rootMenu, subMenu));
    }
    render() {
        let isAdmin = this.props.session.user.role === 'admin' ? true : false;
        let username = this.props.session.user.username ? this.props.session.user.username : null;
        let pathname = this.props.routing.locationBeforeTransitions ? this.props.routing.locationBeforeTransitions.pathname : 'console';
        return (React.createElement("div", null, React.createElement(ConsoleBranding, {isAdmin: isAdmin, username: username}), React.createElement(Container, {isFluid: true}, React.createElement(Notification, {notification: this.props.notification}), this.renderMenu(menuMapping, pathname), React.createElement("div", {className: "content"}, this.props.children))));
    }
}
export default connect(state => ({
    notification: state.components.notification,
    session: state.session,
    routing: state.routing
}), { handleNotification, userAuth })(Console);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRhaW5lcnMvY29uc29sZS9pbmRleC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ik9BQU8sS0FBSyxFQUFFLEVBQUUsU0FBUyxFQUFhLE1BQU0sT0FBTztPQUM1QyxFQUFFLElBQUksRUFBRSxNQUFNLGNBQWM7T0FDNUIsRUFBRSxPQUFPLEVBQUUsTUFBTSxhQUFhO09BQzlCLFNBQVMsTUFBTSxvQkFBb0I7T0FDbkMsSUFBSSxNQUFNLGVBQWU7T0FDekIsZUFBZSxNQUFNLDRCQUE0QjtPQUNqRCxFQUFFLFFBQVEsRUFBRSxrQkFBa0IsRUFBRSxNQUFNLGVBQWU7T0FDckQsWUFBWSxNQUFNLHlCQUF5QjtBQUdsRCxNQUFNLFdBQVcsR0FBRztJQUNsQjtRQUNFLFNBQVMsRUFBRSxPQUFPO1FBQ2xCLFdBQVcsRUFBRSxFQUFFO1FBQ2YsSUFBSSxFQUFFLHFCQUFxQjtRQUMzQixPQUFPLEVBQUU7WUFDUDtnQkFDRSxTQUFTLEVBQUUsYUFBYTtnQkFDeEIsV0FBVyxFQUFFLGNBQWM7Z0JBQzNCLElBQUksRUFBRSxTQUFTO2FBQ2hCO1lBQ0Q7Z0JBQ0UsU0FBUyxFQUFFLFNBQVM7Z0JBQ3BCLFdBQVcsRUFBRSxVQUFVO2dCQUN2QixJQUFJLEVBQUUsaUJBQWlCO2FBQ3hCO1lBQ0Q7Z0JBQ0UsU0FBUyxFQUFFLGVBQWU7Z0JBQzFCLFdBQVcsRUFBRSxnQkFBZ0I7Z0JBQzdCLElBQUksRUFBRSx3QkFBd0I7YUFDL0I7U0FDRjtLQUNGO0lBQ0Q7UUFDRSxTQUFTLEVBQUUsT0FBTztRQUNsQixXQUFXLEVBQUUsRUFBRTtRQUNmLElBQUksRUFBRSxxQkFBcUI7UUFDM0IsT0FBTyxFQUFFO1lBQ1A7Z0JBQ0UsU0FBUyxFQUFFLGFBQWE7Z0JBQ3hCLFdBQVcsRUFBRSxjQUFjO2dCQUMzQixJQUFJLEVBQUUscUJBQXFCO2FBQzVCO1NBQ0Y7S0FDRjtJQUNEO1FBQ0UsU0FBUyxFQUFFLFVBQVU7UUFDckIsV0FBVyxFQUFFLEVBQUU7UUFDZixJQUFJLEVBQUUscUJB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QUNGLEVBQUUsa0JBQWtCLEVBQUUsUUFBUSxFQUFTLENBQ3hDLENBQUMsT0FBTyxDQUFDLENBQUEiLCJmaWxlIjoiY29udGFpbmVycy9jb25zb2xlL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyJ1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4J1xuaW1wb3J0IENvbnRhaW5lciBmcm9tICdlbGVtZW50cy9Db250YWluZXInXG5pbXBvcnQgSWNvbiBmcm9tICdlbGVtZW50cy9JY29uJ1xuaW1wb3J0IENvbnNvbGVCcmFuZGluZyBmcm9tICdjb21wb25lbnRzL0NvbnNvbGVCcmFuZGluZydcbmltcG9ydCB7IHVzZXJBdXRoLCBoYW5kbGVOb3RpZmljYXRpb24gfSBmcm9tICdhY3Rpb25zL2luZGV4J1xuaW1wb3J0IE5vdGlmaWNhdGlvbiBmcm9tICdjb21wb25lbnRzL05vdGlmaWNhdGlvbidcbmltcG9ydCBCb2R5IGZyb20gJ3NpZGUtZWZmZWN0cy9Cb2R5J1xuXG5jb25zdCBtZW51TWFwcGluZyA9IFtcbiAge1xuICAgIGNvbXBvbmVudDogJ2Jvb2tzJyxcbiAgICBkaXNwbGF5TmFtZTogJycsXG4gICAgcGF0aDogJ2NvbnNvbGUvbWFuYWdlYm9va3MnLFxuICAgIHN1Yk1lbnU6IFtcbiAgICAgIHtcbiAgICAgICAgY29tcG9uZW50OiAnbWFuYWdlYm9va3MnLFxuICAgICAgICBkaXNwbGF5TmFtZTogJ01hbmFnZSBCb29rcycsXG4gICAgICAgIHBhdGg6ICdjb25zb2xlJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgY29tcG9uZW50OiAnYWRkYm9vaycsXG4gICAgICAgIGRpc3BsYXlOYW1lOiAnQWRkIEJvb2snLFxuICAgICAgICBwYXRoOiAnY29uc29sZS9hZGRib29rJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgY29tcG9uZW50OiAnYWRkY29sbGVjdGlvbicsXG4gICAgICAgIGRpc3BsYXlOYW1lOiAnQWRkIENvbGxlY3Rpb24nLFxuICAgICAgICBwYXRoOiAnY29uc29sZS9jb2xsZWN0aW9uL25ldydcbiAgICAgIH1cbiAgICBdXG4gIH0sXG4gIHtcbiAgICBjb21wb25lbnQ6ICd1c2VycycsXG4gICAgZGlzcGxheU5hbWU6ICcnLFxuICAgIHBhdGg6ICdjb25zb2xlL21hbmFnZXVzZXJzJyxcbiAgICBzdWJNZW51OiBbXG4gICAgICB7XG4gICAgICAgIGNvbXBvbmVudDogJ21hbmFnZXVzZXJzJyxcbiAgICAgICAgZGlzcGxheU5hbWU6ICdNYW5hZ2UgVXNlcnMnLFxuICAgICAgICBwYXRoOiAnY29uc29sZS9tYW5hZ2V1c2VycydcbiAgICAgIH1cbiAgICBdXG4gIH0sXG4gIHtcbiAgICBjb21wb25lbnQ6ICdkYXRhYmFzZScsXG4gICAgZGlzcGxheU5hbWU6ICcnLFxuICAgIHBhdGg6ICdjb25zb2xlL21hbmFnZWJvb2tzJyxcbiAgICBzdWJNZW51OiBbXVxuICB9LFxuICB7XG4gICAgY29tcG9uZW50OiAnc3RhdGlzdGljcycsXG4gICAgZGlzcGxheU5hbWU6ICcnLFxuICAgIHBhdGg6ICdjb25zb2xlL21hbmFnZWJvb2tzJyxcbiAgICBzdWJNZW51OiBbXVxuICB9XG5dXG5cbmNsYXNzIENvbnNvbGUgZXh0ZW5kcyBDb21wb25lbnQ8YW55LCBhbnk+IHtcblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnByb3BzLnVzZXJBdXRoKClcbiAgfVxuXG4gIHJlbmRlck1lbnUobWVudU1hcHBpbmcsIGN1cnJlbnRQYXRoKSB7XG4gICAgbGV0IGN1cnJlbnRNZW51ID0ge1xuICAgICAgcm9vdEluZGV4OiAwLFxuICAgICAgc3ViSW5kZXg6IDBcbiAgICB9XG5cbiAgICBtZW51TWFwcGluZy5mb3JFYWNoKChpdGVtLCByb290SW5kZXgpID0+IHtcbiAgICAgIGxldCBzdWJJbmRleFxuXG4gICAgICBsZXQgcmVzdWx0ID0gaXRlbS5zdWJNZW51LmZpbHRlcigoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYoaXRlbS5wYXRoID09PSBjdXJyZW50UGF0aCkge1xuICAgICAgICAgIHN1YkluZGV4ID0gaW5kZXhcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICBpZihyZXN1bHQubGVuZ3RoID4gMCkge1xuICAgICAgICBjdXJyZW50TWVudS5yb290SW5kZXggPSByb290SW5kZXhcbiAgICAgICAgY3VycmVudE1lbnUuc3ViSW5kZXggPSBzdWJJbmRleFxuICAgICAgfVxuICAgIH0pXG5cbiAgICBsZXQgcm9vdE1lbnUgPSAoXG4gICAgICA8dWwgY2xhc3NOYW1lPVwibmF2LXNpZGUgbmF2LXNpZGUtcm9vdFwiPlxuICAgICAgICB7XG4gICAgICAgICAgbWVudU1hcHBpbmcubWFwKChtZW51LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgbGV0IGNsYXNzTmFtZSA9IGBtZW51LSR7bWVudS5jb21wb25lbnR9YFxuXG4gICAgICAgICAgICBpZihpbmRleCA9PT0gY3VycmVudE1lbnUucm9vdEluZGV4KSB7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZSArPSAnIGN1cnJlbnQnXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxsaSBrZXk9e2luZGV4fSBjbGFzc05hbWU9e2NsYXNzTmFtZX0+PExpbmsgdG89e2AvJHttZW51LnBhdGh9YH0+PEljb24gbmFtZT17bWVudS5jb21wb25lbnR9IC8+PC9MaW5rPjwvbGk+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgPC91bD5cbiAgICApXG5cbiAgICBsZXQgc3ViTWVudSA9IChcbiAgICAgIDx1bCBjbGFzc05hbWU9XCJuYXYtc2lkZSBuYXYtc2lkZS1zdWJcIj5cbiAgICAgICAge1xuICAgICAgICAgIG1lbnVNYXBwaW5nW2N1cnJlbnRNZW51LnJvb3RJbmRleF0uc3ViTWVudS5tYXAoKG1lbnUsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBsZXQgY2xhc3NOYW1lID0gYG1lbnUtJHttZW51LmNvbXBvbmVudH1gXG5cbiAgICAgICAgICAgIGlmKGluZGV4ID09PSBjdXJyZW50TWVudS5zdWJJbmRleCkge1xuICAgICAgICAgICAgICBjbGFzc05hbWUgKz0gJyBjdXJyZW50J1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8bGkga2V5PXtpbmRleH0gY2xhc3NOYW1lPXtjbGFzc05hbWV9PjxMaW5rIHRvPXtgLyR7bWVudS5wYXRofWB9PnttZW51LmRpc3BsYXlOYW1lfTwvTGluaz48L2xpPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIDwvdWw+XG4gICAgKVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2lkZWJhci1sZWZ0XCI+XG4gICAgICAgIHtyb290TWVudX1cbiAgICAgICAge3N1Yk1lbnV9XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgbGV0IGlzQWRtaW4gPSB0aGlzLnByb3BzLnNlc3Npb24udXNlci5yb2xlID09PSAnYWRtaW4nP3RydWU6ZmFsc2VcbiAgICBsZXQgdXNlcm5hbWUgPSB0aGlzLnByb3BzLnNlc3Npb24udXNlci51c2VybmFtZT90aGlzLnByb3BzLnNlc3Npb24udXNlci51c2VybmFtZTpudWxsXG4gICAgbGV0IHBhdGhuYW1lID0gdGhpcy5wcm9wcy5yb3V0aW5nLmxvY2F0aW9uQmVmb3JlVHJhbnNpdGlvbnM/dGhpcy5wcm9wcy5yb3V0aW5nLmxvY2F0aW9uQmVmb3JlVHJhbnNpdGlvbnMucGF0aG5hbWU6J2NvbnNvbGUnXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPENvbnNvbGVCcmFuZGluZyBpc0FkbWluPXtpc0FkbWlufSB1c2VybmFtZT17dXNlcm5hbWV9IC8+XG4gICAgICAgIDxDb250YWluZXIgaXNGbHVpZD17dHJ1ZX0+XG4gICAgICAgICAgPE5vdGlmaWNhdGlvbiBub3RpZmljYXRpb249e3RoaXMucHJvcHMubm90aWZpY2F0aW9ufSAvPlxuICAgICAgICAgIHt0aGlzLnJlbmRlck1lbnUobWVudU1hcHBpbmcsIHBhdGhuYW1lKX1cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRlbnRcIj5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L0NvbnRhaW5lcj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KFxuICBzdGF0ZSA9PiAoe1xuICAgIG5vdGlmaWNhdGlvbjogc3RhdGUuY29tcG9uZW50cy5ub3RpZmljYXRpb24sXG4gICAgc2Vzc2lvbjogc3RhdGUuc2Vzc2lvbixcbiAgICByb3V0aW5nOiBzdGF0ZS5yb3V0aW5nXG4gIH0pLFxuICB7IGhhbmRsZU5vdGlmaWNhdGlvbiwgdXNlckF1dGggfSBhcyBhbnlcbikoQ29uc29sZSlcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
