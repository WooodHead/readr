import React, { Component } from 'react';
import { connect } from 'react-redux';
import { fetchBooks } from 'actions/index';
import BookListSection from 'components/BookListSection';
class BookShelf extends Component {
    constructor(props) {
        super(props);
    }
    static fetchData({ store, params }) {
        return store.dispatch(fetchBooks('user'));
    }
    componentDidMount() {
        this.props.fetchBooks('user');
    }
    render() {
        let bookList = this.props.bookListUser;
        return (React.createElement("div", null, React.createElement(BookListSection, {bookList: bookList, title: "我的书架"})));
    }
}
function mapStateToProps(state, ownProps) {
    const { pagination: { filteredBooks }, entities: { books } } = state;
    const genList = (whichPagination) => (whichPagination ? whichPagination.ids.map(id => books[id]) : []);
    return {
        bookListUser: genList(filteredBooks['user']),
    };
}
export default connect(mapStateToProps, { fetchBooks })(BookShelf);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRhaW5lcnMvQm9va1NoZWxmLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiT0FBTyxLQUFLLEVBQUUsRUFBRSxTQUFTLEVBQWEsTUFBTSxPQUFPO09BQzVDLEVBQUUsT0FBTyxFQUFFLE1BQU0sYUFBYTtPQUU5QixFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWU7T0FDbkMsZUFBZSxNQUFNLDRCQUE0QjtBQUV4RCx3QkFBd0IsU0FBUztJQU0vQixZQUFZLEtBQUs7UUFDZixNQUFNLEtBQUssQ0FBQyxDQUFBO0lBQ2QsQ0FBQztJQU5ELE9BQU8sU0FBUyxDQUFDLEVBQUMsS0FBSyxFQUFFLE1BQU0sRUFBQztRQUM5QixNQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQTtJQUMzQyxDQUFDO0lBTUQsaUJBQWlCO1FBQ2YsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUE7SUFDL0IsQ0FBQztJQUVELE1BQU07UUFDSixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQTtRQUV0QyxNQUFNLENBQUMsQ0FDTCxxQkFBQyxHQUFHLFNBQ0Ysb0JBQUMsZUFBZSxHQUFDLFFBQVEsRUFBRSxRQUFTLEVBQUMsS0FBSyxFQUFDLE1BQU0sRUFBRyxDQUNoRCxDQUNQLENBQUE7SUFDSCxDQUFDO0FBQ0gsQ0FBQztBQUVELHlCQUF5QixLQUFLLEVBQUUsUUFBUTtJQUN0QyxNQUFNLEVBQ0osVUFBVSxFQUFFLEVBQUUsYUFBYSxFQUFFLEVBQzdCLFFBQVEsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUNwQixHQUFHLEtBQUssQ0FBQTtJQUVULE1BQU0sT0FBTyxHQUFHLENBQUMsZUFBZSxLQUFLLENBQ25DLGVBQWUsR0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUMsRUFBRSxDQUM1RCxDQUFBO0lBRUQsTUFBTSxDQUFDO1FBQ0wsWUFBWSxFQUFFLE9BQU8sQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7S0FDN0MsQ0FBQTtBQUNILENBQUM7QUFFRCxlQUFlLE9BQU8sQ0FDcEIsZUFBZSxFQUNmLEVBQUUsVUFBVSxFQUFTLENBQ3RCLENBQUMsU0FBUyxDQUFDLENBQUEiLCJmaWxlIjoiY29udGFpbmVycy9Cb29rU2hlbGYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50LCBQcm9wVHlwZXMgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCdcbmltcG9ydCB7IExpbmsgfSBmcm9tICdyZWFjdC1yb3V0ZXInXG5pbXBvcnQgeyBmZXRjaEJvb2tzIH0gZnJvbSAnYWN0aW9ucy9pbmRleCdcbmltcG9ydCBCb29rTGlzdFNlY3Rpb24gZnJvbSAnY29tcG9uZW50cy9Cb29rTGlzdFNlY3Rpb24nXG5cbmNsYXNzIEJvb2tTaGVsZiBleHRlbmRzIENvbXBvbmVudDxhbnksIGFueT4ge1xuXG4gIHN0YXRpYyBmZXRjaERhdGEoe3N0b3JlLCBwYXJhbXN9KSB7XG4gICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKGZldGNoQm9va3MoJ3VzZXInKSlcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnByb3BzLmZldGNoQm9va3MoJ3VzZXInKVxuICB9XG5cbiAgcmVuZGVyKCl7XG4gICAgbGV0IGJvb2tMaXN0ID0gdGhpcy5wcm9wcy5ib29rTGlzdFVzZXJcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8Qm9va0xpc3RTZWN0aW9uIGJvb2tMaXN0PXtib29rTGlzdH0gdGl0bGU9XCLmiJHnmoTkuabmnrZcIiAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSwgb3duUHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIHBhZ2luYXRpb246IHsgZmlsdGVyZWRCb29rcyB9LFxuICAgIGVudGl0aWVzOiB7IGJvb2tzIH1cbiAgfSA9IHN0YXRlXG5cbiAgY29uc3QgZ2VuTGlzdCA9ICh3aGljaFBhZ2luYXRpb24pID0+IChcbiAgICB3aGljaFBhZ2luYXRpb24/d2hpY2hQYWdpbmF0aW9uLmlkcy5tYXAoaWQgPT4gYm9va3NbaWRdKTpbXVxuICApXG5cbiAgcmV0dXJuIHtcbiAgICBib29rTGlzdFVzZXI6IGdlbkxpc3QoZmlsdGVyZWRCb29rc1sndXNlciddKSxcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KFxuICBtYXBTdGF0ZVRvUHJvcHMsXG4gIHsgZmV0Y2hCb29rcyB9IGFzIGFueVxuKShCb29rU2hlbGYpXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
