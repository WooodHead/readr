import ApiRoots from 'constants/ApiRoots';
import { Schemas } from 'schemas';
export function fetchBookProgress(bookId) {
    return {
        bookId,
        CALL_API: {
            types: ['BOOK_PROGRESS_REQUEST', 'BOOK_PROGRESS_SUCCESS', 'BOOK_PROGRESS_FAILURE'],
            endpoint: `books/${bookId}/progress`,
            schema: Schemas.BOOK_PROGRESS
        }
    };
}
export function fetchBooks(flow) {
    return {
        flow,
        CALL_API: {
            types: ['BOOKS_REQUEST', 'BOOKS_SUCCESS', 'BOOKS_FAILURE'],
            endpoint: `books?flow=${flow}`,
            schema: Schemas.BOOK_ARRAY
        }
    };
}
export function fetchBook(bookId, fields) {
    let endpoint = `books/${bookId}`;
    if (fields) {
        endpoint += `?fields=${fields.join(',')}`;
    }
    return {
        bookId,
        CALL_API: {
            types: ['BOOK_REQUEST', 'BOOK_SUCCESS', 'BOOK_FAILURE'],
            endpoint,
            schema: Schemas.BOOK
        }
    };
}
export function fetchCollections() {
    return {
        CALL_API: {
            types: ['COLLECTIONS_REQUEST', 'COLLECTIONS_SUCCESS', 'COLLECTIONS_FAILURE'],
            endpoint: `collections`,
            schema: Schemas.COLLECTION_ARRAY
        }
    };
}
export function fetchCollection(collectionId) {
    return {
        collectionId,
        CALL_API: {
            types: ['COLLECTION_REQUEST', 'COLLECTION_SUCCESS', 'COLLECTION_FAILURE'],
            endpoint: `collections/${collectionId}`,
            schema: Schemas.COLLECTION
        }
    };
}
// export function fetchBookContent(bookId) {
//   return {
//     bookId,
//     CALL_API: {
//       types: ['BOOK_CONTENT_REQUEST', 'BOOK_CONTENT_SUCCESS', 'BOOK_CONTENT_FAILURE'],
//       endpoint: `books/${bookId}/content`,
//       schema: Schemas.BOOK
//     }
//   }
// }
//
// export function fetchBookInfo(bookId) {
//   return {
//     bookId,
//     CALL_API:{
//       types: ['BOOK_INFO_REQUEST', 'BOOK_INFO_SUCCESS', 'BOOK_INFO_FAILURE'],
//       endpoint: `books/${bookId}`,
//       schema: Schemas.BOOK_ARRAY
//     }
//   }
// }
export function fetchDoubanBookSearchResults(query) {
    return {
        query,
        CALL_API: {
            types: ['DOUBAN_BOOK_SEARCH_REQUEST', 'DOUBAN_BOOK_SEARCH_SUCCESS', 'DOUBAN_BOOK_SEARCH_FAILURE'],
            endpoint: `search?count=5&q=${query}`,
            apiUrl: ApiRoots.DOUBAN_BOOKS,
            schema: Schemas.DOUBAN_BOOK_SEARCH_RESULTS,
            extendedOptions: { useJsonp: true }
        }
    };
}
export function searchBooks(query) {
    return {
        query,
        CALL_API: {
            types: ['BOOK_SEARCH_REQUEST', 'BOOK_SEARCH_SUCCESS', 'BOOK_SEARCH_FAILURE'],
            endpoint: `search?q=${query}`,
            apiUrl: ApiRoots.LOCAL,
            schema: Schemas.MATCHED_BOOK_ARRAY
        }
    };
}

//# sourceMappingURL=data:application/json;base64,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RUFBQztZQUNQLEtBQUssRUFBRSxDQUFDLHFCQUFxQixFQUFFLHFCQUFxQixFQUFFLHFCQUFxQixDQUFDO1lBQzVFLFFBQVEsRUFBRSxZQUFZLEtBQUssRUFBRTtZQUM3QixNQUFNLEVBQUUsUUFBUSxDQUFDLEtBQUs7WUFDdEIsTUFBTSxFQUFFLE9BQU8sQ0FBQyxrQkFBa0I7U0FDbkM7S0FDRixDQUFBO0FBQ0gsQ0FBQyIsImZpbGUiOiJhY3Rpb25zL2Jvb2suanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQXBpUm9vdHMgZnJvbSAnY29uc3RhbnRzL0FwaVJvb3RzJ1xuaW1wb3J0IHsgU2NoZW1hcyB9IGZyb20gJ3NjaGVtYXMnXG5cbmV4cG9ydCBmdW5jdGlvbiBmZXRjaEJvb2tQcm9ncmVzcyhib29rSWQpIHtcbiAgcmV0dXJuIHtcbiAgICBib29rSWQsXG4gICAgQ0FMTF9BUEk6IHtcbiAgICAgIHR5cGVzOiBbJ0JPT0tfUFJPR1JFU1NfUkVRVUVTVCcsICdCT09LX1BST0dSRVNTX1NVQ0NFU1MnLCAnQk9PS19QUk9HUkVTU19GQUlMVVJFJ10sXG4gICAgICBlbmRwb2ludDogYGJvb2tzLyR7Ym9va0lkfS9wcm9ncmVzc2AsXG4gICAgICBzY2hlbWE6IFNjaGVtYXMuQk9PS19QUk9HUkVTU1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hCb29rcyhmbG93KSB7XG4gIHJldHVybiB7XG4gICAgZmxvdyxcbiAgICBDQUxMX0FQSToge1xuICAgICAgdHlwZXM6IFsnQk9PS1NfUkVRVUVTVCcsICdCT09LU19TVUNDRVNTJywgJ0JPT0tTX0ZBSUxVUkUnXSxcbiAgICAgIGVuZHBvaW50OiBgYm9va3M/Zmxvdz0ke2Zsb3d9YCxcbiAgICAgIHNjaGVtYTogU2NoZW1hcy5CT09LX0FSUkFZXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmZXRjaEJvb2soYm9va0lkLCBmaWVsZHM/OkFycmF5PGFueT4pIHtcbiAgbGV0IGVuZHBvaW50ID0gYGJvb2tzLyR7Ym9va0lkfWBcblxuICBpZihmaWVsZHMpIHtcbiAgICBlbmRwb2ludCArPSBgP2ZpZWxkcz0ke2ZpZWxkcy5qb2luKCcsJyl9YFxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBib29rSWQsXG4gICAgQ0FMTF9BUEk6e1xuICAgICAgdHlwZXM6IFsnQk9PS19SRVFVRVNUJywgJ0JPT0tfU1VDQ0VTUycsICdCT09LX0ZBSUxVUkUnXSxcbiAgICAgIGVuZHBvaW50LFxuICAgICAgc2NoZW1hOiBTY2hlbWFzLkJPT0tcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoQ29sbGVjdGlvbnMoKSB7XG4gIHJldHVybiB7XG4gICAgQ0FMTF9BUEk6IHtcbiAgICAgIHR5cGVzOiBbJ0NPTExFQ1RJT05TX1JFUVVFU1QnLCAnQ09MTEVDVElPTlNfU1VDQ0VTUycsICdDT0xMRUNUSU9OU19GQUlMVVJFJ10sXG4gICAgICBlbmRwb2ludDogYGNvbGxlY3Rpb25zYCxcbiAgICAgIHNjaGVtYTogU2NoZW1hcy5DT0xMRUNUSU9OX0FSUkFZXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmZXRjaENvbGxlY3Rpb24oY29sbGVjdGlvbklkKSB7XG4gIHJldHVybiB7XG4gICAgY29sbGVjdGlvbklkLFxuICAgIENBTExfQVBJOiB7XG4gICAgICB0eXBlczogWydDT0xMRUNUSU9OX1JFUVVFU1QnLCAnQ09MTEVDVElPTl9TVUNDRVNTJywgJ0NPTExFQ1RJT05fRkFJTFVSRSddLFxuICAgICAgZW5kcG9pbnQ6IGBjb2xsZWN0aW9ucy8ke2NvbGxlY3Rpb25JZH1gLFxuICAgICAgc2NoZW1hOiBTY2hlbWFzLkNPTExFQ1RJT05cbiAgICB9XG4gIH1cbn1cblxuLy8gZXhwb3J0IGZ1bmN0aW9uIGZldGNoQm9va0NvbnRlbnQoYm9va0lkKSB7XG4vLyAgIHJldHVybiB7XG4vLyAgICAgYm9va0lkLFxuLy8gICAgIENBTExfQVBJOiB7XG4vLyAgICAgICB0eXBlczogWydCT09LX0NPTlRFTlRfUkVRVUVTVCcsICdCT09LX0NPTlRFTlRfU1VDQ0VTUycsICdCT09LX0NPTlRFTlRfRkFJTFVSRSddLFxuLy8gICAgICAgZW5kcG9pbnQ6IGBib29rcy8ke2Jvb2tJZH0vY29udGVudGAsXG4vLyAgICAgICBzY2hlbWE6IFNjaGVtYXMuQk9PS1xuLy8gICAgIH1cbi8vICAgfVxuLy8gfVxuLy9cbi8vIGV4cG9ydCBmdW5jdGlvbiBmZXRjaEJvb2tJbmZvKGJvb2tJZCkge1xuLy8gICByZXR1cm4ge1xuLy8gICAgIGJvb2tJZCxcbi8vICAgICBDQUxMX0FQSTp7XG4vLyAgICAgICB0eXBlczogWydCT09LX0lORk9fUkVRVUVTVCcsICdCT09LX0lORk9fU1VDQ0VTUycsICdCT09LX0lORk9fRkFJTFVSRSddLFxuLy8gICAgICAgZW5kcG9pbnQ6IGBib29rcy8ke2Jvb2tJZH1gLFxuLy8gICAgICAgc2NoZW1hOiBTY2hlbWFzLkJPT0tfQVJSQVlcbi8vICAgICB9XG4vLyAgIH1cbi8vIH1cblxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoRG91YmFuQm9va1NlYXJjaFJlc3VsdHMocXVlcnkpIHtcbiAgcmV0dXJuIHtcbiAgICBxdWVyeSxcbiAgICBDQUxMX0FQSTp7XG4gICAgICB0eXBlczogWydET1VCQU5fQk9PS19TRUFSQ0hfUkVRVUVTVCcsICdET1VCQU5fQk9PS19TRUFSQ0hfU1VDQ0VTUycsICdET1VCQU5fQk9PS19TRUFSQ0hfRkFJTFVSRSddLFxuICAgICAgZW5kcG9pbnQ6IGBzZWFyY2g/Y291bnQ9NSZxPSR7cXVlcnl9YCxcbiAgICAgIGFwaVVybDogQXBpUm9vdHMuRE9VQkFOX0JPT0tTLFxuICAgICAgc2NoZW1hOiBTY2hlbWFzLkRPVUJBTl9CT09LX1NFQVJDSF9SRVNVTFRTLFxuICAgICAgZXh0ZW5kZWRPcHRpb25zOiB7IHVzZUpzb25wOiB0cnVlIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlYXJjaEJvb2tzKHF1ZXJ5KSB7XG4gIHJldHVybiB7XG4gICAgcXVlcnksXG4gICAgQ0FMTF9BUEk6e1xuICAgICAgdHlwZXM6IFsnQk9PS19TRUFSQ0hfUkVRVUVTVCcsICdCT09LX1NFQVJDSF9TVUNDRVNTJywgJ0JPT0tfU0VBUkNIX0ZBSUxVUkUnXSxcbiAgICAgIGVuZHBvaW50OiBgc2VhcmNoP3E9JHtxdWVyeX1gLFxuICAgICAgYXBpVXJsOiBBcGlSb290cy5MT0NBTCxcbiAgICAgIHNjaGVtYTogU2NoZW1hcy5NQVRDSEVEX0JPT0tfQVJSQVlcbiAgICB9XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
