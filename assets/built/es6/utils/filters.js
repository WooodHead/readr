import _ from 'lodash';
export function filterContentNodesByPage(contentNodes, config, page) {
    var elements = _.cloneDeep(contentNodes), pageWrap = {}, h = 0, h2 = 0, i = 0, flag = true, startIndex = 0, endIndex = 0, eleOffset = 0, top = 0, pageContent = [], style = {};
    while (i < elements.length && h < config.pageHeight * page) {
        h = parseInt(elements[i].props.style.height) + h;
        h2 = h - parseInt(elements[i].props.style.height);
        if ((h > config.pageHeight * (page - 1)) && (flag == true)) {
            startIndex = i;
            eleOffset = h2 - config.pageHeight * (page - 1);
            flag = false;
        }
        endIndex = i;
        i++;
    }
    top = (page - 1) * config.pageHeight;
    for (i = startIndex; i <= endIndex; i++) {
        switch (elements[i].type) {
            case "p":
                pageContent.push(elements[i]);
                break;
            default:
                console.error("Unsupported content found!");
        }
    }
    if (config.mode === "VERTICAL") {
        style = {
            top: top,
            position: "absolute"
        };
    }
    else {
        style = {
            top: top,
            position: "absolute"
        };
    }
    pageContent[0].props.style.marginTop = eleOffset;
    pageWrap = {
        props: {
            children: pageContent,
            style: style,
            pageNo: page
        },
        type: "page"
    };
    return pageWrap;
}

//# sourceMappingURL=data:application/json;base64,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QUFBO0lBRUQsTUFBTSxDQUFDLFFBQVEsQ0FBQTtBQUNqQixDQUFDIiwiZmlsZSI6InV0aWxzL2ZpbHRlcnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnXG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJDb250ZW50Tm9kZXNCeVBhZ2UoY29udGVudE5vZGVzLCBjb25maWcsIHBhZ2UpIHtcbiAgdmFyIGVsZW1lbnRzID0gXy5jbG9uZURlZXAoY29udGVudE5vZGVzKSwgcGFnZVdyYXAgPSB7fSxcbiAgICAgIGggPSAwLCBoMiA9IDAsIGkgPSAwLCBmbGFnID0gdHJ1ZSwgc3RhcnRJbmRleCA9IDAsIGVuZEluZGV4ID0gMCwgZWxlT2Zmc2V0ID0gMCwgdG9wID0gMCxcbiAgICAgIHBhZ2VDb250ZW50ID0gW10sIHN0eWxlID0ge31cblxuICB3aGlsZSAoaSA8IGVsZW1lbnRzLmxlbmd0aCAmJiBoIDwgY29uZmlnLnBhZ2VIZWlnaHQgKiBwYWdlKSB7XG4gICAgaCA9IHBhcnNlSW50KGVsZW1lbnRzW2ldLnByb3BzLnN0eWxlLmhlaWdodCkgKyBoXG4gICAgaDIgPSBoIC0gcGFyc2VJbnQoZWxlbWVudHNbaV0ucHJvcHMuc3R5bGUuaGVpZ2h0KVxuICAgIGlmICgoaCA+IGNvbmZpZy5wYWdlSGVpZ2h0ICogKHBhZ2UgLSAxKSkgJiYgKGZsYWcgPT0gdHJ1ZSkpIHtcbiAgICAgIHN0YXJ0SW5kZXggPSBpXG4gICAgICBlbGVPZmZzZXQgPSBoMiAtIGNvbmZpZy5wYWdlSGVpZ2h0ICogKHBhZ2UgLSAxKVxuICAgICAgZmxhZyA9IGZhbHNlXG4gICAgfVxuICAgIGVuZEluZGV4ID0gaVxuICAgIGkrK1xuICB9XG4gIHRvcCA9IChwYWdlIC0gMSkgKiBjb25maWcucGFnZUhlaWdodDtcblxuICBmb3IoaSA9IHN0YXJ0SW5kZXg7IGkgPD0gZW5kSW5kZXg7IGkrKyl7XG4gICAgc3dpdGNoIChlbGVtZW50c1tpXS50eXBlKSB7XG4gICAgICBjYXNlIFwicFwiOlxuICAgICAgICBwYWdlQ29udGVudC5wdXNoKGVsZW1lbnRzW2ldKVxuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlVuc3VwcG9ydGVkIGNvbnRlbnQgZm91bmQhXCIpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChjb25maWcubW9kZSA9PT0gXCJWRVJUSUNBTFwiKSB7XG4gICAgc3R5bGUgPSB7XG4gICAgICB0b3A6IHRvcCxcbiAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCJcbiAgICB9XG4gIH1lbHNle1xuICAgIHN0eWxlID0ge1xuICAgICAgdG9wOiB0b3AsXG4gICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiXG4gICAgfVxuICB9XG5cbiAgcGFnZUNvbnRlbnRbMF0ucHJvcHMuc3R5bGUubWFyZ2luVG9wID0gZWxlT2Zmc2V0XG4gIHBhZ2VXcmFwID0ge1xuICAgIHByb3BzOiB7XG4gICAgICBjaGlsZHJlbjogcGFnZUNvbnRlbnQsXG4gICAgICBzdHlsZTogc3R5bGUsXG4gICAgICBwYWdlTm86IHBhZ2VcbiAgICB9LFxuICAgIHR5cGU6IFwicGFnZVwiXG4gIH1cblxuICByZXR1cm4gcGFnZVdyYXBcbn1cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
