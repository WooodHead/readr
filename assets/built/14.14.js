webpackJsonp([14],{160:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.common=t.usersSelector=t.booksSelector=t.booksSearchAsOptions=t.authorsAsOptions=t.doubanBooksAsOptions=t.searchBooksSelector=t.queryAuthorsSelector=t.queryDoubanBooksSelector=void 0;var r=n(161);Object.keys(r).forEach(function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var a=n(162),u=o(r),i=t.queryDoubanBooksSelector=function(e){return(0,a.createSelector)((0,r.selectPaginatedEntities)({entitiesName:"doubanBooks",paginationName:"doubanBooks",paginationQuery:e}),function(e){return e})},l=t.queryAuthorsSelector=function(e){return(0,r.selectPaginatedEntities)({entitiesName:"authors",paginationName:"authors",paginationQuery:e})},c=t.searchBooksSelector=function(e){return(0,r.selectPaginatedEntities)({entitiesName:"books",paginationName:"books",paginationQuery:e})};t.doubanBooksAsOptions=function(e){return(0,a.createSelector)(i(e),function(e){return e.map(function(e){return{name:e.title,value:e.id,additional:{description:e.summary,cover:e.images.large,author:e.author.join(", ")}}})})},t.authorsAsOptions=function(e){return(0,a.createSelector)(l(e),function(e){return e.map(function(e){return{name:e.name,value:e.id}})})},t.booksSearchAsOptions=function(e){return(0,a.createSelector)(c(e),function(e){return e.map(function(e){return{name:e.title,value:e.id}})})},t.booksSelector=(0,a.createSelector)((0,r.selectPaginatedEntities)({entitiesName:"books",paginationName:"books",paginationKey:"default"}),function(e){return e}),t.usersSelector=(0,r.selectPaginatedEntities)({entitiesName:"users",paginationName:"users",paginationKey:"default"});t.common=u},161:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.selectPaginatedEntities=t.paginationLinkSelector=void 0;var r=n(162),a=n(18),u=o(a),i=function(e){return function(t){return t.entities[e]||{}}},l=function(e){var t=arguments.length<=1||void 0===arguments[1]?"default":arguments[1];return function(n){return u["default"].get(n.pagination,e+"."+t+".ids",[])}},c=(t.paginationLinkSelector=function(e){var t=arguments.length<=1||void 0===arguments[1]?"default":arguments[1];return function(n){return u["default"].pick(u["default"].get(n.pagination,e+"."+t,{}),["next","last"])}},function(e,t){return function(n){return u["default"].get(n.pagination,[e,"query",t,"ids"],[])}});t.selectPaginatedEntities=function(e){var t=e.entitiesName,n=e.paginationName,o=e.paginationKey,a=e.paginationQuery,u=void 0;return u=a?c(n,a):l(n,o),(0,r.createSelector)(i(t),u,function(e,t){return t.map(function(t){return e[t]})})}},162:function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){return e===t}function r(e){var t=arguments.length<=1||void 0===arguments[1]?o:arguments[1],n=null,r=null;return function(){for(var o=arguments.length,a=Array(o),u=0;o>u;u++)a[u]=arguments[u];return null!==n&&n.length===a.length&&a.every(function(e,o){return t(e,n[o])})?r:(r=e.apply(void 0,a),n=a,r)}}function a(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, "+("instead received the following types: ["+n+"]"))}return t}function u(e){for(var t=arguments.length,o=Array(t>1?t-1:0),r=1;t>r;r++)o[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),u=0;t>u;u++)r[u]=arguments[u];var i=0,l=r.pop(),c=a(r),s=e.apply(void 0,[function(){return i++,l.apply(void 0,arguments)}].concat(o)),f=function(e,t){for(var o=arguments.length,r=Array(o>2?o-2:0),a=2;o>a;a++)r[a-2]=arguments[a];var u=c.map(function(n){return n.apply(void 0,[e,t].concat(r))});return s.apply(void 0,n(u))};return f.resultFunc=l,f.recomputations=function(){return i},f.resetRecomputations=function(){return i=0},f}}function i(){return u(r).apply(void 0,arguments)}function l(e){var t=arguments.length<=1||void 0===arguments[1]?i:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),o=0;e>o;o++)t[o]=arguments[o];return t.reduce(function(e,t,o){return e[n[o]]=t,e},{})})}t.__esModule=!0,t.defaultMemoize=r,t.createSelectorCreator=u,t.createSelector=i,t.createStructuredSelector=l},171:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Textarea=t.SelectizeInput=t.Input=t.Button=void 0;var r=n(96),a=o(r),u=n(172),i=o(u),l=n(175),c=o(l),s=n(178),f=o(s);t.Button=a["default"],t.Input=i["default"],t.SelectizeInput=c["default"],t.Textarea=f["default"]},172:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(173),a=o(r);t["default"]=a["default"]},173:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=n(3),s=o(c),f=n(82),p=o(f),d=function(e,t,n,o){var r,a=arguments.length,u=3>a?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(u=(3>a?r(u):a>3?r(t,n,u):r(t,n))||u);return a>3&&u&&Object.defineProperty(t,n,u),u},h=n(174),y=function(e){function t(e){return r(this,t),a(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),i(t,[{key:"render",value:function(){var e=this,t=Object.assign({},this.props);return delete t.className,s["default"].createElement("div",{styleName:"input-wrap",className:this.props.className||""},s["default"].createElement("input",{styleName:"input",placeholder:this.props.placeholder,value:this.props.value,onChange:function(t){e.props.onChange(t)},type:this.props.type?this.props.type:"text",name:this.props.name?this.props.name:null}))}}]),t}(c.Component);y=d([(0,p["default"])(h,{allowMultiple:!0})],y),t["default"]=y},174:function(e,t){e.exports={"input-wrap":"input-wrap_3dHA3",input:"input_2juBO"}},175:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(176),a=o(r);t["default"]=a["default"]},176:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=n(3),s=o(c),f=n(78),p=o(f),d=n(80),h=o(d),y=n(82),b=o(y),v=n(108),m=o(v),g=function(e,t,n,o){var r,a=arguments.length,u=3>a?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(u=(3>a?r(u):a>3?r(t,n,u):r(t,n))||u);return a>3&&u&&Object.defineProperty(t,n,u),u},O=n(177),_=function(e){function t(e){r(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.state={showOptions:!1,focus:!1,value:"",expendedOptionIndex:0},n.handleOutsideClick=n.handleOutsideClick.bind(n),n.focusInput=n.focusInput.bind(n),n.handleInputWrapClick=n.handleInputWrapClick.bind(n),n}return u(t,e),i(t,[{key:"addValue",value:function(e){this.props.onValuesChange(this.props.values.concat(e)),this.props.onOptionsChange&&this.props.onOptionsChange(this.props.options.map(function(t){return t.value===e.value?Object.assign({},t,{disabled:!0}):t})),this.clearInputValue(),"undefined"!=typeof this.props.stayFocused&&this.props.stayFocused===!1||this.focusInput(),this.setState({showOptions:!1})}},{key:"removeValue",value:function(e){var t=[],n=void 0;-1===e?(t=this.props.values.slice(0,this.props.values.length-1),n=this.props.values[this.props.values.length-1].value):t=this.props.values.filter(function(t,o){return n=t.value,o!==e}),this.props.onOptionsChange&&this.props.onOptionsChange(this.props.options.map(function(e){return e.value===n?Object.assign({},e,{disabled:!1}):e})),this.props.onValuesChange(t)}},{key:"clearInputValue",value:function(){this.props.onInputChange("")}},{key:"handleKeyPress",value:function(e){8!==e.keyCode||this.props.value||this.removeValue(-1)}},{key:"focusInput",value:function(){this.input.focus()}},{key:"handleOutsideClick",value:function(e){(0,m["default"])(this.inputWrap,e.target)||this.setState({showOptions:!1})}},{key:"handleInputWrapClick",value:function(){this.focusInput(),this.setState({showOptions:!0})}},{key:"componentDidMount",value:function(){window.addEventListener("click",this.handleOutsideClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handleOutsideClick)}},{key:"render",value:function(){var e=this,t=this.props,n=t.label,o=t.values,r=t.onAddNewValue,a=this.props.value||"",u=this.props.options||[],i=o.length>0?0===a.length?16:16*a.length:"100%",l=o.length>0?"":this.props.placeholder,c=(0,h["default"])({"selectize-input":!0,"selectize-input--focus":this.state.focus,"selectize-input--empty":0===o.length});return s["default"].createElement("div",{styleName:"selectize-wrap",className:this.props.className||""},n?s["default"].createElement("label",{className:"form-label"},n):null,s["default"].createElement("div",{styleName:c,onClick:this.handleInputWrapClick,ref:function(t){e.inputWrap=t}},o.map(function(t,n){return s["default"].createElement("span",{key:n,styleName:"selectize-tag"},t.name,s["default"].createElement(p["default"],{styleName:"icon-remove",size:20,name:"close",onClick:function(t){e.removeValue(n)}}))}),s["default"].createElement("input",{style:{width:i},ref:function(t){e.input=t},value:a,placeholder:l,onBlur:function(t){e.setState({focus:!1})},onFocus:function(t){e.setState({focus:!0})},onChange:function(t){e.props.onInputChange(t.target.value)},onKeyDown:function(t){e.handleKeyPress(t)}})),this.state.showOptions&&(0!==u.length||r)?s["default"].createElement("ul",{styleName:"query-results"},u.map(function(t,n){return t.disabled?s["default"].createElement("li",{key:n,className:"disabled"},t.name):s["default"].createElement("li",{key:n,onClick:function(n){e.addValue(t),e.props.onOptionClick&&e.props.onOptionClick(t)}},s["default"].createElement("span",null,t.name))}),r?s["default"].createElement("li",{onClick:function(t){r(e.props.value)},className:"add"},"添加 ",s["default"].createElement("strong",null,this.props.value)):null):null)}}]),t}(c.Component);_=g([(0,b["default"])(O,{allowMultiple:!0})],_),t["default"]=_},177:function(e,t){e.exports={"selectize-wrap":"selectize-wrap_3AMAi","selectize-input":"selectize-input_14bgP","selectize-input--focus":"selectize-input--focus_UnZ8B","selectize-input--empty":"selectize-input--empty_xn7Uy","query-results":"query-results_OgE2t","selectize-tag":"selectize-tag_3aD13","icon-remove":"icon-remove_1O7F_"}},178:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(179),a=o(r);t["default"]=a["default"]},179:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=n(3),s=o(c),f=n(82),p=o(f),d=function(e,t,n,o){var r,a=arguments.length,u=3>a?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(u=(3>a?r(u):a>3?r(t,n,u):r(t,n))||u);return a>3&&u&&Object.defineProperty(t,n,u),u},h=n(180),y=function(e){function t(e){return r(this,t),a(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),i(t,[{key:"render",value:function(){var e=this;return s["default"].createElement("div",{styleName:"textarea-wrap",className:this.props.className||""},s["default"].createElement("textarea",{placeholder:this.props.placeholder,value:this.props.value,onChange:function(t){e.props.onChange(t)},styleName:"textarea",type:this.props.type?this.props.type:"text",name:this.props.name?this.props.name:null}))}}]),t}(c.Component);y=d([(0,p["default"])(h,{allowMultiple:!0})],y),t["default"]=y},180:function(e,t){e.exports={"textarea-wrap":"textarea-wrap_Xkpj1 input-wrap_3dHA3",textarea:"textarea_1EdoS"}},240:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(3),c=o(l),s=n(7),f=n(26),p=n(8),d=n(18),h=o(d),y=n(119),b=o(y),v=n(134),m=o(v),g=n(241),O=o(g),_=function(e){function t(e){r(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.state={addBookFormInitialData:{}},n.handleTitleValueChange=n.handleTitleValueChange.bind(n),n.handleAuthorValueChange=n.handleAuthorValueChange.bind(n),n.addAuthor=n.addAuthor.bind(n),n.addBook=n.addBook.bind(n),n}return u(t,e),i(t,[{key:"addBook",value:function(e){var t=this;b["default"].addBook(e).then(function(e){t.props.sendNotification("添加成功"),t.props.reset("addBook"),t.setState({addBookFormInitialData:{}})},function(e){t.props.sendNotification(e.message,"error")})}},{key:"addAuthor",value:function(e){var t=this;b["default"].addAuthor(e).then(function(e){t.props.sendNotification("添加成功");var n=e.json.ops[0]._id,o=e.json.ops[0].name;t.setState({addBookFormInitialData:{_authorValues:[{name:o,value:n}],_authorValue:""}}),t.props.closeModal()},function(e){t.props.sendNotification(e.message)})}},{key:"handleAuthorValueChange",value:function(e){h["default"].isEmpty(e)||this.props.fetchAuthors({q:e})}},{key:"handleTitleValueChange",value:function(e){h["default"].isEmpty(e)||this.props.searchDoubanBooks(e)}},{key:"render",value:function(){return c["default"].createElement(m["default"],{title:"添加书籍"},c["default"].createElement("h1",{className:"page-title"},"添加书籍"),c["default"].createElement(O["default"],{onTitleInputChange:this.handleTitleValueChange,onAuthorInputChange:this.handleAuthorValueChange,onSaveAuthor:this.addAuthor,initialData:this.state.addBookFormInitialData,onSaveBook:this.addBook}))}}]),t}(l.Component),k=function(e){return{notification:e.components.notification,elements:e.elements}};t["default"]=(0,s.connect)(k,{sendNotification:p.sendNotification,changeValue:p.changeValue,openModal:p.openModal,searchDoubanBooks:p.searchDoubanBooks,closeModal:p.closeModal,fetchAuthors:p.fetchAuthors,reset:f.reset})(_)},241:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=n(3),f=r(s),p=n(7),d=n(26),h=n(8),y=n(160),b=o(y),v=n(172),m=r(v),g=n(178),O=r(g),_=n(171),k=n(242),w=r(k),j=n(18),C=r(j),S=Object.assign||function(e){for(var t,n=1,o=arguments.length;o>n;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},E=function(e,t,n,o){var r,a=arguments.length,u=3>a?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":c(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(u=(3>a?r(u):a>3?r(t,n,u):r(t,n))||u);return a>3&&u&&Object.defineProperty(t,n,u),u},P=["_titleValue","_titleValues","_authorValue","_authorValues","cover","description","content"],A=function(e){function t(e){a(this,t);var n=u(this,Object.getPrototypeOf(t).call(this,e));return n.handleTitleOptionClick=n.handleTitleOptionClick.bind(n),n}return i(t,e),l(t,[{key:"handleTitleOptionClick",value:function(e){var t=this.props.fields,n=(t._titleValue,t._titleValues,t._authorValue),o=t.cover,r=t.description;o.onChange(e.additional.cover),n.onChange(e.additional.author),r.onChange(e.additional.description)}},{key:"render",value:function(){var e=this,t=this.props,n=t.fields,o=n._titleValue,r=n._titleValues,a=n._authorValue,u=n._authorValues,i=n.cover,l=n.description,c=n.content,s=t.handleSubmit,p=t.onTitleInputChange,d=t.onAuthorInputChange,h=t.doubanBooksAsOptions,y=t.authorsAsOptions,b=t.onSaveAuthor,v=t.onSaveBook;return f["default"].createElement("div",null,f["default"].createElement(_.SelectizeInput,{placeholder:"书名",onInputChange:function(e){p(e),o.onChange(e)},value:o.value,onValuesChange:function(e){r.onChange(e)},options:h,values:r.value||[],onOptionClick:this.handleTitleOptionClick}),f["default"].createElement(_.SelectizeInput,{placeholder:"作者",onInputChange:function(e){d(e),a.onChange(e)},value:a.value,onValuesChange:function(e){u.onChange(e)},options:y,values:u.value||[],onAddNewValue:function(t){e.props.openModal({title:"添加作者",content:f["default"].createElement(w["default"],{initialData:{name:t},onSave:b})})}}),f["default"].createElement(m["default"],S({placeholder:"封面图片地址"},i)),f["default"].createElement(O["default"],S({placeholder:"描述"},l)),f["default"].createElement(O["default"],S({placeholder:"在此粘贴书籍内容 (markdown 格式)"},c)),f["default"].createElement(_.Button,{onClick:s(function(e){var t=C["default"].pick(e,["cover","description","content"]);t=C["default"].assign({},t,{title:C["default"].get(r,"value[0].name",""),authors:Array.isArray(u.value)?u.value.map(function(e){return e.value}):[]}),v(t)})},"添加"))}}]),t}(s.Component);A=E([(0,d.reduxForm)({form:"addBook",fields:P})],A);var M=function(e,t){var n=C["default"].get(e.form,"addBook._titleValue.value",""),o=C["default"].get(e.form,"addBook._authorValue.value","");return{initialValues:t.initialData,routing:e.routing.locationBeforeTransitions,doubanBooksAsOptions:b.doubanBooksAsOptions(n)(e),authorsAsOptions:b.authorsAsOptions(o)(e)}};t["default"]=(0,p.connect)(M,{sendNotification:h.sendNotification,openModal:h.openModal})(A)},242:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=n(3),s=o(c),f=n(7),p=n(26),d=n(8),h=n(172),y=o(h),b=n(95),v=o(b),m=Object.assign||function(e){for(var t,n=1,o=arguments.length;o>n;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},g=function(e,t,n,o){var r,a=arguments.length,u=3>a?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(u=(3>a?r(u):a>3?r(t,n,u):r(t,n))||u);return a>3&&u&&Object.defineProperty(t,n,u),u},O=function(e){function t(e){return r(this,t),a(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),i(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.fields,n=t.name,o=t.slug,r=t.description,a=e.handleSubmit,u=e.closeModal,i=e.onSave;return s["default"].createElement("div",null,s["default"].createElement(y["default"],m({placeholder:"名字"},n)),s["default"].createElement(y["default"],m({placeholder:"唯一标识"},o)),s["default"].createElement(y["default"],m({placeholder:"描述"},r)),s["default"].createElement(v["default"],{onConfirm:a(function(e){i(e)}),onCancel:u}))}}]),t}(c.Component);O=g([(0,p.reduxForm)({form:"addAuthor",fields:["name","slug","description"]})],O),t["default"]=(0,f.connect)(function(e,t){return{initialValues:t.initialData,routing:e.routing.locationBeforeTransitions}},{sendNotification:d.sendNotification,closeModal:d.closeModal})(O)}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vMTQuMTQuanMiLCJ3ZWJwYWNrOi8vL3NyYy9pc29tb3JwaGljL3N0b3JlL3NlbGVjdG9ycy9pbmRleC50cz83MjZiKioqIiwid2VicGFjazovLy9zcmMvaXNvbW9ycGhpYy9zdG9yZS9zZWxlY3RvcnMvY29tbW9uLnRzPzMzMzYqKioiLCJ3ZWJwYWNrOi8vLy4vfi9yZXNlbGVjdC9saWIvaW5kZXguanM/NjQ2YioqKiIsIndlYnBhY2s6Ly8vc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvX2Zvcm0vaW5kZXgudHM/NTBkNyoqKioqKioiLCJ3ZWJwYWNrOi8vL3NyYy9pc29tb3JwaGljL2VsZW1lbnRzL19mb3JtL0lucHV0L2luZGV4LnRzPzIxZDMqKioqKioqIiwid2VicGFjazovLy9zcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9JbnB1dC9JbnB1dC50c3g/ZGExZCoqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvX2Zvcm0vSW5wdXQvSW5wdXQuY3NzP2VkZjUqKioqKioqIiwid2VicGFjazovLy9zcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9TZWxlY3RpemVJbnB1dC9pbmRleC50cz83ZTgwKioqKioqKiIsIndlYnBhY2s6Ly8vc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvX2Zvcm0vU2VsZWN0aXplSW5wdXQvU2VsZWN0aXplSW5wdXQudHN4PzRlNzMqKioqKioqIiwid2VicGFjazovLy8uL3NyYy9pc29tb3JwaGljL2VsZW1lbnRzL19mb3JtL1NlbGVjdGl6ZUlucHV0L1NlbGVjdGl6ZUlucHV0LnNjc3M/ZjA4NioqKioqKioiLCJ3ZWJwYWNrOi8vL3NyYy9pc29tb3JwaGljL2VsZW1lbnRzL19mb3JtL1RleHRhcmVhL2luZGV4LnRzP2I4MTIqKioqKioqIiwid2VicGFjazovLy9zcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9UZXh0YXJlYS9UZXh0YXJlYS50c3g/YzJhZioqKioqKioiLCJ3ZWJwYWNrOi8vLy4vc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvX2Zvcm0vVGV4dGFyZWEvVGV4dGFyZWEuY3NzP2Q5ZmYqKioqKioqIiwid2VicGFjazovLy9zcmMvaXNvbW9ycGhpYy9yb3V0ZXMvQWRkQm9vay9BZGRCb29rLnRzeCIsIndlYnBhY2s6Ly8vc3JjL2lzb21vcnBoaWMvcm91dGVzL0FkZEJvb2svY29tcG9uZW50cy9BZGRCb29rRm9ybS50c3giLCJ3ZWJwYWNrOi8vL3NyYy9pc29tb3JwaGljL3JvdXRlcy9BZGRCb29rL2NvbXBvbmVudHMvQWRkQXV0aG9yRm9ybS50c3giXSwibmFtZXMiOlsid2VicGFja0pzb25wIiwxNjAsIm1vZHVsZSIsImV4cG9ydHMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJvYmoiLCJfX2VzTW9kdWxlIiwibmV3T2JqIiwia2V5IiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsImNvbW1vbiIsInVzZXJzU2VsZWN0b3IiLCJib29rc1NlbGVjdG9yIiwiYm9va3NTZWFyY2hBc09wdGlvbnMiLCJhdXRob3JzQXNPcHRpb25zIiwiZG91YmFuQm9va3NBc09wdGlvbnMiLCJzZWFyY2hCb29rc1NlbGVjdG9yIiwicXVlcnlBdXRob3JzU2VsZWN0b3IiLCJxdWVyeURvdWJhbkJvb2tzU2VsZWN0b3IiLCJ1bmRlZmluZWQiLCJfY29tbW9uIiwia2V5cyIsImZvckVhY2giLCJlbnVtZXJhYmxlIiwiZ2V0IiwiX3Jlc2VsZWN0IiwicXVlcnkiLCJjcmVhdGVTZWxlY3RvciIsInNlbGVjdFBhZ2luYXRlZEVudGl0aWVzIiwiZW50aXRpZXNOYW1lIiwicGFnaW5hdGlvbk5hbWUiLCJwYWdpbmF0aW9uUXVlcnkiLCJib29rcyIsIm1hcCIsImJvb2siLCJuYW1lIiwidGl0bGUiLCJpZCIsImFkZGl0aW9uYWwiLCJkZXNjcmlwdGlvbiIsInN1bW1hcnkiLCJjb3ZlciIsImltYWdlcyIsImxhcmdlIiwiYXV0aG9yIiwiam9pbiIsIml0ZW1zIiwiaXRlbSIsInBhZ2luYXRpb25LZXkiLDE2MSwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsImRlZmF1bHQiLCJwYWdpbmF0aW9uTGlua1NlbGVjdG9yIiwiX2xvZGFzaCIsIl9sb2Rhc2gyIiwiZW50aXRpZXNTZWxlY3RvciIsInN0YXRlIiwiZW50aXRpZXMiLCJwYWdpbmF0aW9uU2VsZWN0b3IiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJwYWdpbmF0aW9uIiwicXVlcnlQYWdpbmF0aW9uU2VsZWN0b3IiLCJwaWNrIiwib3B0aW9ucyIsInBhZ2lTZWxlY3RvciIsImlkcyIsMTYyLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJhcnIiLCJBcnJheSIsImlzQXJyYXkiLCJpIiwiYXJyMiIsImZyb20iLCJkZWZhdWx0RXF1YWxpdHlDaGVjayIsImEiLCJiIiwiZGVmYXVsdE1lbW9pemUiLCJmdW5jIiwiZXF1YWxpdHlDaGVjayIsImxhc3RBcmdzIiwibGFzdFJlc3VsdCIsIl9sZW4iLCJhcmdzIiwiX2tleSIsImV2ZXJ5IiwiaW5kZXgiLCJhcHBseSIsImdldERlcGVuZGVuY2llcyIsImZ1bmNzIiwiZGVwZW5kZW5jaWVzIiwiZGVwIiwiZGVwZW5kZW5jeVR5cGVzIiwiRXJyb3IiLCJjcmVhdGVTZWxlY3RvckNyZWF0b3IiLCJtZW1vaXplIiwiX2xlbjIiLCJtZW1vaXplT3B0aW9ucyIsIl9rZXkyIiwiX2xlbjMiLCJfa2V5MyIsInJlY29tcHV0YXRpb25zIiwicmVzdWx0RnVuYyIsInBvcCIsIm1lbW9pemVkUmVzdWx0RnVuYyIsImNvbmNhdCIsInNlbGVjdG9yIiwicHJvcHMiLCJfbGVuNCIsIl9rZXk0IiwicGFyYW1zIiwiZGVwZW5kZW5jeSIsInJlc2V0UmVjb21wdXRhdGlvbnMiLCJjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3IiLCJzZWxlY3RvcnMiLCJzZWxlY3RvckNyZWF0b3IiLCJvYmplY3RLZXlzIiwiX2xlbjUiLCJ2YWx1ZXMiLCJfa2V5NSIsInJlZHVjZSIsImNvbXBvc2l0aW9uIiwxNzEsIlRleHRhcmVhIiwiU2VsZWN0aXplSW5wdXQiLCJJbnB1dCIsIkJ1dHRvbiIsIl9CdXR0b24iLCJfQnV0dG9uMiIsIl9JbnB1dCIsIl9JbnB1dDIiLCJfU2VsZWN0aXplSW5wdXQiLCJfU2VsZWN0aXplSW5wdXQyIiwiX1RleHRhcmVhIiwiX1RleHRhcmVhMiIsMTcyLDE3MywiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwic2VsZiIsIlJlZmVyZW5jZUVycm9yIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsImRlc2NyaXB0b3IiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfdHlwZW9mIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfcmVhY3QiLCJfcmVhY3QyIiwiX3JlYWN0Q3NzTW9kdWxlcyIsIl9yZWFjdENzc01vZHVsZXMyIiwiX19kZWNvcmF0ZSIsImRlY29yYXRvcnMiLCJkZXNjIiwiZCIsImMiLCJyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiUmVmbGVjdCIsImRlY29yYXRlIiwic3R5bGVzIiwiX0NvbXBvbmVudCIsInRoaXMiLCJnZXRQcm90b3R5cGVPZiIsIl90aGlzMiIsImFzc2lnbiIsImNsYXNzTmFtZSIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZU5hbWUiLCJwbGFjZWhvbGRlciIsIm9uQ2hhbmdlIiwiZSIsInR5cGUiLCJDb21wb25lbnQiLCJhbGxvd011bHRpcGxlIiwxNzQsImlucHV0LXdyYXAiLCJpbnB1dCIsMTc1LDE3NiwiX0ljb24iLCJfSWNvbjIiLCJfY2xhc3NuYW1lcyIsIl9jbGFzc25hbWVzMiIsIl9pc0Rlc2NlbmRhbnQiLCJfaXNEZXNjZW5kYW50MiIsIl90aGlzIiwic2hvd09wdGlvbnMiLCJmb2N1cyIsImV4cGVuZGVkT3B0aW9uSW5kZXgiLCJoYW5kbGVPdXRzaWRlQ2xpY2siLCJiaW5kIiwiZm9jdXNJbnB1dCIsImhhbmRsZUlucHV0V3JhcENsaWNrIiwibmV3VmFsdWUiLCJvblZhbHVlc0NoYW5nZSIsIm9uT3B0aW9uc0NoYW5nZSIsIm9wdGlvbiIsImRpc2FibGVkIiwiY2xlYXJJbnB1dFZhbHVlIiwic3RheUZvY3VzZWQiLCJzZXRTdGF0ZSIsIm5ld1ZhbHVlcyIsInJlbW92ZWRWYWx1ZSIsInNsaWNlIiwiZmlsdGVyIiwidiIsIm9uSW5wdXRDaGFuZ2UiLCJrZXlDb2RlIiwicmVtb3ZlVmFsdWUiLCJpbnB1dFdyYXAiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9wcm9wcyIsImxhYmVsIiwib25BZGROZXdWYWx1ZSIsImlucHV0V2lkdGgiLCJzZWxlY3RpemVJbnB1dFN0eWxlTmFtZSIsInNlbGVjdGl6ZS1pbnB1dCIsInNlbGVjdGl6ZS1pbnB1dC0tZm9jdXMiLCJzZWxlY3RpemUtaW5wdXQtLWVtcHR5Iiwib25DbGljayIsInJlZiIsIl9yZWYiLCJzaXplIiwic3R5bGUiLCJ3aWR0aCIsIl9yZWYyIiwib25CbHVyIiwib25Gb2N1cyIsIm9uS2V5RG93biIsImhhbmRsZUtleVByZXNzIiwiYWRkVmFsdWUiLCJvbk9wdGlvbkNsaWNrIiwxNzcsInNlbGVjdGl6ZS13cmFwIiwicXVlcnktcmVzdWx0cyIsInNlbGVjdGl6ZS10YWciLCJpY29uLXJlbW92ZSIsMTc4LDE3OSwxODAsInRleHRhcmVhLXdyYXAiLCJ0ZXh0YXJlYSIsMjQwLCJfcmVhY3RSZWR1eCIsIl9yZWR1eEZvcm0iLCJfYWN0aW9ucyIsIl9hcGlzIiwiX2FwaXMyIiwiX0RvY0NvbnRhaW5lciIsIl9Eb2NDb250YWluZXIyIiwiX0FkZEJvb2tGb3JtIiwiX0FkZEJvb2tGb3JtMiIsIkFkZEJvb2siLCJhZGRCb29rRm9ybUluaXRpYWxEYXRhIiwiaGFuZGxlVGl0bGVWYWx1ZUNoYW5nZSIsImhhbmRsZUF1dGhvclZhbHVlQ2hhbmdlIiwiYWRkQXV0aG9yIiwiYWRkQm9vayIsImRhdGEiLCJ0aGVuIiwicmVzdWx0Iiwic2VuZE5vdGlmaWNhdGlvbiIsInJlc2V0IiwiZXJyb3IiLCJtZXNzYWdlIiwiX3RoaXMzIiwianNvbiIsIm9wcyIsIl9pZCIsIl9hdXRob3JWYWx1ZXMiLCJfYXV0aG9yVmFsdWUiLCJjbG9zZU1vZGFsIiwiaXNFbXB0eSIsImZldGNoQXV0aG9ycyIsInEiLCJuZXdWYWwiLCJzZWFyY2hEb3ViYW5Cb29rcyIsIm9uVGl0bGVJbnB1dENoYW5nZSIsIm9uQXV0aG9ySW5wdXRDaGFuZ2UiLCJvblNhdmVBdXRob3IiLCJpbml0aWFsRGF0YSIsIm9uU2F2ZUJvb2siLCJtYXBTdGF0ZVRvUHJvcHMiLCJub3RpZmljYXRpb24iLCJjb21wb25lbnRzIiwiZWxlbWVudHMiLCJjb25uZWN0IiwiY2hhbmdlVmFsdWUiLCJvcGVuTW9kYWwiLDI0MSwiX3NlbGVjdG9ycyIsIl9mb3JtIiwiX0FkZEF1dGhvckZvcm0iLCJfQWRkQXV0aG9yRm9ybTIiLCJfX2Fzc2lnbiIsInQiLCJzIiwibiIsInAiLCJmaWVsZHMiLCJBZGRCb29rRm9ybSIsImhhbmRsZVRpdGxlT3B0aW9uQ2xpY2siLCJfcHJvcHMkZmllbGRzIiwiX3RpdGxlVmFsdWUiLCJfdGl0bGVWYWx1ZXMiLCJfcHJvcHMkZmllbGRzMiIsImNvbnRlbnQiLCJoYW5kbGVTdWJtaXQiLCJvblNhdmUiLCJwb3N0RGF0YSIsImF1dGhvcnMiLCJyZWR1eEZvcm0iLCJmb3JtIiwib3duUHJvcHMiLCJkb3ViYW5Cb29rUXVlcnkiLCJhdXRob3JzUXVlcnkiLCJpbml0aWFsVmFsdWVzIiwicm91dGluZyIsImxvY2F0aW9uQmVmb3JlVHJhbnNpdGlvbnMiLDI0MiwiX01vZGFsRm9vdGVyIiwiX01vZGFsRm9vdGVyMiIsIkFkZEF1dGhvckZvcm0iLCJzbHVnIiwib25Db25maXJtIiwib25DYW5jZWwiXSwibWFwcGluZ3MiOiJBQUFBQSxjQUFjLEtBRVJDLElBQ0EsU0FBU0MsRUFBUUMsRUFBU0MsR0FFL0IsWUF1QkEsU0FBU0MsR0FBd0JDLEdBQU8sR0FBSUEsR0FBT0EsRUFBSUMsV0FBYyxNQUFPRCxFQUFjLElBQUlFLEtBQWEsSUFBVyxNQUFQRixFQUFlLElBQUssR0FBSUcsS0FBT0gsR0FBV0ksT0FBT0MsVUFBVUMsZUFBZUMsS0FBS1AsRUFBS0csS0FBTUQsRUFBT0MsR0FBT0gsRUFBSUcsR0FBZ0MsT0FBdEJELGNBQWlCRixFQUFZRSxFQXJCbFFFLE9BQU9JLGVBQWVYLEVBQVMsY0FDM0JZLE9BQU8sSUFFWFosRUFBUWEsT0FBU2IsRUFBUWMsY0FBZ0JkLEVBQVFlLGNBQWdCZixFQUFRZ0IscUJBQXVCaEIsRUFBUWlCLGlCQUFtQmpCLEVBQVFrQixxQkFBdUJsQixFQUFRbUIsb0JBQXNCbkIsRUFBUW9CLHFCQUF1QnBCLEVBQVFxQix5QkFBMkJDLE1DUHBQLElBQUFDLEdBQUF0QixFQUFBLElBMEVQTSxRQUFBaUIsS0FBQUQsR0FBQUUsUUFBQSxTQUFBbkIsR0Q5RGlCLFlBQVJBLEdBQ0pDLE9BQU9JLGVBQWVYLEVBQVNNLEdBQzNCb0IsWUFBWSxFQUNaQyxJQUFLLFdBQ0QsTUFBT0osR0FBUWpCLE9DbkJhLElBQUFzQixHQUFBM0IsRUFBQSxLQUt6Q1ksRUFBQVgsRUFBQXFCLEdBQXFDRixFQUFBckIsRUFBQXFCLHlCQUFBLFNBQUFRLEdEMEJoQyxPQUFPLEVBQUlELEVBQVVFLGlCQUFnQixFQUFJUCxFQUFRUSwwQkN4QnRDQyxhQUFlLGNBQ2JDLGVBQWUsY0FDZEMsZ0JBQ2ZMLElBTDJELFNBQUFNLEdEK0J0RCxNQ3RCVEEsTUFBaUNmLEVBQUFwQixFQUFBb0IscUJBQUEsU0FBQVMsR0QwQjVCLE9BQU8sRUFBSU4sRUFBUVEsMEJDekJWQyxhQUFXLFVBQ1RDLGVBQVcsVUFDVkMsZ0JBR2pCTCxLQUFnQ1YsRUFBQW5CLEVBQUFtQixvQkFBQSxTQUFBVSxHRDJCM0IsT0FBTyxFQUFJTixFQUFRUSwwQkMxQlZDLGFBQVMsUUFDUEMsZUFBUyxRQUNSQyxnQkFHakJMLElBQWlDN0IsR0FBQWtCLHFCQUFBLFNBQUFXLEdENEI1QixPQzVCc0QsRUFBQUQsRUFBQUUsZ0JBQ2pDVCxFQUFPUSxHQUFBLFNBQUFNLEdBRXZCLE1BQU1BLEdBQUlDLElBQUEsU0FBQUMsR0QyQlAsT0MxQkhDLEtBQU1ELEVBQU1FLE1BQ1gzQixNQUFNeUIsRUFBR0csR0FDSkMsWUFDR0MsWUFBTUwsRUFBUU0sUUFDcEJDLE1BQU1QLEVBQU9RLE9BQU1DLE1BQ2xCQyxPQUFNVixFQUFPVSxPQUFLQyxLQU1oQyxhQUE2QmhELEVBQUFpQixpQkFBQSxTQUFBWSxHRDRCeEIsT0M1QmtELEVBQUFELEVBQUFFLGdCQUNqQ1YsRUFBT1MsR0FBQSxTQUFBb0IsR0FFbkIsTUFBTUEsR0FBSWIsSUFBQSxTQUFBYyxHRDJCUCxPQzFCSFosS0FBTVksRUFBS1osS0FDVjFCLE1BQU1zQyxFQUtqQlYsU0FBaUN4QyxFQUFBZ0IscUJBQUEsU0FBQWEsR0Q0QjVCLE9DNUJzRCxFQUFBRCxFQUFBRSxnQkFDdENYLEVBQU9VLEdBQUEsU0FBQW9CLEdBRWxCLE1BQU1BLEdBQUliLElBQUEsU0FBQWMsR0QyQlAsT0MxQkhaLEtBQU1ZLEVBQU1YLE1BQ1gzQixNQUFNc0MsRUFLakJWLFNBQU94QyxFQUFBZSxlQUFBLEVBQUFhLEVBQUFFLGlCQUFBLEVBQUFQLEVBQUFRLDBCQUVTQyxhQUFTLFFBQ1BDLGVBQVMsUUFDVmtCLGNBQ2IsWUFMdUMsU0FBQWhCLEdEZ0N0QyxNQ3ZCTEEsS0FBT25DLEVBQUFjLGVBQUEsRUFBQVMsRUFBQVEsMEJBQ09DLGFBQVMsUUFDUEMsZUFBUyxRQUNWa0IsY0FDYixXRDBCRG5ELEdDdkJnQmEsVUQyQlh1QyxJQUNBLFNBQVNyRCxFQUFRQyxFQUFTQyxHQUUvQixZQWFBLFNBQVNvRCxHQUF1QmxELEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUW1ELFVBQVNuRCxHQVh2RkksT0FBT0ksZUFBZVgsRUFBUyxjQUMzQlksT0FBTyxJQUVYWixFQUFRK0Isd0JBQTBCL0IsRUFBUXVELHVCQUF5QmpDLE1FaEgzQixJQUFBTSxHQUFBM0IsRUFBQSxLQUNuQnVELEVBQUF2RCxFQUFBLElGcUhqQndELEVBQVdKLEVBQXVCRyxHRW5IakJFLEVBQUEsU0FBQXBCLEdGd0hqQixNQUFPLFVBQVVxQixHRXZIZCxNQUFNQSxHQUFTQyxTQUFNdEIsU0FFTHVCLEVBQUEsU0FBUXZCLEdGMEgzQixHRTFIZ0NoQyxHQUFBd0QsVUFBQUMsUUFBQSxHQUFBekMsU0FBQXdDLFVBQUEsR0FBWSxVQUFBQSxVQUFBLEVGMkg1QyxPQUFPLFVBQVVILEdFMUhkLE1BQUVGLGNBQUk5QixJQUFNZ0MsRUFBYUssV0FBTzFCLEVBQUEsSUFBYWhDLEVBQUEsYUFLeEIyRCxHQUhNakUsRUFBQXVELHVCQUFBLFNBQVFqQixHRjZIdEMsR0U3SDJDaEMsR0FBQXdELFVBQUFDLFFBQUEsR0FBQXpDLFNBQUF3QyxVQUFBLEdBQVksVUFBQUEsVUFBQSxFRjhIdkQsT0FBTyxVQUFVSCxHRTdIZCxNQUFFRixjQUFLUyxLQUFFVCxhQUFJOUIsSUFBTWdDLEVBQWFLLFdBQU8xQixFQUFBLElBQVNoQyxPQUFjLE9BQ3JFLFdBQzRCLFNBQVFnQyxFQUFPVCxHRmdJdkMsTUFBTyxVQUFVOEIsR0UvSGQsTUFBRUYsY0FBSTlCLElBQU1nQyxFQUFXSyxZQUFPMUIsRUFBUyxRQUFPVCxFQUFRLGFBUzFCN0IsR0FBQStCLHdCQUFBLFNBQTJDb0MsR0YySDFFLEdFMUhnQm5DLEdBQTJEbUMsRUFBQW5DLGFBQTNDQyxFQUFBa0MsRUFBQWxDLGVBQWVrQixFQUFBZ0IsRUFBQWhCLGNBQWtCakIsRUFBQWlDLEVBQUFqQyxnQkFDN0JrQyxFQUFBLE1BUWpDLE9BTFFBLEdBRE1sQyxFQUNvQitCLEVBQWVoQyxFQUNqREMsR0FDNkIyQixFQUFlNUIsRUFDakRrQixJQUVvQixFQUFBdkIsRUFBQUUsZ0JBQ0g0QixFQUFjMUIsR0FDbEJvQyxFQUFBLFNBQ0hSLEVBQUtTLEdBQ04sTUFBSUEsR0FBSWpDLElBQUEsU0FBQUksR0YwSFAsTUUxSHNCb0IsR0FHbENwQixTRjhISzhCLElBQ0EsU0FBU3ZFLEVBQVFDLEdHdEt2QixZQVFBLFNBQUF1RSxHQUFBQyxHQUFrQyxHQUFBQyxNQUFBQyxRQUFBRixHQUFBLENBQTBCLE9BQUFHLEdBQUEsRUFBQUMsRUFBQUgsTUFBQUQsRUFBQVQsUUFBMENZLEVBQUFILEVBQUFULE9BQWdCWSxJQUFPQyxFQUFBRCxHQUFBSCxFQUFBRyxFQUFvQixPQUFBQyxHQUFzQixNQUFBSCxPQUFBSSxLQUFBTCxHQUV2SyxRQUFBTSxHQUFBQyxFQUFBQyxHQUNBLE1BQUFELEtBQUFDLEVBR0EsUUFBQUMsR0FBQUMsR0FDQSxHQUFBQyxHQUFBckIsVUFBQUMsUUFBQSxHQUFBekMsU0FBQXdDLFVBQUEsR0FBQWdCLEVBQUFoQixVQUFBLEdBRUFzQixFQUFBLEtBQ0FDLEVBQUEsSUFDQSxtQkFDQSxPQUFBQyxHQUFBeEIsVUFBQUMsT0FBQXdCLEVBQUFkLE1BQUFhLEdBQUFFLEVBQUEsRUFBbUVGLEVBQUFFLEVBQWFBLElBQ2hGRCxFQUFBQyxHQUFBMUIsVUFBQTBCLEVBR0EsZUFBQUosS0FBQXJCLFNBQUF3QixFQUFBeEIsUUFBQXdCLEVBQUFFLE1BQUEsU0FBQTdFLEVBQUE4RSxHQUNBLE1BQUFQLEdBQUF2RSxFQUFBd0UsRUFBQU0sTUFFQUwsR0FFQUEsRUFBQUgsRUFBQVMsTUFBQXJFLE9BQUFpRSxHQUNBSCxFQUFBRyxFQUNBRixJQUlBLFFBQUFPLEdBQUFDLEdBQ0EsR0FBQUMsR0FBQXJCLE1BQUFDLFFBQUFtQixFQUFBLElBQUFBLEVBQUEsR0FBQUEsQ0FFQSxLQUFBQyxFQUFBTCxNQUFBLFNBQUFNLEdBQ0Esd0JBQUFBLEtBQ0csQ0FDSCxHQUFBQyxHQUFBRixFQUFBMUQsSUFBQSxTQUFBMkQsR0FDQSxhQUFBQSxLQUNLL0MsS0FBQSxLQUNMLFVBQUFpRCxPQUFBLDRHQUFBRCxFQUFBLE1BR0EsTUFBQUYsR0FHQSxRQUFBSSxHQUFBQyxHQUNBLE9BQUFDLEdBQUF0QyxVQUFBQyxPQUFBc0MsRUFBQTVCLE1BQUEyQixFQUFBLEVBQUFBLEVBQUEsS0FBQUUsRUFBQSxFQUFrR0YsRUFBQUUsRUFBZUEsSUFDakhELEVBQUFDLEVBQUEsR0FBQXhDLFVBQUF3QyxFQUdBLG1CQUNBLE9BQUFDLEdBQUF6QyxVQUFBQyxPQUFBOEIsRUFBQXBCLE1BQUE4QixHQUFBQyxFQUFBLEVBQXVFRCxFQUFBQyxFQUFlQSxJQUN0RlgsRUFBQVcsR0FBQTFDLFVBQUEwQyxFQUdBLElBQUFDLEdBQUEsRUFDQUMsRUFBQWIsRUFBQWMsTUFDQWIsRUFBQUYsRUFBQUMsR0FFQWUsRUFBQVQsRUFBQVIsTUFBQXJFLFFBQUEsV0FFQSxNQURBbUYsS0FDQUMsRUFBQWYsTUFBQXJFLE9BQUF3QyxhQUNLK0MsT0FBQVIsSUFFTFMsRUFBQSxTQUFBbkQsRUFBQW9ELEdBQ0EsT0FBQUMsR0FBQWxELFVBQUFDLE9BQUF3QixFQUFBZCxNQUFBdUMsRUFBQSxFQUFBQSxFQUFBLEtBQUFDLEVBQUEsRUFBNEZELEVBQUFDLEVBQWVBLElBQzNHMUIsRUFBQTBCLEVBQUEsR0FBQW5ELFVBQUFtRCxFQUdBLElBQUFDLEdBQUFwQixFQUFBMUQsSUFBQSxTQUFBK0UsR0FDQSxNQUFBQSxHQUFBeEIsTUFBQXJFLFFBQUFxQyxFQUFBb0QsR0FBQUYsT0FBQXRCLEtBRUEsT0FBQXFCLEdBQUFqQixNQUFBckUsT0FBQWlELEVBQUEyQyxJQVVBLE9BUEFKLEdBQUFKLGFBQ0FJLEVBQUFMLGVBQUEsV0FDQSxNQUFBQSxJQUVBSyxFQUFBTSxvQkFBQSxXQUNBLE1BQUFYLEdBQUEsR0FFQUssR0FJQSxRQUFBaEYsS0FDQSxNQUFBb0UsR0FBQWpCLEdBQUFVLE1BQUFyRSxPQUFBd0MsV0FHQSxRQUFBdUQsR0FBQUMsR0FDQSxHQUFBQyxHQUFBekQsVUFBQUMsUUFBQSxHQUFBekMsU0FBQXdDLFVBQUEsR0FBQWhDLEVBQUFnQyxVQUFBLEVBRUEsb0JBQUF3RCxHQUNBLFNBQUFyQixPQUFBLCtIQUFBcUIsR0FFQSxJQUFBRSxHQUFBakgsT0FBQWlCLEtBQUE4RixFQUNBLE9BQUFDLEdBQUFDLEVBQUFwRixJQUFBLFNBQUE5QixHQUNBLE1BQUFnSCxHQUFBaEgsS0FDRyxXQUNILE9BQUFtSCxHQUFBM0QsVUFBQUMsT0FBQTJELEVBQUFqRCxNQUFBZ0QsR0FBQUUsRUFBQSxFQUF3RUYsRUFBQUUsRUFBZUEsSUFDdkZELEVBQUFDLEdBQUE3RCxVQUFBNkQsRUFHQSxPQUFBRCxHQUFBRSxPQUFBLFNBQUFDLEVBQUFqSCxFQUFBOEUsR0FFQSxNQURBbUMsR0FBQUwsRUFBQTlCLElBQUE5RSxFQUNBaUgsU0E3R0E3SCxFQUFBSSxZQUFBLEVBQ0FKLEVBQUFpRixpQkFDQWpGLEVBQUFrRyx3QkFDQWxHLEVBQUE4QixpQkFDQTlCLEVBQUFxSCw0Qkh3Uk1TLElBQ0EsU0FBUy9ILEVBQVFDLEVBQVNDLEdBRS9CLFlBdUJBLFNBQVNvRCxHQUF1QmxELEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUW1ELFVBQVNuRCxHQXJCdkZJLE9BQU9JLGVBQWVYLEVBQVMsY0FDN0JZLE9BQU8sSUFFVFosRUFBUStILFNBQVcvSCxFQUFRZ0ksZUFBaUJoSSxFQUFRaUksTUFBUWpJLEVBQVFrSSxPQUFTNUcsTUl0U2pELElBQUE2RyxHQUFBbEksRUFBQSxJSjBTeEJtSSxFQUFXL0UsRUFBdUI4RSxHSXpTWkUsRUFBQXBJLEVBQUEsS0o2U3RCcUksRUFBVWpGLEVBQXVCZ0YsR0k1U09FLEVBQUF0SSxFQUFBLEtKZ1R4Q3VJLEVBQW1CbkYsRUFBdUJrRixHSTdTL0NFLEVBQUF4SSxFQUFBLEtKaVRLeUksRUFBYXJGLEVBQXVCb0YsRUFJeEN6SSxHSXJUY2tJLE9BQUFFLGFKc1RkcEksRUl0VHFCaUksTUFBQUssYUp1VHJCdEksRUl2VHFDZ0ksZUFBQVEsYUp3VHJDeEksRUl4VGlEK0gsU0FBQVcsY0o0VDVDQyxJQUNBLFNBQVM1SSxFQUFRQyxFQUFTQyxHQUUvQixZQVVBLFNBQVNvRCxHQUF1QmxELEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUW1ELFVBQVNuRCxHQVJ2RkksT0FBT0ksZUFBZVgsRUFBUyxjQUM3QlksT0FBTyxHS3RVVSxJQUFBeUgsR0FBQXBJLEVBQUEsS0wyVWZxSSxFQUFVakYsRUFBdUJnRixFQUlyQ3JJLGNBQWtCc0ksY0FJYk0sSUFDQSxTQUFTN0ksRUFBUUMsRUFBU0MsR0FFL0IsWUFrQkEsU0FBU29ELEdBQXVCbEQsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRbUQsVUFBU25ELEdBRXZGLFFBQVMwSSxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQUVoSCxRQUFTQyxHQUEyQkMsRUFBTXhJLEdBQVEsSUFBS3dJLEVBQVEsS0FBTSxJQUFJQyxnQkFBZSw0REFBZ0UsUUFBT3pJLEdBQXlCLGdCQUFUQSxJQUFxQyxrQkFBVEEsR0FBOEJ3SSxFQUFQeEksRUFFbE8sUUFBUzBJLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSU4sV0FBVSxpRUFBb0VNLEdBQWVELEdBQVM3SSxVQUFZRCxPQUFPZ0osT0FBT0QsR0FBY0EsRUFBVzlJLFdBQWFnSixhQUFlNUksTUFBT3lJLEVBQVUzSCxZQUFZLEVBQU8rSCxVQUFVLEVBQU1DLGNBQWMsS0FBZUosSUFBWS9JLE9BQU9vSixlQUFpQnBKLE9BQU9vSixlQUFlTixFQUFVQyxHQUFjRCxFQUFTTyxVQUFZTixHQXRCamUvSSxPQUFPSSxlQUFlWCxFQUFTLGNBQzNCWSxPQUFPLEdBR1gsSUFBSWlKLEdBQWUsV0FBYyxRQUFTQyxHQUFpQkMsRUFBUWhELEdBQVMsSUFBSyxHQUFJcEMsR0FBSSxFQUFHQSxFQUFJb0MsRUFBTWhELE9BQVFZLElBQUssQ0FBRSxHQUFJcUYsR0FBYWpELEVBQU1wQyxFQUFJcUYsR0FBV3RJLFdBQWFzSSxFQUFXdEksYUFBYyxFQUFPc0ksRUFBV04sY0FBZSxFQUFVLFNBQVdNLEtBQVlBLEVBQVdQLFVBQVcsR0FBTWxKLE9BQU9JLGVBQWVvSixFQUFRQyxFQUFXMUosSUFBSzBKLElBQWlCLE1BQU8sVUFBVWpCLEVBQWFrQixFQUFZQyxHQUFpSixNQUE5SEQsSUFBWUgsRUFBaUJmLEVBQVl2SSxVQUFXeUosR0FBaUJDLEdBQWFKLEVBQWlCZixFQUFhbUIsR0FBcUJuQixNQUU1aEJvQixFQUE0QixrQkFBWEMsU0FBb0QsZ0JBQXBCQSxRQUFPQyxTQUF3QixTQUFVbEssR0FBTyxhQUFjQSxJQUFTLFNBQVVBLEdBQU8sTUFBT0EsSUFBeUIsa0JBQVhpSyxTQUF5QmpLLEVBQUlxSixjQUFnQlksT0FBUyxlQUFrQmpLLElNL1ZuTW1LLEVBQUFySyxFQUFBLEdObVduQ3NLLEVBQVVsSCxFQUF1QmlILEdNbFdJRSxFQUFBdkssRUFBQSxJTnNXckN3SyxFQUFvQnBILEVBQXVCbUgsR0FVM0NFLEVBQWtELFNBQVVDLEVBQVlaLEVBQVF6SixFQUFLc0ssR0FDckYsR0FFSUMsR0FGQUMsRUFBSWhILFVBQVVDLE9BQ2RnSCxFQUFRLEVBQUpELEVBQVFmLEVBQWtCLE9BQVRhLEVBQWdCQSxFQUFPckssT0FBT3lLLHlCQUF5QmpCLEVBQVF6SixHQUFPc0ssQ0FFL0YsSUFBMEUsWUFBbEQsbUJBQVpLLFNBQTBCLFlBQWNkLEVBQVFjLFdBQXNELGtCQUFyQkEsU0FBUUMsU0FBeUJILEVBQUlFLFFBQVFDLFNBQVNQLEVBQVlaLEVBQVF6SixFQUFLc0ssT0FBVyxLQUFLLEdBQUlqRyxHQUFJZ0csRUFBVzVHLE9BQVMsRUFBR1ksR0FBSyxFQUFHQSxLQUMzTmtHLEVBQUlGLEVBQVdoRyxNQUFJb0csR0FBUyxFQUFKRCxFQUFRRCxFQUFFRSxHQUFLRCxFQUFJLEVBQUlELEVBQUVkLEVBQVF6SixFQUFLeUssR0FBS0YsRUFBRWQsRUFBUXpKLEtBQVN5SyxFQUM3RixPQUFPRCxHQUFJLEdBQUtDLEdBQUt4SyxPQUFPSSxlQUFlb0osRUFBUXpKLEVBQUt5SyxHQUFJQSxHTXJYdERJLEVBQVVsTCxFQUFlLEtBY3JDZ0ksRUFBQSxTQUFBbUQsR0FDRSxRQUFBbkQsR0FBaUJsQixHTmdYVixNQUZBOEIsR0FBZ0J3QyxLQUFNcEQsR0FFZmdCLEVBQTJCb0MsS0FBTTlLLE9BQU8rSyxlQUFlckQsR0FBT3ZILEtBQUsySyxLTTVXM0V0RSxJTjRYSCxNQXJCQXFDLEdBQVVuQixFQUFPbUQsR0FRakJ2QixFQUFhNUIsSUFDVDNILElBQUssU0FDTE0sTUFBTyxXQUNILEdBQUkySyxHQUFTRixLTWpYYnRFLEVBQVN4RyxPQUFPaUwsVUFBU0gsS0FBT3RFLE1BR2xDLGNBRktBLEdBQVUwRSxVQUdwQmxCLGFBQUFtQixjQUFJLE9BQVVDLFVBQWEsYUFBVUYsVUFBTUosS0FBTXRFLE1BQVUwRSxXQUFPLElBQUFsQixhQUFBbUIsY0FDMUQsU0FDS0MsVUFBUSxRQUNOQyxZQUFNUCxLQUFNdEUsTUFBYTZFLFlBQy9CaEwsTUFBTXlLLEtBQU10RSxNQUFPbkcsTUFDaEJpTCxTQUFBLFNBQUFDLEdBQ0ZQLEVBQU14RSxNQUFTOEUsU0FDbkJDLElBQ0VDLEtBQU1WLEtBQU10RSxNQUFLZ0YsS0FBT1YsS0FBTXRFLE1BQUtnRixLQUFVLE9BQzdDekosS0FBTStJLEtBQU10RSxNQUFLekUsS0FBTytJLEtBQU10RSxNQUFLekUsS0FLaEQsWUF4QjRCMkYsR05rWTFCcUMsRUFBTzBCLFVNcllWL0QsR0FBQXlDLElBQUEsRUFBQUQsY0FBa0JVLEdBQ0hjLGVBQ2IsS0EyQkZoRSxHTjRXQ2pJLGFNNVdtQmlJLEdOZ1hkaUUsSUFDQSxTQUFTbk0sRUFBUUMsR08xWnZCRCxFQUFBQyxTQUFrQm1NLGFBQUEsbUJBQUFDLE1BQUEsZ0JQaWFaQyxJQUNBLFNBQVN0TSxFQUFRQyxFQUFTQyxHQUUvQixZQVVBLFNBQVNvRCxHQUF1QmxELEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUW1ELFVBQVNuRCxHQVJ2RkksT0FBT0ksZUFBZVgsRUFBUyxjQUM3QlksT0FBTyxHUXZhbUIsSUFBQTJILEdBQUF0SSxFQUFBLEtSNGF4QnVJLEVBQW1CbkYsRUFBdUJrRixFQUk5Q3ZJLGNBQWtCd0ksY0FJYjhELElBQ0EsU0FBU3ZNLEVBQVFDLEVBQVNDLEdBRS9CLFlBOEJBLFNBQVNvRCxHQUF1QmxELEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUW1ELFVBQVNuRCxHQUV2RixRQUFTMEksR0FBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSUMsV0FBVSxxQ0FFaEgsUUFBU0MsR0FBMkJDLEVBQU14SSxHQUFRLElBQUt3SSxFQUFRLEtBQU0sSUFBSUMsZ0JBQWUsNERBQWdFLFFBQU96SSxHQUF5QixnQkFBVEEsSUFBcUMsa0JBQVRBLEdBQThCd0ksRUFBUHhJLEVBRWxPLFFBQVMwSSxHQUFVQyxFQUFVQyxHQUFjLEdBQTBCLGtCQUFmQSxJQUE0QyxPQUFmQSxFQUF1QixLQUFNLElBQUlOLFdBQVUsaUVBQW9FTSxHQUFlRCxHQUFTN0ksVUFBWUQsT0FBT2dKLE9BQU9ELEdBQWNBLEVBQVc5SSxXQUFhZ0osYUFBZTVJLE1BQU95SSxFQUFVM0gsWUFBWSxFQUFPK0gsVUFBVSxFQUFNQyxjQUFjLEtBQWVKLElBQVkvSSxPQUFPb0osZUFBaUJwSixPQUFPb0osZUFBZU4sRUFBVUMsR0FBY0QsRUFBU08sVUFBWU4sR0FsQ2plL0ksT0FBT0ksZUFBZVgsRUFBUyxjQUMzQlksT0FBTyxHQUdYLElBQUlpSixHQUFlLFdBQWMsUUFBU0MsR0FBaUJDLEVBQVFoRCxHQUFTLElBQUssR0FBSXBDLEdBQUksRUFBR0EsRUFBSW9DLEVBQU1oRCxPQUFRWSxJQUFLLENBQUUsR0FBSXFGLEdBQWFqRCxFQUFNcEMsRUFBSXFGLEdBQVd0SSxXQUFhc0ksRUFBV3RJLGFBQWMsRUFBT3NJLEVBQVdOLGNBQWUsRUFBVSxTQUFXTSxLQUFZQSxFQUFXUCxVQUFXLEdBQU1sSixPQUFPSSxlQUFlb0osRUFBUUMsRUFBVzFKLElBQUswSixJQUFpQixNQUFPLFVBQVVqQixFQUFha0IsRUFBWUMsR0FBaUosTUFBOUhELElBQVlILEVBQWlCZixFQUFZdkksVUFBV3lKLEdBQWlCQyxHQUFhSixFQUFpQmYsRUFBYW1CLEdBQXFCbkIsTUFFNWhCb0IsRUFBNEIsa0JBQVhDLFNBQW9ELGdCQUFwQkEsUUFBT0MsU0FBd0IsU0FBVWxLLEdBQU8sYUFBY0EsSUFBUyxTQUFVQSxHQUFPLE1BQU9BLElBQXlCLGtCQUFYaUssU0FBeUJqSyxFQUFJcUosY0FBZ0JZLE9BQVMsZUFBa0JqSyxJU2hjbk1tSyxFQUFBckssRUFBQSxHVG9jbkNzSyxFQUFVbEgsRUFBdUJpSCxHU25jVGlDLEVBQUF0TSxFQUFBLElUdWN4QnVNLEVBQVNuSixFQUF1QmtKLEdTdGNGRSxFQUFBeE0sRUFBQSxJVDBjOUJ5TSxFQUFlckosRUFBdUJvSixHU3pjRGpDLEVBQUF2SyxFQUFBLElUNmNyQ3dLLEVBQW9CcEgsRUFBdUJtSCxHUzVjVW1DLEVBQUExTSxFQUFBLEtUZ2RyRDJNLEVBQWlCdkosRUFBdUJzSixHQVV4Q2pDLEVBQWtELFNBQVVDLEVBQVlaLEVBQVF6SixFQUFLc0ssR0FDckYsR0FFSUMsR0FGQUMsRUFBSWhILFVBQVVDLE9BQ2RnSCxFQUFRLEVBQUpELEVBQVFmLEVBQWtCLE9BQVRhLEVBQWdCQSxFQUFPckssT0FBT3lLLHlCQUF5QmpCLEVBQVF6SixHQUFPc0ssQ0FFL0YsSUFBMEUsWUFBbEQsbUJBQVpLLFNBQTBCLFlBQWNkLEVBQVFjLFdBQXNELGtCQUFyQkEsU0FBUUMsU0FBeUJILEVBQUlFLFFBQVFDLFNBQVNQLEVBQVlaLEVBQVF6SixFQUFLc0ssT0FBVyxLQUFLLEdBQUlqRyxHQUFJZ0csRUFBVzVHLE9BQVMsRUFBR1ksR0FBSyxFQUFHQSxLQUMzTmtHLEVBQUlGLEVBQVdoRyxNQUFJb0csR0FBUyxFQUFKRCxFQUFRRCxFQUFFRSxHQUFLRCxFQUFJLEVBQUlELEVBQUVkLEVBQVF6SixFQUFLeUssR0FBS0YsRUFBRWQsRUFBUXpKLEtBQVN5SyxFQUM3RixPQUFPRCxHQUFJLEdBQUtDLEdBQUt4SyxPQUFPSSxlQUFlb0osRUFBUXpKLEVBQUt5SyxHQUFJQSxHUy9kdERJLEVBQVVsTCxFQUF5QixLQTRDL0MrSCxFQUFBLFNBQUFvRCxHQUtFLFFBQUFwRCxHQUFpQmpCLEdUc2JWOEIsRUFBZ0J3QyxLQUFNckQsRUFFdEIsSUFBSTZFLEdBQVE1RCxFQUEyQm9DLEtBQU05SyxPQUFPK0ssZUFBZXRELEdBQWdCdEgsS0FBSzJLLEtTdmJqRnRFLEdUa2NQLE9TamNEOEYsR0FBTWxKLE9BQ0dtSixhQUFPLEVBQ2JDLE9BQU8sRUFDUG5NLE1BQUksR0FDVW9NLG9CQUNwQixHQUNHSCxFQUFtQkksbUJBQU9KLEVBQW1CSSxtQkFBV0MsS0FBQUwsR0FDeERBLEVBQVdNLFdBQU9OLEVBQVdNLFdBQVdELEtBQUFMLEdBQ3hDQSxFQUFxQk8scUJBQU9QLEVBQXFCTyxxQkFHL0NGLEtBQUFMLEdUc2JNQSxFQTRJWCxNQTVKQXpELEdBQVVwQixFQUFnQm9ELEdBbUIxQnZCLEVBQWE3QixJQUNUMUgsSUFBSyxXQUNMTSxNQUFPLFNTM2JHeU0sR0FDWGhDLEtBQU10RSxNQUFldUcsZUFBS2pDLEtBQU10RSxNQUFPVyxPQUFPYixPQUFXd0csSUFDckRoQyxLQUFNdEUsTUFBaUJ3RyxpQkFDekJsQyxLQUFNdEUsTUFBZ0J3RyxnQkFBS2xDLEtBQU10RSxNQUFRNUMsUUFBSS9CLElBQUEsU0FBQW9MLEdUNGJsQyxNUzVib0RBLEdBQU01TSxRQUFheU0sRUFBTXpNLE1BQ2xGTCxPQUFPaUwsVUFBV2dDLEdBQVlDLFVBQVMsSUFFbERELEtBQ0duQyxLQUFrQnFDLGtCQUMyQixtQkFBbENyQyxNQUFNdEUsTUFBWTRHLGFBQXdCdEMsS0FBTXRFLE1BQVk0RyxlQUFXLEdBQ2hGdEMsS0FDTDhCLGFBQ0c5QixLQUFTdUMsVUFDQWQsYUFJSixPVDJiSnhNLElBQUssY0FDTE0sTUFBTyxTUzViRzhFLEdBQ2YsR0FBYW1JLE1BQ0dDLEVBQUEsTUFFRixNQUFMcEksR0FDRW1JLEVBQU94QyxLQUFNdEUsTUFBT1csT0FBTXFHLE1BQUUsRUFBTTFDLEtBQU10RSxNQUFPVyxPQUFPM0QsT0FBSyxHQUN4RCtKLEVBQU96QyxLQUFNdEUsTUFBT1csT0FBSzJELEtBQU10RSxNQUFPVyxPQUFPM0QsT0FBSyxHQUMxRG5ELE9BQ0tpTixFQUFPeEMsS0FBTXRFLE1BQU9XLE9BQ3BCc0csT0FBQSxTQUFHQyxFQUFHdEosR0FFTCxNQURNbUosR0FBSUcsRUFBTXJOLE1BQ2QrRCxJQUViZSxJQUVPMkYsS0FBTXRFLE1BQWlCd0csaUJBQ3pCbEMsS0FBTXRFLE1BQWdCd0csZ0JBQUtsQyxLQUFNdEUsTUFBUTVDLFFBQUkvQixJQUFBLFNBQUFvTCxHVDBibEMsTVMxYm9EQSxHQUFNNU0sUUFBaUJrTixFQUNoRnZOLE9BQU9pTCxVQUFXZ0MsR0FBWUMsVUFBVSxJQUVuREQsS0FFR25DLEtBQU10RSxNQUFldUcsZUFHWk8sTVR3YlJ2TixJQUFLLGtCQUNMTSxNQUFPLFdTeGJSeUssS0FBTXRFLE1BQWNtSCxjQUdaLE9UeWJQNU4sSUFBSyxpQkFDTE0sTUFBTyxTUzFiRWtMLEdBQ0ssSUFBZEEsRUFBUXFDLFNBQWU5QyxLQUFNdEUsTUFBT25HLE9BQ25DeUssS0FBWStDLFlBQUMsT1RrY2Q5TixJQUFLLGFBQ0xNLE1BQU8sV1MxYlJ5SyxLQUFNZSxNQUdNVyxXVDJiWHpNLElBQUsscUJBQ0xNLE1BQU8sU1M1Yk1rTCxJQUNELEVBQUFjLGNBQUt2QixLQUFVZ0QsVUFBR3ZDLEVBQVMvQixTQUN0Q3NCLEtBQVN1QyxVQUNBZCxhQUtHLE9UNGJieE0sSUFBSyx1QkFDTE0sTUFBTyxXUzViUnlLLEtBQWE4QixhQUViOUIsS0FBU3VDLFVBQ0FkLGFBSUUsT1Q0YlZ4TSxJQUFLLG9CQUNMTSxNQUFPLFdTNWJOME4sT0FBaUJDLGlCQUFRLFFBQU1sRCxLQUduQjRCLHVCVDZiYjNNLElBQUssdUJBQ0xNLE1BQU8sV1M3Yk4wTixPQUFvQkUsb0JBQVEsUUFBTW5ELEtBR3BDNEIsdUJUOGJDM00sSUFBSyxTQUNMTSxNQUFPLFdBQ0gsR0FBSTJLLEdBQVNGLEtBRVRvRCxFU2pjZ0NwRCxLQUFNdEUsTUFBdEMySCxFQUFBRCxFQUFBQyxNQUFRaEgsRUFBQStHLEVBQUEvRyxPQUFpQmlILEVBQUFGLEVBQUFFLGNBRTdCL04sRUFBT3lLLEtBQU10RSxNQUFNbkcsT0FBTSxHQUN2QnVELEVBQU9rSCxLQUFNdEUsTUFBUTVDLFlBRWxCeUssRUFBU2xILEVBQU8zRCxPQUFPLEVBQW1CLElBQWJuRCxFQUFPbUQsT0FBVyxHQUFxQixHQUFibkQsRUFBT21ELE9BQWUsT0FDNUU2SCxFQUFTbEUsRUFBTzNELE9BQUksRUFBSyxHQUFPc0gsS0FBTXRFLE1BQVk2RSxZQUVqRWlELEdBQUEsRUFBQW5DLGVBQ21Cb0MsbUJBQU0sRUFDQ0MseUJBQU0xRCxLQUFNMUgsTUFBTW9KLE1BQ2xCaUMseUJBQ3hCLElBRGdDdEgsRUFBTzNELFFBR2xDLE9BQ0x3RyxjQUFBbUIsY0FBSSxPQUFVQyxVQUFpQixpQkFBVUYsVUFBTUosS0FBTXRFLE1BQVUwRSxXQUFPLElBRTFEaUQsRUFDTm5FLGFBQUFtQixjQUFNLFNBQVVELFVBQWEsY0FDOUJpRCxHQUNGLEtBQUFuRSxhQUFBbUIsY0FDRyxPQUNPQyxVQUEwQmtELEVBQzVCSSxRQUFNNUQsS0FBc0IrQixxQkFDaEM4QixJQUFBLFNBQUFDLEdBQWU1RCxFQUFVOEMsVUFBVWMsSUFHOUJ6SCxFQUFJdEYsSUFBQSxTQUFHNkwsRUFBT3ZJLEdBQ1gsTUFDTDZFLGNBQUFtQixjQUFLLFFBQUlwTCxJQUFRb0YsRUFBVWlHLFVBQWdCLGlCQUN2Q3NDLEVBQU0zTCxLQUFBaUksYUFDSG1CLGNBQUFjLGNBQ01iLFVBQWMsY0FDbkJ5RCxLQUFLLEdBQ0w5TSxLQUFRLFFBQ0wyTSxRQUFBLFNBQUFuRCxHQUNEUCxFQUFZNkMsWUFNM0IxSSxTQUNENkUsYUFBQW1CLGNBQU0sU0FDQzJELE9BQVNDLE1BQWVWLEdBQzFCTSxJQUFBLFNBQUFLLEdBQWVoRSxFQUFNYSxNQUFVbUQsR0FDN0IzTyxNQUFRQSxFQUNGZ0wsWUFBY0EsRUFDbkI0RCxPQUFBLFNBQUExRCxHQUNBUCxFQUFTcUMsVUFBUWIsT0FDcEIsS0FDSTBDLFFBQUEsU0FBQTNELEdBQ0RQLEVBQVNxQyxVQUFRYixPQUNwQixLQUNLbEIsU0FBQSxTQUFBQyxHQUNGUCxFQUFNeEUsTUFBY21ILGNBQUdwQyxFQUFlL0IsT0FDekNuSixRQUNNOE8sVUFBQSxTQUFBNUQsR0FDSFAsRUFBZW9FLGVBR25CN0QsT0FFQVQsS0FBTTFILE1BQWdCbUosY0FBcUIsSUFBYjNJLEVBQU9KLFFBQTJCNEssR0FBQXBFLGFBQUFtQixjQUMvRCxNQUFVQyxVQUFnQixpQkFFbEJ4SCxFQUFJL0IsSUFBQSxTQUFRb0wsRUFBTzlILEdBQ3JCLE1BQU84SCxHQUFVQyxTQUNYbEQsYUFBQW1CLGNBQUcsTUFBSXBMLElBQVFvRixFQUFVK0YsVUFBVyxZQUFRK0IsRUFDcERsTCxNQUVDaUksYUFBQW1CLGNBQUcsTUFDRXBMLElBQVFvRixFQUNKdUosUUFBQSxTQUFBbkQsR0FDRFAsRUFBU3FFLFNBQVFwQyxHQUNiakMsRUFBTXhFLE1BQWU4SSxlQUN2QnRFLEVBQU14RSxNQUFjOEksY0FFekJyQyxLQUVIakQsYUFBQW1CLGNBQUssWUFBUThCLEVBSXBCbEwsU0FFaUJxTSxFQUNkcEUsYUFBQW1CLGNBQUcsTUFDTXVELFFBQUEsU0FBQW5ELEdBQ1E2QyxFQUFLcEQsRUFBTXhFLE1BQ3ZCbkcsUUFDTTZLLFVBQU0sYUFBSWxCLGFBQUFtQixjQUFPLGNBQU1MLEtBQU10RSxNQUN6Q25HLFFBR04sTUFLVixVQXpNcUNvSCxHVHFsQm5Dc0MsRUFBTzBCLFVTeGxCVmhFLEdBQUEwQyxJQUFBLEVBQUFELGNBQWtCVSxHQUNIYyxlQUNiLEtBNE1GakUsR1Q4WUNoSSxhUzlZNEJnSSxHVGtadkI4SCxJQUNBLFNBQVMvUCxFQUFRQyxHVTlvQnZCRCxFQUFBQyxTQUFrQitQLGlCQUFBLHVCQUFBakIsa0JBQUEsd0JBQUFDLHlCQUFBLCtCQUFBQyx5QkFBQSwrQkFBQWdCLGdCQUFBLHNCQUFBQyxnQkFBQSxzQkFBQUMsY0FBQSxzQlZxcEJaQyxJQUNBLFNBQVNwUSxFQUFRQyxFQUFTQyxHQUUvQixZQVVBLFNBQVNvRCxHQUF1QmxELEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUW1ELFVBQVNuRCxHQVJ2RkksT0FBT0ksZUFBZVgsRUFBUyxjQUM3QlksT0FBTyxHVzNwQmEsSUFBQTZILEdBQUF4SSxFQUFBLEtYZ3FCbEJ5SSxFQUFhckYsRUFBdUJvRixFQUl4Q3pJLGNBQWtCMEksY0FJYjBILElBQ0EsU0FBU3JRLEVBQVFDLEVBQVNDLEdBRS9CLFlBa0JBLFNBQVNvRCxHQUF1QmxELEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUW1ELFVBQVNuRCxHQUV2RixRQUFTMEksR0FBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSUMsV0FBVSxxQ0FFaEgsUUFBU0MsR0FBMkJDLEVBQU14SSxHQUFRLElBQUt3SSxFQUFRLEtBQU0sSUFBSUMsZ0JBQWUsNERBQWdFLFFBQU96SSxHQUF5QixnQkFBVEEsSUFBcUMsa0JBQVRBLEdBQThCd0ksRUFBUHhJLEVBRWxPLFFBQVMwSSxHQUFVQyxFQUFVQyxHQUFjLEdBQTBCLGtCQUFmQSxJQUE0QyxPQUFmQSxFQUF1QixLQUFNLElBQUlOLFdBQVUsaUVBQW9FTSxHQUFlRCxHQUFTN0ksVUFBWUQsT0FBT2dKLE9BQU9ELEdBQWNBLEVBQVc5SSxXQUFhZ0osYUFBZTVJLE1BQU95SSxFQUFVM0gsWUFBWSxFQUFPK0gsVUFBVSxFQUFNQyxjQUFjLEtBQWVKLElBQVkvSSxPQUFPb0osZUFBaUJwSixPQUFPb0osZUFBZU4sRUFBVUMsR0FBY0QsRUFBU08sVUFBWU4sR0F0QmplL0ksT0FBT0ksZUFBZVgsRUFBUyxjQUMzQlksT0FBTyxHQUdYLElBQUlpSixHQUFlLFdBQWMsUUFBU0MsR0FBaUJDLEVBQVFoRCxHQUFTLElBQUssR0FBSXBDLEdBQUksRUFBR0EsRUFBSW9DLEVBQU1oRCxPQUFRWSxJQUFLLENBQUUsR0FBSXFGLEdBQWFqRCxFQUFNcEMsRUFBSXFGLEdBQVd0SSxXQUFhc0ksRUFBV3RJLGFBQWMsRUFBT3NJLEVBQVdOLGNBQWUsRUFBVSxTQUFXTSxLQUFZQSxFQUFXUCxVQUFXLEdBQU1sSixPQUFPSSxlQUFlb0osRUFBUUMsRUFBVzFKLElBQUswSixJQUFpQixNQUFPLFVBQVVqQixFQUFha0IsRUFBWUMsR0FBaUosTUFBOUhELElBQVlILEVBQWlCZixFQUFZdkksVUFBV3lKLEdBQWlCQyxHQUFhSixFQUFpQmYsRUFBYW1CLEdBQXFCbkIsTUFFNWhCb0IsRUFBNEIsa0JBQVhDLFNBQW9ELGdCQUFwQkEsUUFBT0MsU0FBd0IsU0FBVWxLLEdBQU8sYUFBY0EsSUFBUyxTQUFVQSxHQUFPLE1BQU9BLElBQXlCLGtCQUFYaUssU0FBeUJqSyxFQUFJcUosY0FBZ0JZLE9BQVMsZUFBa0JqSyxJWXByQm5NbUssRUFBQXJLLEVBQUEsR1p3ckJuQ3NLLEVBQVVsSCxFQUF1QmlILEdZdHJCSUUsRUFBQXZLLEVBQUEsSVowckJyQ3dLLEVBQW9CcEgsRUFBdUJtSCxHQVUzQ0UsRUFBa0QsU0FBVUMsRUFBWVosRUFBUXpKLEVBQUtzSyxHQUNyRixHQUVJQyxHQUZBQyxFQUFJaEgsVUFBVUMsT0FDZGdILEVBQVEsRUFBSkQsRUFBUWYsRUFBa0IsT0FBVGEsRUFBZ0JBLEVBQU9ySyxPQUFPeUsseUJBQXlCakIsRUFBUXpKLEdBQU9zSyxDQUUvRixJQUEwRSxZQUFsRCxtQkFBWkssU0FBMEIsWUFBY2QsRUFBUWMsV0FBc0Qsa0JBQXJCQSxTQUFRQyxTQUF5QkgsRUFBSUUsUUFBUUMsU0FBU1AsRUFBWVosRUFBUXpKLEVBQUtzSyxPQUFXLEtBQUssR0FBSWpHLEdBQUlnRyxFQUFXNUcsT0FBUyxFQUFHWSxHQUFLLEVBQUdBLEtBQzNOa0csRUFBSUYsRUFBV2hHLE1BQUlvRyxHQUFTLEVBQUpELEVBQVFELEVBQUVFLEdBQUtELEVBQUksRUFBSUQsRUFBRWQsRUFBUXpKLEVBQUt5SyxHQUFLRixFQUFFZCxFQUFRekosS0FBU3lLLEVBQzdGLE9BQU9ELEdBQUksR0FBS0MsR0FBS3hLLE9BQU9JLGVBQWVvSixFQUFRekosRUFBS3lLLEdBQUlBLEdZenNCdERJLEVBQVVsTCxFQUFrQixLQVF4QzhILEVBQUEsU0FBQXFELEdBQ0UsUUFBQXJELEdBQWlCaEIsR1owc0JWLE1BRkE4QixHQUFnQndDLEtBQU10RCxHQUVma0IsRUFBMkJvQyxLQUFNOUssT0FBTytLLGVBQWV2RCxHQUFVckgsS0FBSzJLLEtZdHNCOUV0RSxJWm90QkgsTUFuQkFxQyxHQUFVckIsRUFBVXFELEdBUXBCdkIsRUFBYTlCLElBQ1R6SCxJQUFLLFNBQ0xNLE1BQU8sV0FDSCxHQUFJMkssR0FBU0YsSVkzc0JmLE9BQ0xkLGNBQUFtQixjQUFJLE9BQVVDLFVBQWdCLGdCQUFVRixVQUFNSixLQUFNdEUsTUFBVTBFLFdBQU8sSUFDbkVsQixhQUFBbUIsY0FBUyxZQUNJRSxZQUFNUCxLQUFNdEUsTUFBYTZFLFlBQy9CaEwsTUFBTXlLLEtBQU10RSxNQUFPbkcsTUFDaEJpTCxTQUFBLFNBQUFDLEdBQ0ZQLEVBQU14RSxNQUFTOEUsU0FDbkJDLElBQ09ILFVBQVcsV0FDaEJJLEtBQU1WLEtBQU10RSxNQUFLZ0YsS0FBT1YsS0FBTXRFLE1BQUtnRixLQUFVLE9BQzdDekosS0FBTStJLEtBQU10RSxNQUFLekUsS0FBTytJLEtBQU10RSxNQUFLekUsS0FLaEQsWUFyQitCeUYsR1owdEI3QnVDLEVBQU8wQixVWTd0QlZqRSxHQUFBMkMsSUFBQSxFQUFBRCxjQUFrQlUsR0FDSGMsZUFDYixLQXdCRmxFLEdadXNCQy9ILGFZdnNCc0IrSCxHWjJzQmpCc0ksSUFDQSxTQUFTdFEsRUFBUUMsR2E3dUJ2QkQsRUFBQUMsU0FBa0JzUSxnQkFBQSx1Q0FBQUMsU0FBQSxtQmJvdkJaQyxJQUNBLFNBQVN6USxFQUFRQyxFQUFTQyxHQUUvQixZQWtDQSxTQUFTb0QsR0FBdUJsRCxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFtRCxVQUFTbkQsR0FFdkYsUUFBUzBJLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBRWhILFFBQVNDLEdBQTJCQyxFQUFNeEksR0FBUSxJQUFLd0ksRUFBUSxLQUFNLElBQUlDLGdCQUFlLDREQUFnRSxRQUFPekksR0FBeUIsZ0JBQVRBLElBQXFDLGtCQUFUQSxHQUE4QndJLEVBQVB4SSxFQUVsTyxRQUFTMEksR0FBVUMsRUFBVUMsR0FBYyxHQUEwQixrQkFBZkEsSUFBNEMsT0FBZkEsRUFBdUIsS0FBTSxJQUFJTixXQUFVLGlFQUFvRU0sR0FBZUQsR0FBUzdJLFVBQVlELE9BQU9nSixPQUFPRCxHQUFjQSxFQUFXOUksV0FBYWdKLGFBQWU1SSxNQUFPeUksRUFBVTNILFlBQVksRUFBTytILFVBQVUsRUFBTUMsY0FBYyxLQUFlSixJQUFZL0ksT0FBT29KLGVBQWlCcEosT0FBT29KLGVBQWVOLEVBQVVDLEdBQWNELEVBQVNPLFVBQVlOLEdBdENqZS9JLE9BQU9JLGVBQWVYLEVBQVMsY0FDM0JZLE9BQU8sR0FHWCxJQUFJaUosR0FBZSxXQUFjLFFBQVNDLEdBQWlCQyxFQUFRaEQsR0FBUyxJQUFLLEdBQUlwQyxHQUFJLEVBQUdBLEVBQUlvQyxFQUFNaEQsT0FBUVksSUFBSyxDQUFFLEdBQUlxRixHQUFhakQsRUFBTXBDLEVBQUlxRixHQUFXdEksV0FBYXNJLEVBQVd0SSxhQUFjLEVBQU9zSSxFQUFXTixjQUFlLEVBQVUsU0FBV00sS0FBWUEsRUFBV1AsVUFBVyxHQUFNbEosT0FBT0ksZUFBZW9KLEVBQVFDLEVBQVcxSixJQUFLMEosSUFBaUIsTUFBTyxVQUFVakIsRUFBYWtCLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZSCxFQUFpQmYsRUFBWXZJLFVBQVd5SixHQUFpQkMsR0FBYUosRUFBaUJmLEVBQWFtQixHQUFxQm5CLE1jOXZCemZ1QixFQUFBckssRUFBQSxHZGt3Qm5Dc0ssRUFBVWxILEVBQXVCaUgsR2Nod0JEbUcsRUFBQXhRLEVBQUEsR0FDSHlRLEVBQUF6USxFQUFBLElBQ3lGMFEsRUFBQTFRLEVBQUEsR0FDckd1RCxFQUFBdkQsRUFBQSxJZHV3QmpCd0QsRUFBV0osRUFBdUJHLEdjdHdCVm9OLEVBQUEzUSxFQUFBLEtkMHdCeEI0USxFQUFTeE4sRUFBdUJ1TixHY3p3Qm1CRSxFQUFBN1EsRUFBQSxLZDZ3Qm5EOFEsRUFBaUIxTixFQUF1QnlOLEdjM3ZCN0NFLEVBQUEvUSxFQUFBLEtkK3ZCS2dSLEVBQWdCNU4sRUFBdUIyTixHYy92QmJFLEVBQUEsU0FBQTlGLEdBSzdCLFFBQUE4RixHQUFpQm5LLEdkd3dCVjhCLEVBQWdCd0MsS0FBTTZGLEVBRXRCLElBQUlyRSxHQUFRNUQsRUFBMkJvQyxLQUFNOUssT0FBTytLLGVBQWU0RixHQUFTeFEsS0FBSzJLLEtjendCMUV0RSxHZGt4QlAsT2NqeEJEOEYsR0FBTWxKLE9BQ2N3TiwyQkFHcEJ0RSxFQUF1QnVFLHVCQUFPdkUsRUFBdUJ1RSx1QkFBV2xFLEtBQUFMLEdBQ2hFQSxFQUF3QndFLHdCQUFPeEUsRUFBd0J3RSx3QkFBV25FLEtBQUFMLEdBQ2xFQSxFQUFVeUUsVUFBT3pFLEVBQVV5RSxVQUFXcEUsS0FBQUwsR0FDdENBLEVBQVEwRSxRQUFPMUUsRUFBUTBFLFFBR3RCckUsS0FBQUwsR2R1d0JPQSxFQWdFWCxNQTlFQXpELEdBQVU4SCxFQUFTOUYsR0FpQm5CdkIsRUFBYXFILElBQ1Q1USxJQUFLLFVBQ0xNLE1BQU8sU2M1d0JGNFEsR2Q2d0JELEdBQUlqRyxHQUFTRixJYzV3QmxCd0YsY0FBUVUsUUFBTUMsR0FBS0MsS0FBQSxTQUFBQyxHQUNqQm5HLEVBQU14RSxNQUFpQjRLLGlCQUFRLFFBQy9CcEcsRUFBTXhFLE1BQU02SyxNQUFXLFdBQ3ZCckcsRUFBU3FDLFVBQ1d1RCw2QkFKSSxTQUFBVSxHQU94QnRHLEVBQU14RSxNQUFpQjRLLGlCQUFNRSxFQUFRQyxRQUlwQyxjZDh3QkZ4UixJQUFLLFlBQ0xNLE1BQU8sU2Mvd0JBNFEsR2RneEJILEdBQUlPLEdBQVMxRyxJYy93QmxCd0YsY0FBVVMsVUFBTUUsR0FBS0MsS0FBQSxTQUFBQyxHQUNuQkssRUFBTWhMLE1BQWlCNEssaUJBQVEsT0FDbkMsSUFBUW5QLEdBQVNrUCxFQUFLTSxLQUFJQyxJQUFHLEdBQUlDLElBQ3ZCNVAsRUFBU29QLEVBQUtNLEtBQUlDLElBQUcsR0FBSzNQLElBRWhDeVAsR0FBU25FLFVBQ1d1RCx3QkFDUGdCLGdCQUNQN1AsS0FBTUEsRUFDTDFCLE1BQ0w0QixJQUNVNFAsYUFFZCxNQUVFTCxFQUFNaEwsTUFDWHNMLGNBaEIrQixTQUFBUixHQWlCMUJFLEVBQU1oTCxNQUFpQjRLLGlCQUFNRSxFQUlkQyxjZCt3QmhCeFIsSUFBSywwQkFDTE0sTUFBTyxTY2h4QmVpQixHQUNyQjRCLGFBQVE2TyxRQUFRelEsSUFDaEJ3SixLQUFNdEUsTUFBYXdMLGNBQ3BCQyxFQUtlM1EsT2RneEJmdkIsSUFBSyx5QkFDTE0sTUFBTyxTY2p4QmU2UixHQUNyQmhQLGFBQVE2TyxRQUFTRyxJQUNqQnBILEtBQU10RSxNQUFrQjJMLGtCQUkxQkQsTWRpeEJDblMsSUFBSyxTQUNMTSxNQUFPLFdjanhCTCxNQUNMMkosY0FBYW1CLGNBQUFxRixjQUFNeE8sTUFBTyxRQUN4QmdJLGFBQUFtQixjQUFHLE1BQVVELFVBQWEsY0FBVSxRQUNwQ2xCLGFBQVltQixjQUFBdUYsY0FDUTBCLG1CQUFNdEgsS0FBd0IrRix1QkFDN0J3QixvQkFBTXZILEtBQXlCZ0csd0JBQ3RDd0IsYUFBTXhILEtBQVdpRyxVQUNsQndCLFlBQU16SCxLQUFNMUgsTUFBd0J3Tix1QkFDckM0QixXQUFNMUgsS0FLekJrRyxlZHl3QldMLEdBQ1Q1RyxFQUFPMEIsV2N4d0JXZ0gsRUFBQSxTQUFBclAsR0FDYixPQUNRc1AsYUFBT3RQLEVBQVd1UCxXQUFhRCxhQUNuQ0UsU0FBT3hQLEVBSW5Cd1AsVWR5d0JDblQsZWN6d0JxQixFQUFBeVEsRUFBQTJDLFNBQ0xKLEdBQ0dyQixpQkFBQWhCLEVBQUFnQixpQkFBYTBCLFlBQUExQyxFQUFBMEMsWUFBV0MsVUFBQTNDLEVBQUEyQyxVQUFtQlosa0JBQUEvQixFQUFBK0Isa0JBQVlMLFdBQUExQixFQUFBMEIsV0FBY0UsYUFBQTVCLEVBQUE0QixhQUN4RlgsTUFBQWxCLEVBQUFrQixRQUFnQlYsSWQwd0JYcUMsSUFDQSxTQUFTeFQsRUFBUUMsRUFBU0MsR0FFL0IsWUEwQ0EsU0FBU0MsR0FBd0JDLEdBQU8sR0FBSUEsR0FBT0EsRUFBSUMsV0FBYyxNQUFPRCxFQUFjLElBQUlFLEtBQWEsSUFBVyxNQUFQRixFQUFlLElBQUssR0FBSUcsS0FBT0gsR0FBV0ksT0FBT0MsVUFBVUMsZUFBZUMsS0FBS1AsRUFBS0csS0FBTUQsRUFBT0MsR0FBT0gsRUFBSUcsR0FBZ0MsT0FBdEJELGNBQWlCRixFQUFZRSxFQUVsUSxRQUFTZ0QsR0FBdUJsRCxHQUFPLE1BQU9BLElBQU9BLEVBQUlDLFdBQWFELEdBQVFtRCxVQUFTbkQsR0FFdkYsUUFBUzBJLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBRWhILFFBQVNDLEdBQTJCQyxFQUFNeEksR0FBUSxJQUFLd0ksRUFBUSxLQUFNLElBQUlDLGdCQUFlLDREQUFnRSxRQUFPekksR0FBeUIsZ0JBQVRBLElBQXFDLGtCQUFUQSxHQUE4QndJLEVBQVB4SSxFQUVsTyxRQUFTMEksR0FBVUMsRUFBVUMsR0FBYyxHQUEwQixrQkFBZkEsSUFBNEMsT0FBZkEsRUFBdUIsS0FBTSxJQUFJTixXQUFVLGlFQUFvRU0sR0FBZUQsR0FBUzdJLFVBQVlELE9BQU9nSixPQUFPRCxHQUFjQSxFQUFXOUksV0FBYWdKLGFBQWU1SSxNQUFPeUksRUFBVTNILFlBQVksRUFBTytILFVBQVUsRUFBTUMsY0FBYyxLQUFlSixJQUFZL0ksT0FBT29KLGVBQWlCcEosT0FBT29KLGVBQWVOLEVBQVVDLEdBQWNELEVBQVNPLFVBQVlOLEdBaERqZS9JLE9BQU9JLGVBQWVYLEVBQVMsY0FDM0JZLE9BQU8sR0FHWCxJQUFJaUosR0FBZSxXQUFjLFFBQVNDLEdBQWlCQyxFQUFRaEQsR0FBUyxJQUFLLEdBQUlwQyxHQUFJLEVBQUdBLEVBQUlvQyxFQUFNaEQsT0FBUVksSUFBSyxDQUFFLEdBQUlxRixHQUFhakQsRUFBTXBDLEVBQUlxRixHQUFXdEksV0FBYXNJLEVBQVd0SSxhQUFjLEVBQU9zSSxFQUFXTixjQUFlLEVBQVUsU0FBV00sS0FBWUEsRUFBV1AsVUFBVyxHQUFNbEosT0FBT0ksZUFBZW9KLEVBQVFDLEVBQVcxSixJQUFLMEosSUFBaUIsTUFBTyxVQUFVakIsRUFBYWtCLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZSCxFQUFpQmYsRUFBWXZJLFVBQVd5SixHQUFpQkMsR0FBYUosRUFBaUJmLEVBQWFtQixHQUFxQm5CLE1BRTVoQm9CLEVBQTRCLGtCQUFYQyxTQUFvRCxnQkFBcEJBLFFBQU9DLFNBQXdCLFNBQVVsSyxHQUFPLGFBQWNBLElBQVMsU0FBVUEsR0FBTyxNQUFPQSxJQUF5QixrQkFBWGlLLFNBQXlCakssRUFBSXFKLGNBQWdCWSxPQUFTLGVBQWtCakssSWV6NEJuTW1LLEVBQUFySyxFQUFBLEdmNjRCbkNzSyxFQUFVbEgsRUFBdUJpSCxHZTU0QkRtRyxFQUFBeFEsRUFBQSxHQUNDeVEsRUFBQXpRLEVBQUEsSUFDOEIwUSxFQUFBMVEsRUFBQSxHQUM3RHVULEVBQUF2VCxFQUFBLEtBQThDcUgsRUFBQXBILEVBQUFzVCxHQUNKbkwsRUFBQXBJLEVBQUEsS2ZzNUI1Q3FJLEVBQVVqRixFQUF1QmdGLEdlcjVCaUJJLEVBQUF4SSxFQUFBLEtmeTVCbER5SSxFQUFhckYsRUFBdUJvRixHZXg1QnNCZ0wsRUFBQXhULEVBQUEsS0FDcEJ5VCxFQUFBelQsRUFBQSxLZjY1QnRDMFQsRUFBa0J0USxFQUF1QnFRLEdlNTVCeEJsUSxFQUFBdkQsRUFBQSxJZmc2QmpCd0QsRUFBV0osRUFBdUJHLEdBWWxDb1EsRUFBOENyVCxPQUFPaUwsUUFBVSxTQUFVcUksR0FDekUsSUFBSyxHQUFJQyxHQUFHblAsRUFBSSxFQUFHb1AsRUFBSWpRLFVBQVVDLE9BQVlnUSxFQUFKcFAsRUFBT0EsSUFBSyxDQUNqRG1QLEVBQUloUSxVQUFVYSxFQUNkLEtBQUssR0FBSXFQLEtBQUtGLEdBQ052VCxPQUFPQyxVQUFVQyxlQUFlQyxLQUFLb1QsRUFBR0UsS0FBSUgsRUFBRUcsR0FBS0YsRUFBRUUsSUFHakUsTUFBT0gsSUFFUG5KLEVBQWtELFNBQVVDLEVBQVlaLEVBQVF6SixFQUFLc0ssR0FDckYsR0FFSUMsR0FGQUMsRUFBSWhILFVBQVVDLE9BQ2RnSCxFQUFRLEVBQUpELEVBQVFmLEVBQWtCLE9BQVRhLEVBQWdCQSxFQUFPckssT0FBT3lLLHlCQUF5QmpCLEVBQVF6SixHQUFPc0ssQ0FFL0YsSUFBMEUsWUFBbEQsbUJBQVpLLFNBQTBCLFlBQWNkLEVBQVFjLFdBQXNELGtCQUFyQkEsU0FBUUMsU0FBeUJILEVBQUlFLFFBQVFDLFNBQVNQLEVBQVlaLEVBQVF6SixFQUFLc0ssT0FBVyxLQUFLLEdBQUlqRyxHQUFJZ0csRUFBVzVHLE9BQVMsRUFBR1ksR0FBSyxFQUFHQSxLQUMzTmtHLEVBQUlGLEVBQVdoRyxNQUFJb0csR0FBUyxFQUFKRCxFQUFRRCxFQUFFRSxHQUFLRCxFQUFJLEVBQUlELEVBQUVkLEVBQVF6SixFQUFLeUssR0FBS0YsRUFBRWQsRUFBUXpKLEtBQVN5SyxFQUM3RixPQUFPRCxHQUFJLEdBQUtDLEdBQUt4SyxPQUFPSSxlQUFlb0osRUFBUXpKLEVBQUt5SyxHQUFJQSxHZXY2QnREa0osR0FBaUIsY0FBZ0IsZUFBZ0IsZUFBaUIsZ0JBQVMsUUFBZSxjQUFZLFdBTWxIQyxFQUFBLFNBQUE5SSxHQUVFLFFBQUE4SSxHQUFpQm5OLEdmdTZCVjhCLEVBQWdCd0MsS0FBTTZJLEVBRXRCLElBQUlySCxHQUFRNUQsRUFBMkJvQyxLQUFNOUssT0FBTytLLGVBQWU0SSxHQUFheFQsS0FBSzJLLEtleDZCOUV0RSxHZjI2QlAsT2UxNkJEOEYsR0FBdUJzSCx1QkFBT3RILEVBQXVCc0gsdUJBR3JDakgsS0FBQUwsR2Z1NkJSQSxFQW1FWCxNQTNFQXpELEdBQVU4SyxFQUFhOUksR0FXdkJ2QixFQUFhcUssSUFDVDVULElBQUsseUJBQ0xNLE1BQU8sU2U1NkJlNE0sR2Y2NkJsQixHQUFJNEcsR2UxNkJML0ksS0FBTXRFLE1BREprTixPQUF5QzdCLEdBQTVCZ0MsRUFBQUMsWUFBY0QsRUFBQUUsYUFBY0YsRUFBQWhDLGNBQU94UCxFQUFBd1IsRUFBQXhSLE1BQ3pERixFQUFBMFIsRUFBQTFSLFdBRUlFLEdBQVNpSixTQUFPMkIsRUFBVy9LLFdBQU9HLE9BQzNCd1AsRUFBU3ZHLFNBQU8yQixFQUFXL0ssV0FBUU0sUUFDcENMLEVBQVNtSixTQUFPMkIsRUFBVy9LLFdBR2xDQyxnQmYrNkJDcEMsSUFBSyxTQUNMTSxNQUFPLFdBQ0gsR0FBSTJLLEdBQVNGLEtBRVRvRCxFZXo2QkxwRCxLQUFNdEUsTWYwNkJEd04sRUFBaUI5RixFZWw3QnBCd0YsT0FBYUksRUFBQUUsRUFBQUYsWUFBY0MsRUFBQUMsRUFBQUQsYUFBY2xDLEVBQUFtQyxFQUFBbkMsYUFBZUQsRUFBQW9DLEVBQUFwQyxjQUFPdlAsRUFBQTJSLEVBQUEzUixNQUFhRixFQUFBNlIsRUFBQTdSLFlBQVc4UixFQUFBRCxFQUFBQyxRQUNuRkMsRUFBQWhHLEVBQUFnRyxhQUNNOUIsRUFBQWxFLEVBQUFrRSxtQkFDQ0MsRUFBQW5FLEVBQUFtRSxvQkFDQzFSLEVBQUF1TixFQUFBdk4scUJBQ0pELEVBQUF3TixFQUFBeE4saUJBQ0o0UixFQUFBcEUsRUFBQW9FLGFBRWJFLEVBQUF0RSxFQUFBc0UsVUFFTSxPQUNMeEksY0FBQW1CLGNBQUksV0FDRm5CLGFBQWVtQixjQUFBK0gsRUFBQXpMLGdCQUNGNEQsWUFBSyxLQUNIc0MsY0FBQSxTQUFBYixHQUNPc0YsRUFBVXRGLEdBQ2pCZ0gsRUFBU3hJLFNBQ25Cd0IsSUFDRXpNLE1BQWF5VCxFQUFPelQsTUFDWDBNLGVBQUEsU0FBQU8sR0FDQXlHLEVBQVN6SSxTQUNwQmdDLElBQ0kxSixRQUF1QmpELEVBQ3hCd0csT0FBYzRNLEVBQU0xVCxVQUNiaVAsY0FBTXhFLEtBQ2pCOEkseUJBQUE1SixhQUNXbUIsY0FBQStILEVBQUF6TCxnQkFDRjRELFlBQUssS0FDSHNDLGNBQUEsU0FBQWIsR0FDUXVGLEVBQVV2RixHQUNqQitFLEVBQVN2RyxTQUNwQndCLElBQ0V6TSxNQUFjd1IsRUFBT3hSLE1BQ1owTSxlQUFBLFNBQUFPLEdBQ0NzRSxFQUFTdEcsU0FDckJnQyxJQUNJMUosUUFBbUJsRCxFQUNwQnlHLE9BQWV5SyxFQUFNdlIsVUFDZCtOLGNBQUEsU0FBQS9OLEdBQ1AySyxFQUFNeEUsTUFBVXVNLFdBQ2IvUSxNQUFRLE9BQ05pUyxRQUFFakssYUFBY21CLGNBQUFpSSxjQUNWYixhQUFReFEsS0FBVTFCLEdBQ3ZCOFQsT0FJVjdCLFNBQ0p0SSxhQUFNbUIsY0FBQXBELGFBQUFzTCxHQUFZaEksWUFBUyxVQUFjaEosSUFDekMySCxhQUFTbUIsY0FBQWhELGFBQUFrTCxHQUFZaEksWUFBSyxNQUFvQmxKLElBQzlDNkgsYUFBU21CLGNBQUFoRCxhQUFBa0wsR0FBWWhJLFlBQXlCLDBCQUFnQjRJLElBQUFqSyxhQUN2RG1CLGNBQUErSCxFQUFBdkwsUUFBQStHLFFBQXNCd0YsRUFBQSxTQUFBakQsR0FDM0IsR0FBWW1ELEdBQUlsUixhQUFLUyxLQUFLc04sR0FBVSxRQUFlLGNBQWEsV0FDeERtRCxHQUFBbFIsYUFBVytILFVBQWFtSixHQUN6QnBTLE1BQUdrQixhQUFJOUIsSUFBYTJTLEVBQWlCLGdCQUFLLElBQ3hDTSxRQUFBblEsTUFBZUMsUUFBY3lOLEVBQU92UixPQUFnQnVSLEVBQU12UixNQUFJd0IsSUFBQSxTQUFBNkwsR2YrNUJwRCxNZS81QjJEQSxHQUFPck4sYUFFM0VtUyxFQUNSNEIsTUFJWCxXQWpGa0NULEdmay9CaEM1SixFQUFPMEIsVWV0L0JWa0ksR0FBQXhKLElBQUEsRUFBQWdHLEVBQUFtRSxZQUNNQyxLQUFXLFVBRWZiLFlBQUFDLEVBb0ZGLElBQXFCbEIsR0FBQSxTQUFTclAsRUFBVW9SLEdBQ3RDLEdBQXFCQyxHQUFJdlIsYUFBSTlCLElBQU1nQyxFQUFLbVIsS0FBNkIsNEJBQUssSUFDeERHLEVBQUl4UixhQUFJOUIsSUFBTWdDLEVBQUttUixLQUE4Qiw2QkFBSyxHQUVsRSxRQUNTSSxjQUFVSCxFQUFZakMsWUFDNUJxQyxRQUFPeFIsRUFBUXdSLFFBQTBCQywwQkFDNUJsVSxxQkFBV29HLEVBQXFCcEcscUJBQWlCOFQsR0FBT3JSLEdBQzVEMUMsaUJBQVdxRyxFQUFpQnJHLGlCQUFjZ1UsR0FJOUR0UixJZms2QkMzRCxlZWw2QnFCLEVBQUF5USxFQUFBMkMsU0FDTEosR0FDR3JCLGlCQUFBaEIsRUFBQWdCLGlCQUNuQjJCLFVBQUEzQyxFQUFBMkMsWUFBYVksSWZtNkJSbUIsSUFDQSxTQUFTdFYsRUFBUUMsRUFBU0MsR0FFL0IsWUE0QkEsU0FBU29ELEdBQXVCbEQsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRbUQsVUFBU25ELEdBRXZGLFFBQVMwSSxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQUVoSCxRQUFTQyxHQUEyQkMsRUFBTXhJLEdBQVEsSUFBS3dJLEVBQVEsS0FBTSxJQUFJQyxnQkFBZSw0REFBZ0UsUUFBT3pJLEdBQXlCLGdCQUFUQSxJQUFxQyxrQkFBVEEsR0FBOEJ3SSxFQUFQeEksRUFFbE8sUUFBUzBJLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSU4sV0FBVSxpRUFBb0VNLEdBQWVELEdBQVM3SSxVQUFZRCxPQUFPZ0osT0FBT0QsR0FBY0EsRUFBVzlJLFdBQWFnSixhQUFlNUksTUFBT3lJLEVBQVUzSCxZQUFZLEVBQU8rSCxVQUFVLEVBQU1DLGNBQWMsS0FBZUosSUFBWS9JLE9BQU9vSixlQUFpQnBKLE9BQU9vSixlQUFlTixFQUFVQyxHQUFjRCxFQUFTTyxVQUFZTixHQWhDamUvSSxPQUFPSSxlQUFlWCxFQUFTLGNBQzNCWSxPQUFPLEdBR1gsSUFBSWlKLEdBQWUsV0FBYyxRQUFTQyxHQUFpQkMsRUFBUWhELEdBQVMsSUFBSyxHQUFJcEMsR0FBSSxFQUFHQSxFQUFJb0MsRUFBTWhELE9BQVFZLElBQUssQ0FBRSxHQUFJcUYsR0FBYWpELEVBQU1wQyxFQUFJcUYsR0FBV3RJLFdBQWFzSSxFQUFXdEksYUFBYyxFQUFPc0ksRUFBV04sY0FBZSxFQUFVLFNBQVdNLEtBQVlBLEVBQVdQLFVBQVcsR0FBTWxKLE9BQU9JLGVBQWVvSixFQUFRQyxFQUFXMUosSUFBSzBKLElBQWlCLE1BQU8sVUFBVWpCLEVBQWFrQixFQUFZQyxHQUFpSixNQUE5SEQsSUFBWUgsRUFBaUJmLEVBQVl2SSxVQUFXeUosR0FBaUJDLEdBQWFKLEVBQWlCZixFQUFhbUIsR0FBcUJuQixNQUU1aEJvQixFQUE0QixrQkFBWEMsU0FBb0QsZ0JBQXBCQSxRQUFPQyxTQUF3QixTQUFVbEssR0FBTyxhQUFjQSxJQUFTLFNBQVVBLEdBQU8sTUFBT0EsSUFBeUIsa0JBQVhpSyxTQUF5QmpLLEVBQUlxSixjQUFnQlksT0FBUyxlQUFrQmpLLElnQm5qQ25NbUssRUFBQXJLLEVBQUEsR2hCdWpDbkNzSyxFQUFVbEgsRUFBdUJpSCxHZ0J0akNEbUcsRUFBQXhRLEVBQUEsR0FDQ3lRLEVBQUF6USxFQUFBLElBQytCMFEsRUFBQTFRLEVBQUEsR0FDcEJvSSxFQUFBcEksRUFBQSxLaEI2akM1Q3FJLEVBQVVqRixFQUF1QmdGLEdnQjVqQ3VCaU4sRUFBQXJWLEVBQUEsSWhCZ2tDeERzVixFQUFnQmxTLEVBQXVCaVMsR0FVdkMxQixFQUE4Q3JULE9BQU9pTCxRQUFVLFNBQVVxSSxHQUN6RSxJQUFLLEdBQUlDLEdBQUduUCxFQUFJLEVBQUdvUCxFQUFJalEsVUFBVUMsT0FBWWdRLEVBQUpwUCxFQUFPQSxJQUFLLENBQ2pEbVAsRUFBSWhRLFVBQVVhLEVBQ2QsS0FBSyxHQUFJcVAsS0FBS0YsR0FDTnZULE9BQU9DLFVBQVVDLGVBQWVDLEtBQUtvVCxFQUFHRSxLQUFJSCxFQUFFRyxHQUFLRixFQUFFRSxJQUdqRSxNQUFPSCxJQUVQbkosRUFBa0QsU0FBVUMsRUFBWVosRUFBUXpKLEVBQUtzSyxHQUNyRixHQUVJQyxHQUZBQyxFQUFJaEgsVUFBVUMsT0FDZGdILEVBQVEsRUFBSkQsRUFBUWYsRUFBa0IsT0FBVGEsRUFBZ0JBLEVBQU9ySyxPQUFPeUsseUJBQXlCakIsRUFBUXpKLEdBQU9zSyxDQUUvRixJQUEwRSxZQUFsRCxtQkFBWkssU0FBMEIsWUFBY2QsRUFBUWMsV0FBc0Qsa0JBQXJCQSxTQUFRQyxTQUF5QkgsRUFBSUUsUUFBUUMsU0FBU1AsRUFBWVosRUFBUXpKLEVBQUtzSyxPQUFXLEtBQUssR0FBSWpHLEdBQUlnRyxFQUFXNUcsT0FBUyxFQUFHWSxHQUFLLEVBQUdBLEtBQzNOa0csRUFBSUYsRUFBV2hHLE1BQUlvRyxHQUFTLEVBQUpELEVBQVFELEVBQUVFLEdBQUtELEVBQUksRUFBSUQsRUFBRWQsRUFBUXpKLEVBQUt5SyxHQUFLRixFQUFFZCxFQUFRekosS0FBU3lLLEVBQzdGLE9BQU9ELEdBQUksR0FBS0MsR0FBS3hLLE9BQU9JLGVBQWVvSixFQUFRekosRUFBS3lLLEdBQUlBLEdnQm5rQ2xFeUssRUFBQSxTQUFBcEssR0FFRSxRQUFBb0ssR0FBaUJ6TyxHaEIwa0NWLE1BRkE4QixHQUFnQndDLEtBQU1tSyxHQUVmdk0sRUFBMkJvQyxLQUFNOUssT0FBTytLLGVBQWVrSyxHQUFlOVUsS0FBSzJLLEtnQnRrQ3hFdEUsSWhCOGxDZCxNQTdCQXFDLEdBQVVvTSxFQUFlcEssR0FRekJ2QixFQUFhMkwsSUFDVGxWLElBQUssb0JBQ0xNLE1BQU8sZUFFUE4sSUFBSyxTQUNMTSxNQUFPLFdBQ0gsR0FBSTZOLEdnQnRrQ0xwRCxLQUFNdEUsTWhCdWtDRHFOLEVBQWdCM0YsRWdCM2tDbkJ3RixPQUFNM1IsRUFBQThSLEVBQUE5UixLQUFNbVQsRUFBQXJCLEVBQUFxQixLQUFlL1MsRUFBQTBSLEVBQUExUixZQUN2QitSLEVBQUFoRyxFQUFBZ0csYUFDRnBDLEVBQUE1RCxFQUFBNEQsV0FFWHFDLEVBQUFqRyxFQUFBaUcsTUFFTSxPQUNMbkssY0FBQW1CLGNBQUksV0FDRm5CLGFBQU1tQixjQUFBcEQsYUFBQXNMLEdBQVloSSxZQUFLLE1BQWF0SixJQUNwQ2lJLGFBQU1tQixjQUFBcEQsYUFBQXNMLEdBQVloSSxZQUFPLFFBQWE2SixJQUN0Q2xMLGFBQU1tQixjQUFBcEQsYUFBQXNMLEdBQVloSSxZQUFLLE1BQW9CbEosSUFBQTZILGFBQy9CbUIsY0FBQTZKLGNBQUFHLFVBQ2FqQixFQUFBLFNBQUFqRCxHQUNma0QsRUFDTGxELEtBQ0ttRSxTQUtqQnRELFNBL0JvQ21ELEdoQnFtQ2xDbEwsRUFBTzBCLFVnQnptQ1Z3SixHQUFBOUssSUFBQSxFQUFBZ0csRUFBQW1FLFlBQ01DLEtBQWEsWUFDWGIsUUFBUyxPQUFRLE9BQ3ZCLGtCQWtDRnVCLEdoQnlrQ0N4VixjZ0J6a0NxQixFQUFBeVEsRUFBQTJDLFNBQUEsU0FDZHpQLEVBQWVvUixHaEJ5a0NsQixPZ0J4a0NZRyxjQUFVSCxFQUFZakMsWUFDNUJxQyxRQUFPeFIsRUFBUXdSLFFBQ3RCQyw2QkFDZ0J6RCxpQkFBQWhCLEVBQUFnQixpQkFDbkJVLFdBQUExQixFQUFBMEIsYUFBZW1EIiwiZmlsZSI6IjE0LjE0LmpzIiwic291cmNlc0NvbnRlbnQiOlsid2VicGFja0pzb25wKFsxNF0se1xuXG4vKioqLyAxNjA6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmNvbW1vbiA9IGV4cG9ydHMudXNlcnNTZWxlY3RvciA9IGV4cG9ydHMuYm9va3NTZWxlY3RvciA9IGV4cG9ydHMuYm9va3NTZWFyY2hBc09wdGlvbnMgPSBleHBvcnRzLmF1dGhvcnNBc09wdGlvbnMgPSBleHBvcnRzLmRvdWJhbkJvb2tzQXNPcHRpb25zID0gZXhwb3J0cy5zZWFyY2hCb29rc1NlbGVjdG9yID0gZXhwb3J0cy5xdWVyeUF1dGhvcnNTZWxlY3RvciA9IGV4cG9ydHMucXVlcnlEb3ViYW5Cb29rc1NlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9jb21tb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2MSk7XG5cdFxuXHRPYmplY3Qua2V5cyhfY29tbW9uKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0ICAgIGlmIChrZXkgPT09IFwiZGVmYXVsdFwiKSByZXR1cm47XG5cdCAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7XG5cdCAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcblx0ICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIF9jb21tb25ba2V5XTtcblx0ICAgICAgICB9XG5cdCAgICB9KTtcblx0fSk7XG5cdFxuXHR2YXIgX3Jlc2VsZWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNjIpO1xuXHRcblx0dmFyIGNvbW1vbiA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9jb21tb24pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBlbHNlIHsgdmFyIG5ld09iaiA9IHt9OyBpZiAob2JqICE9IG51bGwpIHsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyByZXR1cm4gbmV3T2JqOyB9IH1cblx0XG5cdHZhciBxdWVyeURvdWJhbkJvb2tzU2VsZWN0b3IgPSBleHBvcnRzLnF1ZXJ5RG91YmFuQm9va3NTZWxlY3RvciA9IGZ1bmN0aW9uIHF1ZXJ5RG91YmFuQm9va3NTZWxlY3RvcihxdWVyeSkge1xuXHQgICAgcmV0dXJuICgwLCBfcmVzZWxlY3QuY3JlYXRlU2VsZWN0b3IpKCgwLCBfY29tbW9uLnNlbGVjdFBhZ2luYXRlZEVudGl0aWVzKSh7XG5cdCAgICAgICAgZW50aXRpZXNOYW1lOiAnZG91YmFuQm9va3MnLFxuXHQgICAgICAgIHBhZ2luYXRpb25OYW1lOiAnZG91YmFuQm9va3MnLFxuXHQgICAgICAgIHBhZ2luYXRpb25RdWVyeTogcXVlcnlcblx0ICAgIH0pLCBmdW5jdGlvbiAoYm9va3MpIHtcblx0ICAgICAgICByZXR1cm4gYm9va3M7XG5cdCAgICB9KTtcblx0fTtcblx0dmFyIHF1ZXJ5QXV0aG9yc1NlbGVjdG9yID0gZXhwb3J0cy5xdWVyeUF1dGhvcnNTZWxlY3RvciA9IGZ1bmN0aW9uIHF1ZXJ5QXV0aG9yc1NlbGVjdG9yKHF1ZXJ5KSB7XG5cdCAgICByZXR1cm4gKDAsIF9jb21tb24uc2VsZWN0UGFnaW5hdGVkRW50aXRpZXMpKHtcblx0ICAgICAgICBlbnRpdGllc05hbWU6ICdhdXRob3JzJyxcblx0ICAgICAgICBwYWdpbmF0aW9uTmFtZTogJ2F1dGhvcnMnLFxuXHQgICAgICAgIHBhZ2luYXRpb25RdWVyeTogcXVlcnlcblx0ICAgIH0pO1xuXHR9O1xuXHR2YXIgc2VhcmNoQm9va3NTZWxlY3RvciA9IGV4cG9ydHMuc2VhcmNoQm9va3NTZWxlY3RvciA9IGZ1bmN0aW9uIHNlYXJjaEJvb2tzU2VsZWN0b3IocXVlcnkpIHtcblx0ICAgIHJldHVybiAoMCwgX2NvbW1vbi5zZWxlY3RQYWdpbmF0ZWRFbnRpdGllcykoe1xuXHQgICAgICAgIGVudGl0aWVzTmFtZTogJ2Jvb2tzJyxcblx0ICAgICAgICBwYWdpbmF0aW9uTmFtZTogJ2Jvb2tzJyxcblx0ICAgICAgICBwYWdpbmF0aW9uUXVlcnk6IHF1ZXJ5XG5cdCAgICB9KTtcblx0fTtcblx0dmFyIGRvdWJhbkJvb2tzQXNPcHRpb25zID0gZXhwb3J0cy5kb3ViYW5Cb29rc0FzT3B0aW9ucyA9IGZ1bmN0aW9uIGRvdWJhbkJvb2tzQXNPcHRpb25zKHF1ZXJ5KSB7XG5cdCAgICByZXR1cm4gKDAsIF9yZXNlbGVjdC5jcmVhdGVTZWxlY3RvcikocXVlcnlEb3ViYW5Cb29rc1NlbGVjdG9yKHF1ZXJ5KSwgZnVuY3Rpb24gKGJvb2tzKSB7XG5cdCAgICAgICAgcmV0dXJuIGJvb2tzLm1hcChmdW5jdGlvbiAoYm9vaykge1xuXHQgICAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICAgICAgbmFtZTogYm9vay50aXRsZSxcblx0ICAgICAgICAgICAgICAgIHZhbHVlOiBib29rLmlkLFxuXHQgICAgICAgICAgICAgICAgYWRkaXRpb25hbDoge1xuXHQgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBib29rLnN1bW1hcnksXG5cdCAgICAgICAgICAgICAgICAgICAgY292ZXI6IGJvb2suaW1hZ2VzLmxhcmdlLFxuXHQgICAgICAgICAgICAgICAgICAgIGF1dGhvcjogYm9vay5hdXRob3Iuam9pbignLCAnKVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgIH0pO1xuXHQgICAgfSk7XG5cdH07XG5cdHZhciBhdXRob3JzQXNPcHRpb25zID0gZXhwb3J0cy5hdXRob3JzQXNPcHRpb25zID0gZnVuY3Rpb24gYXV0aG9yc0FzT3B0aW9ucyhxdWVyeSkge1xuXHQgICAgcmV0dXJuICgwLCBfcmVzZWxlY3QuY3JlYXRlU2VsZWN0b3IpKHF1ZXJ5QXV0aG9yc1NlbGVjdG9yKHF1ZXJ5KSwgZnVuY3Rpb24gKGl0ZW1zKSB7XG5cdCAgICAgICAgcmV0dXJuIGl0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLFxuXHQgICAgICAgICAgICAgICAgdmFsdWU6IGl0ZW0uaWRcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICB9KTtcblx0ICAgIH0pO1xuXHR9O1xuXHR2YXIgYm9va3NTZWFyY2hBc09wdGlvbnMgPSBleHBvcnRzLmJvb2tzU2VhcmNoQXNPcHRpb25zID0gZnVuY3Rpb24gYm9va3NTZWFyY2hBc09wdGlvbnMocXVlcnkpIHtcblx0ICAgIHJldHVybiAoMCwgX3Jlc2VsZWN0LmNyZWF0ZVNlbGVjdG9yKShzZWFyY2hCb29rc1NlbGVjdG9yKHF1ZXJ5KSwgZnVuY3Rpb24gKGl0ZW1zKSB7XG5cdCAgICAgICAgcmV0dXJuIGl0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHQgICAgICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgICAgICAgbmFtZTogaXRlbS50aXRsZSxcblx0ICAgICAgICAgICAgICAgIHZhbHVlOiBpdGVtLmlkXG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgfSk7XG5cdCAgICB9KTtcblx0fTtcblx0dmFyIGJvb2tzU2VsZWN0b3IgPSBleHBvcnRzLmJvb2tzU2VsZWN0b3IgPSAoMCwgX3Jlc2VsZWN0LmNyZWF0ZVNlbGVjdG9yKSgoMCwgX2NvbW1vbi5zZWxlY3RQYWdpbmF0ZWRFbnRpdGllcykoe1xuXHQgICAgZW50aXRpZXNOYW1lOiAnYm9va3MnLFxuXHQgICAgcGFnaW5hdGlvbk5hbWU6ICdib29rcycsXG5cdCAgICBwYWdpbmF0aW9uS2V5OiAnZGVmYXVsdCdcblx0fSksIGZ1bmN0aW9uIChib29rcykge1xuXHQgICAgcmV0dXJuIGJvb2tzO1xuXHR9KTtcblx0dmFyIHVzZXJzU2VsZWN0b3IgPSBleHBvcnRzLnVzZXJzU2VsZWN0b3IgPSAoMCwgX2NvbW1vbi5zZWxlY3RQYWdpbmF0ZWRFbnRpdGllcykoe1xuXHQgICAgZW50aXRpZXNOYW1lOiAndXNlcnMnLFxuXHQgICAgcGFnaW5hdGlvbk5hbWU6ICd1c2VycycsXG5cdCAgICBwYWdpbmF0aW9uS2V5OiAnZGVmYXVsdCdcblx0fSk7XG5cdGV4cG9ydHMuY29tbW9uID0gY29tbW9uO1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNjE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLnNlbGVjdFBhZ2luYXRlZEVudGl0aWVzID0gZXhwb3J0cy5wYWdpbmF0aW9uTGlua1NlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9yZXNlbGVjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMTYyKTtcblx0XG5cdHZhciBfbG9kYXNoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5cdFxuXHR2YXIgX2xvZGFzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2Rhc2gpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBlbnRpdGllc1NlbGVjdG9yID0gZnVuY3Rpb24gZW50aXRpZXNTZWxlY3RvcihuYW1lKSB7XG5cdCAgICByZXR1cm4gZnVuY3Rpb24gKHN0YXRlKSB7XG5cdCAgICAgICAgcmV0dXJuIHN0YXRlLmVudGl0aWVzW25hbWVdIHx8IHt9O1xuXHQgICAgfTtcblx0fTtcblx0dmFyIHBhZ2luYXRpb25TZWxlY3RvciA9IGZ1bmN0aW9uIHBhZ2luYXRpb25TZWxlY3RvcihuYW1lKSB7XG5cdCAgICB2YXIga2V5ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gJ2RlZmF1bHQnIDogYXJndW1lbnRzWzFdO1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSkge1xuXHQgICAgICAgIHJldHVybiBfbG9kYXNoMi5kZWZhdWx0LmdldChzdGF0ZS5wYWdpbmF0aW9uLCBuYW1lICsgJy4nICsga2V5ICsgJy5pZHMnLCBbXSk7XG5cdCAgICB9O1xuXHR9O1xuXHR2YXIgcGFnaW5hdGlvbkxpbmtTZWxlY3RvciA9IGV4cG9ydHMucGFnaW5hdGlvbkxpbmtTZWxlY3RvciA9IGZ1bmN0aW9uIHBhZ2luYXRpb25MaW5rU2VsZWN0b3IobmFtZSkge1xuXHQgICAgdmFyIGtleSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/ICdkZWZhdWx0JyA6IGFyZ3VtZW50c1sxXTtcblx0ICAgIHJldHVybiBmdW5jdGlvbiAoc3RhdGUpIHtcblx0ICAgICAgICByZXR1cm4gX2xvZGFzaDIuZGVmYXVsdC5waWNrKF9sb2Rhc2gyLmRlZmF1bHQuZ2V0KHN0YXRlLnBhZ2luYXRpb24sIG5hbWUgKyAnLicgKyBrZXksIHt9KSwgWyduZXh0JywgJ2xhc3QnXSk7XG5cdCAgICB9O1xuXHR9O1xuXHR2YXIgcXVlcnlQYWdpbmF0aW9uU2VsZWN0b3IgPSBmdW5jdGlvbiBxdWVyeVBhZ2luYXRpb25TZWxlY3RvcihuYW1lLCBxdWVyeSkge1xuXHQgICAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSkge1xuXHQgICAgICAgIHJldHVybiBfbG9kYXNoMi5kZWZhdWx0LmdldChzdGF0ZS5wYWdpbmF0aW9uLCBbbmFtZSwgJ3F1ZXJ5JywgcXVlcnksICdpZHMnXSwgW10pO1xuXHQgICAgfTtcblx0fTtcblx0dmFyIHNlbGVjdFBhZ2luYXRlZEVudGl0aWVzID0gZXhwb3J0cy5zZWxlY3RQYWdpbmF0ZWRFbnRpdGllcyA9IGZ1bmN0aW9uIHNlbGVjdFBhZ2luYXRlZEVudGl0aWVzKG9wdGlvbnMpIHtcblx0ICAgIHZhciBlbnRpdGllc05hbWUgPSBvcHRpb25zLmVudGl0aWVzTmFtZTtcblx0ICAgIHZhciBwYWdpbmF0aW9uTmFtZSA9IG9wdGlvbnMucGFnaW5hdGlvbk5hbWU7XG5cdCAgICB2YXIgcGFnaW5hdGlvbktleSA9IG9wdGlvbnMucGFnaW5hdGlvbktleTtcblx0ICAgIHZhciBwYWdpbmF0aW9uUXVlcnkgPSBvcHRpb25zLnBhZ2luYXRpb25RdWVyeTtcblx0XG5cdCAgICB2YXIgcGFnaVNlbGVjdG9yID0gdm9pZCAwO1xuXHQgICAgaWYgKHBhZ2luYXRpb25RdWVyeSkge1xuXHQgICAgICAgIHBhZ2lTZWxlY3RvciA9IHF1ZXJ5UGFnaW5hdGlvblNlbGVjdG9yKHBhZ2luYXRpb25OYW1lLCBwYWdpbmF0aW9uUXVlcnkpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBwYWdpU2VsZWN0b3IgPSBwYWdpbmF0aW9uU2VsZWN0b3IocGFnaW5hdGlvbk5hbWUsIHBhZ2luYXRpb25LZXkpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuICgwLCBfcmVzZWxlY3QuY3JlYXRlU2VsZWN0b3IpKGVudGl0aWVzU2VsZWN0b3IoZW50aXRpZXNOYW1lKSwgcGFnaVNlbGVjdG9yLCBmdW5jdGlvbiAoZW50aXRpZXMsIGlkcykge1xuXHQgICAgICAgIHJldHVybiBpZHMubWFwKGZ1bmN0aW9uIChpZCkge1xuXHQgICAgICAgICAgICByZXR1cm4gZW50aXRpZXNbaWRdO1xuXHQgICAgICAgIH0pO1xuXHQgICAgfSk7XG5cdH07XG5cbi8qKiovIH0sXG5cbi8qKiovIDE2Mjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdGV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cdGV4cG9ydHMuZGVmYXVsdE1lbW9pemUgPSBkZWZhdWx0TWVtb2l6ZTtcblx0ZXhwb3J0cy5jcmVhdGVTZWxlY3RvckNyZWF0b3IgPSBjcmVhdGVTZWxlY3RvckNyZWF0b3I7XG5cdGV4cG9ydHMuY3JlYXRlU2VsZWN0b3IgPSBjcmVhdGVTZWxlY3Rvcjtcblx0ZXhwb3J0cy5jcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3IgPSBjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3I7XG5cdFxuXHRmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIGRlZmF1bHRFcXVhbGl0eUNoZWNrKGEsIGIpIHtcblx0ICByZXR1cm4gYSA9PT0gYjtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZGVmYXVsdE1lbW9pemUoZnVuYykge1xuXHQgIHZhciBlcXVhbGl0eUNoZWNrID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdEVxdWFsaXR5Q2hlY2sgOiBhcmd1bWVudHNbMV07XG5cdFxuXHQgIHZhciBsYXN0QXJncyA9IG51bGw7XG5cdCAgdmFyIGxhc3RSZXN1bHQgPSBudWxsO1xuXHQgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuXHQgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgICAgfVxuXHRcblx0ICAgIGlmIChsYXN0QXJncyAhPT0gbnVsbCAmJiBsYXN0QXJncy5sZW5ndGggPT09IGFyZ3MubGVuZ3RoICYmIGFyZ3MuZXZlcnkoZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xuXHQgICAgICByZXR1cm4gZXF1YWxpdHlDaGVjayh2YWx1ZSwgbGFzdEFyZ3NbaW5kZXhdKTtcblx0ICAgIH0pKSB7XG5cdCAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xuXHQgICAgfVxuXHQgICAgbGFzdFJlc3VsdCA9IGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcblx0ICAgIGxhc3RBcmdzID0gYXJncztcblx0ICAgIHJldHVybiBsYXN0UmVzdWx0O1xuXHQgIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldERlcGVuZGVuY2llcyhmdW5jcykge1xuXHQgIHZhciBkZXBlbmRlbmNpZXMgPSBBcnJheS5pc0FycmF5KGZ1bmNzWzBdKSA/IGZ1bmNzWzBdIDogZnVuY3M7XG5cdFxuXHQgIGlmICghZGVwZW5kZW5jaWVzLmV2ZXJ5KGZ1bmN0aW9uIChkZXApIHtcblx0ICAgIHJldHVybiB0eXBlb2YgZGVwID09PSAnZnVuY3Rpb24nO1xuXHQgIH0pKSB7XG5cdCAgICB2YXIgZGVwZW5kZW5jeVR5cGVzID0gZGVwZW5kZW5jaWVzLm1hcChmdW5jdGlvbiAoZGVwKSB7XG5cdCAgICAgIHJldHVybiB0eXBlb2YgZGVwO1xuXHQgICAgfSkuam9pbignLCAnKTtcblx0ICAgIHRocm93IG5ldyBFcnJvcignU2VsZWN0b3IgY3JlYXRvcnMgZXhwZWN0IGFsbCBpbnB1dC1zZWxlY3RvcnMgdG8gYmUgZnVuY3Rpb25zLCAnICsgKCdpbnN0ZWFkIHJlY2VpdmVkIHRoZSBmb2xsb3dpbmcgdHlwZXM6IFsnICsgZGVwZW5kZW5jeVR5cGVzICsgJ10nKSk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gZGVwZW5kZW5jaWVzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVTZWxlY3RvckNyZWF0b3IobWVtb2l6ZSkge1xuXHQgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgbWVtb2l6ZU9wdGlvbnMgPSBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG5cdCAgICBtZW1vaXplT3B0aW9uc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcblx0ICB9XG5cdFxuXHQgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGZ1bmNzID0gQXJyYXkoX2xlbjMpLCBfa2V5MyA9IDA7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcblx0ICAgICAgZnVuY3NbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcblx0ICAgIH1cblx0XG5cdCAgICB2YXIgcmVjb21wdXRhdGlvbnMgPSAwO1xuXHQgICAgdmFyIHJlc3VsdEZ1bmMgPSBmdW5jcy5wb3AoKTtcblx0ICAgIHZhciBkZXBlbmRlbmNpZXMgPSBnZXREZXBlbmRlbmNpZXMoZnVuY3MpO1xuXHRcblx0ICAgIHZhciBtZW1vaXplZFJlc3VsdEZ1bmMgPSBtZW1vaXplLmFwcGx5KHVuZGVmaW5lZCwgW2Z1bmN0aW9uICgpIHtcblx0ICAgICAgcmVjb21wdXRhdGlvbnMrKztcblx0ICAgICAgcmV0dXJuIHJlc3VsdEZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuXHQgICAgfV0uY29uY2F0KG1lbW9pemVPcHRpb25zKSk7XG5cdFxuXHQgICAgdmFyIHNlbGVjdG9yID0gZnVuY3Rpb24gc2VsZWN0b3Ioc3RhdGUsIHByb3BzKSB7XG5cdCAgICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW40ID4gMiA/IF9sZW40IC0gMiA6IDApLCBfa2V5NCA9IDI7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcblx0ICAgICAgICBhcmdzW19rZXk0IC0gMl0gPSBhcmd1bWVudHNbX2tleTRdO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICB2YXIgcGFyYW1zID0gZGVwZW5kZW5jaWVzLm1hcChmdW5jdGlvbiAoZGVwZW5kZW5jeSkge1xuXHQgICAgICAgIHJldHVybiBkZXBlbmRlbmN5LmFwcGx5KHVuZGVmaW5lZCwgW3N0YXRlLCBwcm9wc10uY29uY2F0KGFyZ3MpKTtcblx0ICAgICAgfSk7XG5cdCAgICAgIHJldHVybiBtZW1vaXplZFJlc3VsdEZ1bmMuYXBwbHkodW5kZWZpbmVkLCBfdG9Db25zdW1hYmxlQXJyYXkocGFyYW1zKSk7XG5cdCAgICB9O1xuXHRcblx0ICAgIHNlbGVjdG9yLnJlc3VsdEZ1bmMgPSByZXN1bHRGdW5jO1xuXHQgICAgc2VsZWN0b3IucmVjb21wdXRhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgIHJldHVybiByZWNvbXB1dGF0aW9ucztcblx0ICAgIH07XG5cdCAgICBzZWxlY3Rvci5yZXNldFJlY29tcHV0YXRpb25zID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICByZXR1cm4gcmVjb21wdXRhdGlvbnMgPSAwO1xuXHQgICAgfTtcblx0ICAgIHJldHVybiBzZWxlY3Rvcjtcblx0ICB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVTZWxlY3RvcigpIHtcblx0ICByZXR1cm4gY3JlYXRlU2VsZWN0b3JDcmVhdG9yKGRlZmF1bHRNZW1vaXplKS5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvcihzZWxlY3RvcnMpIHtcblx0ICB2YXIgc2VsZWN0b3JDcmVhdG9yID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gY3JlYXRlU2VsZWN0b3IgOiBhcmd1bWVudHNbMV07XG5cdFxuXHQgIGlmICh0eXBlb2Ygc2VsZWN0b3JzICE9PSAnb2JqZWN0Jykge1xuXHQgICAgdGhyb3cgbmV3IEVycm9yKCdjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3IgZXhwZWN0cyBmaXJzdCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3QgJyArICgnd2hlcmUgZWFjaCBwcm9wZXJ0eSBpcyBhIHNlbGVjdG9yLCBpbnN0ZWFkIHJlY2VpdmVkIGEgJyArIHR5cGVvZiBzZWxlY3RvcnMpKTtcblx0ICB9XG5cdCAgdmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyhzZWxlY3RvcnMpO1xuXHQgIHJldHVybiBzZWxlY3RvckNyZWF0b3Iob2JqZWN0S2V5cy5tYXAoZnVuY3Rpb24gKGtleSkge1xuXHQgICAgcmV0dXJuIHNlbGVjdG9yc1trZXldO1xuXHQgIH0pLCBmdW5jdGlvbiAoKSB7XG5cdCAgICBmb3IgKHZhciBfbGVuNSA9IGFyZ3VtZW50cy5sZW5ndGgsIHZhbHVlcyA9IEFycmF5KF9sZW41KSwgX2tleTUgPSAwOyBfa2V5NSA8IF9sZW41OyBfa2V5NSsrKSB7XG5cdCAgICAgIHZhbHVlc1tfa2V5NV0gPSBhcmd1bWVudHNbX2tleTVdO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiB2YWx1ZXMucmVkdWNlKGZ1bmN0aW9uIChjb21wb3NpdGlvbiwgdmFsdWUsIGluZGV4KSB7XG5cdCAgICAgIGNvbXBvc2l0aW9uW29iamVjdEtleXNbaW5kZXhdXSA9IHZhbHVlO1xuXHQgICAgICByZXR1cm4gY29tcG9zaXRpb247XG5cdCAgICB9LCB7fSk7XG5cdCAgfSk7XG5cdH1cblxuLyoqKi8gfSxcblxuLyoqKi8gMTcxOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuVGV4dGFyZWEgPSBleHBvcnRzLlNlbGVjdGl6ZUlucHV0ID0gZXhwb3J0cy5JbnB1dCA9IGV4cG9ydHMuQnV0dG9uID0gdW5kZWZpbmVkO1xuXHRcblx0dmFyIF9CdXR0b24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk2KTtcblx0XG5cdHZhciBfQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0J1dHRvbik7XG5cdFxuXHR2YXIgX0lucHV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzIpO1xuXHRcblx0dmFyIF9JbnB1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbnB1dCk7XG5cdFxuXHR2YXIgX1NlbGVjdGl6ZUlucHV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzUpO1xuXHRcblx0dmFyIF9TZWxlY3RpemVJbnB1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWxlY3RpemVJbnB1dCk7XG5cdFxuXHR2YXIgX1RleHRhcmVhID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzgpO1xuXHRcblx0dmFyIF9UZXh0YXJlYTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0YXJlYSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZXhwb3J0cy5CdXR0b24gPSBfQnV0dG9uMi5kZWZhdWx0O1xuXHRleHBvcnRzLklucHV0ID0gX0lucHV0Mi5kZWZhdWx0O1xuXHRleHBvcnRzLlNlbGVjdGl6ZUlucHV0ID0gX1NlbGVjdGl6ZUlucHV0Mi5kZWZhdWx0O1xuXHRleHBvcnRzLlRleHRhcmVhID0gX1RleHRhcmVhMi5kZWZhdWx0O1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNzI6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfSW5wdXQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Myk7XG5cdFxuXHR2YXIgX0lucHV0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0lucHV0KTtcblxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5cdGV4cG9ydHMuZGVmYXVsdCA9IF9JbnB1dDIuZGVmYXVsdDtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTczOlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3RDc3NNb2R1bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Mik7XG5cdFxuXHR2YXIgX3JlYWN0Q3NzTW9kdWxlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdENzc01vZHVsZXMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9fZGVjb3JhdGUgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fZGVjb3JhdGUgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG5cdCAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdCAgICAgICAgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsXG5cdCAgICAgICAgZDtcblx0ICAgIGlmICgodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihSZWZsZWN0KSkgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO2Vsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0ICAgICAgICBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuXHQgICAgfXJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG5cdH07XG5cdFxuXHR2YXIgc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzQpO1xuXHR2YXIgSW5wdXQgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICAgX2luaGVyaXRzKElucHV0LCBfQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBJbnB1dChwcm9wcykge1xuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbnB1dCk7XG5cdFxuXHQgICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoSW5wdXQpLmNhbGwodGhpcywgcHJvcHMpKTtcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoSW5wdXQsIFt7XG5cdCAgICAgICAga2V5OiBcInJlbmRlclwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgICAgICAgdmFyIHByb3BzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wcm9wcyk7XG5cdCAgICAgICAgICAgIGRlbGV0ZSBwcm9wcy5jbGFzc05hbWU7XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlTmFtZTogXCJpbnB1dC13cmFwXCIsIGNsYXNzTmFtZTogdGhpcy5wcm9wcy5jbGFzc05hbWUgfHwgJycgfSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7IHN0eWxlTmFtZTogXCJpbnB1dFwiLCBwbGFjZWhvbGRlcjogdGhpcy5wcm9wcy5wbGFjZWhvbGRlciwgdmFsdWU6IHRoaXMucHJvcHMudmFsdWUsIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnByb3BzLm9uQ2hhbmdlKGUpO1xuXHQgICAgICAgICAgICAgICAgfSwgdHlwZTogdGhpcy5wcm9wcy50eXBlID8gdGhpcy5wcm9wcy50eXBlIDogJ3RleHQnLCBuYW1lOiB0aGlzLnByb3BzLm5hbWUgPyB0aGlzLnByb3BzLm5hbWUgOiBudWxsIH0pKTtcblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIElucHV0O1xuXHR9KF9yZWFjdC5Db21wb25lbnQpO1xuXHRJbnB1dCA9IF9fZGVjb3JhdGUoWygwLCBfcmVhY3RDc3NNb2R1bGVzMi5kZWZhdWx0KShzdHlsZXMsIHtcblx0ICAgIGFsbG93TXVsdGlwbGU6IHRydWVcblx0fSldLCBJbnB1dCk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IElucHV0O1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNzQ6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxuXHRtb2R1bGUuZXhwb3J0cyA9IHtcImlucHV0LXdyYXBcIjpcImlucHV0LXdyYXBfM2RIQTNcIixcImlucHV0XCI6XCJpbnB1dF8yanVCT1wifTtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTc1OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX1NlbGVjdGl6ZUlucHV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzYpO1xuXHRcblx0dmFyIF9TZWxlY3RpemVJbnB1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TZWxlY3RpemVJbnB1dCk7XG5cblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuXHRleHBvcnRzLmRlZmF1bHQgPSBfU2VsZWN0aXplSW5wdXQyLmRlZmF1bHQ7XG5cbi8qKiovIH0sXG5cbi8qKiovIDE3Njpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX0ljb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDc4KTtcblx0XG5cdHZhciBfSWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JY29uKTtcblx0XG5cdHZhciBfY2xhc3NuYW1lcyA9IF9fd2VicGFja19yZXF1aXJlX18oODApO1xuXHRcblx0dmFyIF9jbGFzc25hbWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMpO1xuXHRcblx0dmFyIF9yZWFjdENzc01vZHVsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgyKTtcblx0XG5cdHZhciBfcmVhY3RDc3NNb2R1bGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0Q3NzTW9kdWxlcyk7XG5cdFxuXHR2YXIgX2lzRGVzY2VuZGFudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTA4KTtcblx0XG5cdHZhciBfaXNEZXNjZW5kYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzRGVzY2VuZGFudCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX19kZWNvcmF0ZSA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19kZWNvcmF0ZSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcblx0ICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCxcblx0ICAgICAgICByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYyxcblx0ICAgICAgICBkO1xuXHQgICAgaWYgKCh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKFJlZmxlY3QpKSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7ZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHQgICAgICAgIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG5cdCAgICB9cmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcblx0fTtcblx0XG5cdHZhciBzdHlsZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3Nyk7XG5cdHZhciBTZWxlY3RpemVJbnB1dCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgICBfaW5oZXJpdHMoU2VsZWN0aXplSW5wdXQsIF9Db21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIFNlbGVjdGl6ZUlucHV0KHByb3BzKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNlbGVjdGl6ZUlucHV0KTtcblx0XG5cdCAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgT2JqZWN0LmdldFByb3RvdHlwZU9mKFNlbGVjdGl6ZUlucHV0KS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICAgICAgICBzaG93T3B0aW9uczogZmFsc2UsXG5cdCAgICAgICAgICAgIGZvY3VzOiBmYWxzZSxcblx0ICAgICAgICAgICAgdmFsdWU6ICcnLFxuXHQgICAgICAgICAgICBleHBlbmRlZE9wdGlvbkluZGV4OiAwXG5cdCAgICAgICAgfTtcblx0ICAgICAgICBfdGhpcy5oYW5kbGVPdXRzaWRlQ2xpY2sgPSBfdGhpcy5oYW5kbGVPdXRzaWRlQ2xpY2suYmluZChfdGhpcyk7XG5cdCAgICAgICAgX3RoaXMuZm9jdXNJbnB1dCA9IF90aGlzLmZvY3VzSW5wdXQuYmluZChfdGhpcyk7XG5cdCAgICAgICAgX3RoaXMuaGFuZGxlSW5wdXRXcmFwQ2xpY2sgPSBfdGhpcy5oYW5kbGVJbnB1dFdyYXBDbGljay5iaW5kKF90aGlzKTtcblx0ICAgICAgICByZXR1cm4gX3RoaXM7XG5cdCAgICB9XG5cdFxuXHQgICAgX2NyZWF0ZUNsYXNzKFNlbGVjdGl6ZUlucHV0LCBbe1xuXHQgICAgICAgIGtleTogXCJhZGRWYWx1ZVwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRWYWx1ZShuZXdWYWx1ZSkge1xuXHQgICAgICAgICAgICB0aGlzLnByb3BzLm9uVmFsdWVzQ2hhbmdlKHRoaXMucHJvcHMudmFsdWVzLmNvbmNhdChuZXdWYWx1ZSkpO1xuXHQgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vbk9wdGlvbnNDaGFuZ2UpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25PcHRpb25zQ2hhbmdlKHRoaXMucHJvcHMub3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wdGlvbikge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb24udmFsdWUgPT09IG5ld1ZhbHVlLnZhbHVlID8gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9uLCB7IGRpc2FibGVkOiB0cnVlIH0pIDogb3B0aW9uO1xuXHQgICAgICAgICAgICAgICAgfSkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHRoaXMuY2xlYXJJbnB1dFZhbHVlKCk7XG5cdCAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5wcm9wcy5zdGF5Rm9jdXNlZCA9PT0gJ3VuZGVmaW5lZCcgfHwgdGhpcy5wcm9wcy5zdGF5Rm9jdXNlZCAhPT0gZmFsc2UpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuZm9jdXNJbnB1dCgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgc2hvd09wdGlvbnM6IGZhbHNlXG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwicmVtb3ZlVmFsdWVcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlVmFsdWUoaW5kZXgpIHtcblx0ICAgICAgICAgICAgdmFyIG5ld1ZhbHVlcyA9IFtdO1xuXHQgICAgICAgICAgICB2YXIgcmVtb3ZlZFZhbHVlID0gdm9pZCAwO1xuXHQgICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG5cdCAgICAgICAgICAgICAgICBuZXdWYWx1ZXMgPSB0aGlzLnByb3BzLnZhbHVlcy5zbGljZSgwLCB0aGlzLnByb3BzLnZhbHVlcy5sZW5ndGggLSAxKTtcblx0ICAgICAgICAgICAgICAgIHJlbW92ZWRWYWx1ZSA9IHRoaXMucHJvcHMudmFsdWVzW3RoaXMucHJvcHMudmFsdWVzLmxlbmd0aCAtIDFdLnZhbHVlO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgbmV3VmFsdWVzID0gdGhpcy5wcm9wcy52YWx1ZXMuZmlsdGVyKGZ1bmN0aW9uICh2LCBpKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZFZhbHVlID0gdi52YWx1ZTtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gaSAhPT0gaW5kZXg7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vbk9wdGlvbnNDaGFuZ2UpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25PcHRpb25zQ2hhbmdlKHRoaXMucHJvcHMub3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wdGlvbikge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb24udmFsdWUgPT09IHJlbW92ZWRWYWx1ZSA/IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbiwgeyBkaXNhYmxlZDogZmFsc2UgfSkgOiBvcHRpb247XG5cdCAgICAgICAgICAgICAgICB9KSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdGhpcy5wcm9wcy5vblZhbHVlc0NoYW5nZShuZXdWYWx1ZXMpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwiY2xlYXJJbnB1dFZhbHVlXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFySW5wdXRWYWx1ZSgpIHtcblx0ICAgICAgICAgICAgdGhpcy5wcm9wcy5vbklucHV0Q2hhbmdlKCcnKTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcImhhbmRsZUtleVByZXNzXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUtleVByZXNzKGUpIHtcblx0ICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gOCAmJiAhdGhpcy5wcm9wcy52YWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVWYWx1ZSgtMSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgLy8gdG9kb1xuXHQgICAgICAgICAgICAvLyBpZiAoZS5rZXlDb2RlID09PSAxMyAmJiB0aGlzLnN0YXRlLnNob3dPcHRpb25zKSB7XG5cdCAgICAgICAgICAgIC8vICAgdGhpcy5hZGRWYWx1ZSgpXG5cdCAgICAgICAgICAgIC8vIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcImZvY3VzSW5wdXRcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZm9jdXNJbnB1dCgpIHtcblx0ICAgICAgICAgICAgdGhpcy5pbnB1dC5mb2N1cygpO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwiaGFuZGxlT3V0c2lkZUNsaWNrXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZU91dHNpZGVDbGljayhlKSB7XG5cdCAgICAgICAgICAgIGlmICghKDAsIF9pc0Rlc2NlbmRhbnQyLmRlZmF1bHQpKHRoaXMuaW5wdXRXcmFwLCBlLnRhcmdldCkpIHtcblx0ICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgICAgIHNob3dPcHRpb25zOiBmYWxzZVxuXHQgICAgICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcImhhbmRsZUlucHV0V3JhcENsaWNrXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUlucHV0V3JhcENsaWNrKCkge1xuXHQgICAgICAgICAgICB0aGlzLmZvY3VzSW5wdXQoKTtcblx0ICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG5cdCAgICAgICAgICAgICAgICBzaG93T3B0aW9uczogdHJ1ZVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcImNvbXBvbmVudERpZE1vdW50XCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuXHQgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZU91dHNpZGVDbGljayk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcblx0ICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVPdXRzaWRlQ2xpY2spO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6IFwicmVuZGVyXCIsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcztcblx0ICAgICAgICAgICAgdmFyIGxhYmVsID0gX3Byb3BzLmxhYmVsO1xuXHQgICAgICAgICAgICB2YXIgdmFsdWVzID0gX3Byb3BzLnZhbHVlcztcblx0ICAgICAgICAgICAgdmFyIG9uQWRkTmV3VmFsdWUgPSBfcHJvcHMub25BZGROZXdWYWx1ZTtcblx0XG5cdCAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMucHJvcHMudmFsdWUgfHwgJyc7XG5cdCAgICAgICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5wcm9wcy5vcHRpb25zIHx8IFtdO1xuXHQgICAgICAgICAgICB2YXIgaW5wdXRXaWR0aCA9IHZhbHVlcy5sZW5ndGggPiAwID8gdmFsdWUubGVuZ3RoID09PSAwID8gMTYgOiB2YWx1ZS5sZW5ndGggKiAxNiA6ICcxMDAlJztcblx0ICAgICAgICAgICAgdmFyIHBsYWNlaG9sZGVyID0gdmFsdWVzLmxlbmd0aCA+IDAgPyAnJyA6IHRoaXMucHJvcHMucGxhY2Vob2xkZXI7XG5cdCAgICAgICAgICAgIHZhciBzZWxlY3RpemVJbnB1dFN0eWxlTmFtZSA9ICgwLCBfY2xhc3NuYW1lczIuZGVmYXVsdCkoe1xuXHQgICAgICAgICAgICAgICAgJ3NlbGVjdGl6ZS1pbnB1dCc6IHRydWUsXG5cdCAgICAgICAgICAgICAgICAnc2VsZWN0aXplLWlucHV0LS1mb2N1cyc6IHRoaXMuc3RhdGUuZm9jdXMsXG5cdCAgICAgICAgICAgICAgICAnc2VsZWN0aXplLWlucHV0LS1lbXB0eSc6IHZhbHVlcy5sZW5ndGggPT09IDBcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlTmFtZTogXCJzZWxlY3RpemUtd3JhcFwiLCBjbGFzc05hbWU6IHRoaXMucHJvcHMuY2xhc3NOYW1lIHx8ICcnIH0sIGxhYmVsID8gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCB7IGNsYXNzTmFtZTogXCJmb3JtLWxhYmVsXCIgfSwgbGFiZWwpIDogbnVsbCwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBzdHlsZU5hbWU6IHNlbGVjdGl6ZUlucHV0U3R5bGVOYW1lLCBvbkNsaWNrOiB0aGlzLmhhbmRsZUlucHV0V3JhcENsaWNrLCByZWY6IGZ1bmN0aW9uIHJlZihfcmVmKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmlucHV0V3JhcCA9IF9yZWY7XG5cdCAgICAgICAgICAgICAgICB9IH0sIHZhbHVlcy5tYXAoZnVuY3Rpb24gKHYsIGluZGV4KSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsga2V5OiBpbmRleCwgc3R5bGVOYW1lOiBcInNlbGVjdGl6ZS10YWdcIiB9LCB2Lm5hbWUsIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9JY29uMi5kZWZhdWx0LCB7IHN0eWxlTmFtZTogXCJpY29uLXJlbW92ZVwiLCBzaXplOiAyMCwgbmFtZTogXCJjbG9zZVwiLCBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnJlbW92ZVZhbHVlKGluZGV4KTtcblx0ICAgICAgICAgICAgICAgICAgICB9IH0pKTtcblx0ICAgICAgICAgICAgfSksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgeyBzdHlsZTogeyB3aWR0aDogaW5wdXRXaWR0aCB9LCByZWY6IGZ1bmN0aW9uIHJlZihfcmVmMikge1xuXHQgICAgICAgICAgICAgICAgICAgIF90aGlzMi5pbnB1dCA9IF9yZWYyO1xuXHQgICAgICAgICAgICAgICAgfSwgdmFsdWU6IHZhbHVlLCBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsIG9uQmx1cjogZnVuY3Rpb24gb25CbHVyKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoeyBmb2N1czogZmFsc2UgfSk7XG5cdCAgICAgICAgICAgICAgICB9LCBvbkZvY3VzOiBmdW5jdGlvbiBvbkZvY3VzKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoeyBmb2N1czogdHJ1ZSB9KTtcblx0ICAgICAgICAgICAgICAgIH0sIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnByb3BzLm9uSW5wdXRDaGFuZ2UoZS50YXJnZXQudmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgfSwgb25LZXlEb3duOiBmdW5jdGlvbiBvbktleURvd24oZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIF90aGlzMi5oYW5kbGVLZXlQcmVzcyhlKTtcblx0ICAgICAgICAgICAgICAgIH0gfSkpLCB0aGlzLnN0YXRlLnNob3dPcHRpb25zICYmIChvcHRpb25zLmxlbmd0aCAhPT0gMCB8fCBvbkFkZE5ld1ZhbHVlKSA/IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwidWxcIiwgeyBzdHlsZU5hbWU6IFwicXVlcnktcmVzdWx0c1wiIH0sIG9wdGlvbnMubWFwKGZ1bmN0aW9uIChvcHRpb24sIGluZGV4KSB7XG5cdCAgICAgICAgICAgICAgICBpZiAob3B0aW9uLmRpc2FibGVkKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwibGlcIiwgeyBrZXk6IGluZGV4LCBjbGFzc05hbWU6IFwiZGlzYWJsZWRcIiB9LCBvcHRpb24ubmFtZSk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7IGtleTogaW5kZXgsIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuYWRkVmFsdWUob3B0aW9uKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMi5wcm9wcy5vbk9wdGlvbkNsaWNrKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIucHJvcHMub25PcHRpb25DbGljayhvcHRpb24pO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgfSB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgb3B0aW9uLm5hbWUpKTtcblx0ICAgICAgICAgICAgfSksIG9uQWRkTmV3VmFsdWUgPyBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImxpXCIsIHsgb25DbGljazogZnVuY3Rpb24gb25DbGljayhlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgb25BZGROZXdWYWx1ZShfdGhpczIucHJvcHMudmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgfSwgY2xhc3NOYW1lOiBcImFkZFwiIH0sIFwi5re75YqgIFwiLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInN0cm9uZ1wiLCBudWxsLCB0aGlzLnByb3BzLnZhbHVlKSkgOiBudWxsKSA6IG51bGwpO1xuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gU2VsZWN0aXplSW5wdXQ7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFNlbGVjdGl6ZUlucHV0ID0gX19kZWNvcmF0ZShbKDAsIF9yZWFjdENzc01vZHVsZXMyLmRlZmF1bHQpKHN0eWxlcywge1xuXHQgICAgYWxsb3dNdWx0aXBsZTogdHJ1ZVxuXHR9KV0sIFNlbGVjdGl6ZUlucHV0KTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gU2VsZWN0aXplSW5wdXQ7XG5cbi8qKiovIH0sXG5cbi8qKiovIDE3Nzpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cdG1vZHVsZS5leHBvcnRzID0ge1wic2VsZWN0aXplLXdyYXBcIjpcInNlbGVjdGl6ZS13cmFwXzNBTUFpXCIsXCJzZWxlY3RpemUtaW5wdXRcIjpcInNlbGVjdGl6ZS1pbnB1dF8xNGJnUFwiLFwic2VsZWN0aXplLWlucHV0LS1mb2N1c1wiOlwic2VsZWN0aXplLWlucHV0LS1mb2N1c19Vblo4QlwiLFwic2VsZWN0aXplLWlucHV0LS1lbXB0eVwiOlwic2VsZWN0aXplLWlucHV0LS1lbXB0eV94bjdVeVwiLFwicXVlcnktcmVzdWx0c1wiOlwicXVlcnktcmVzdWx0c19PZ0UydFwiLFwic2VsZWN0aXplLXRhZ1wiOlwic2VsZWN0aXplLXRhZ18zYUQxM1wiLFwiaWNvbi1yZW1vdmVcIjpcImljb24tcmVtb3ZlXzFPN0ZfXCJ9O1xuXG4vKioqLyB9LFxuXG4vKioqLyAxNzg6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfVGV4dGFyZWEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3OSk7XG5cdFxuXHR2YXIgX1RleHRhcmVhMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RleHRhcmVhKTtcblxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5cdGV4cG9ydHMuZGVmYXVsdCA9IF9UZXh0YXJlYTIuZGVmYXVsdDtcblxuLyoqKi8gfSxcblxuLyoqKi8gMTc5OlxuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3RDc3NNb2R1bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4Mik7XG5cdFxuXHR2YXIgX3JlYWN0Q3NzTW9kdWxlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdENzc01vZHVsZXMpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIF9fZGVjb3JhdGUgPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fZGVjb3JhdGUgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG5cdCAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdCAgICAgICAgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsXG5cdCAgICAgICAgZDtcblx0ICAgIGlmICgodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihSZWZsZWN0KSkgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO2Vsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0ICAgICAgICBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuXHQgICAgfXJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG5cdH07XG5cdFxuXHR2YXIgc3R5bGVzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxODApO1xuXHR2YXIgVGV4dGFyZWEgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICAgX2luaGVyaXRzKFRleHRhcmVhLCBfQ29tcG9uZW50KTtcblx0XG5cdCAgICBmdW5jdGlvbiBUZXh0YXJlYShwcm9wcykge1xuXHQgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUZXh0YXJlYSk7XG5cdFxuXHQgICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGV4dGFyZWEpLmNhbGwodGhpcywgcHJvcHMpKTtcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoVGV4dGFyZWEsIFt7XG5cdCAgICAgICAga2V5OiBcInJlbmRlclwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgc3R5bGVOYW1lOiBcInRleHRhcmVhLXdyYXBcIiwgY2xhc3NOYW1lOiB0aGlzLnByb3BzLmNsYXNzTmFtZSB8fCAnJyB9LCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIsIHsgcGxhY2Vob2xkZXI6IHRoaXMucHJvcHMucGxhY2Vob2xkZXIsIHZhbHVlOiB0aGlzLnByb3BzLnZhbHVlLCBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIF90aGlzMi5wcm9wcy5vbkNoYW5nZShlKTtcblx0ICAgICAgICAgICAgICAgIH0sIHN0eWxlTmFtZTogXCJ0ZXh0YXJlYVwiLCB0eXBlOiB0aGlzLnByb3BzLnR5cGUgPyB0aGlzLnByb3BzLnR5cGUgOiAndGV4dCcsIG5hbWU6IHRoaXMucHJvcHMubmFtZSA/IHRoaXMucHJvcHMubmFtZSA6IG51bGwgfSkpO1xuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gVGV4dGFyZWE7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFRleHRhcmVhID0gX19kZWNvcmF0ZShbKDAsIF9yZWFjdENzc01vZHVsZXMyLmRlZmF1bHQpKHN0eWxlcywge1xuXHQgICAgYWxsb3dNdWx0aXBsZTogdHJ1ZVxuXHR9KV0sIFRleHRhcmVhKTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gVGV4dGFyZWE7XG5cbi8qKiovIH0sXG5cbi8qKiovIDE4MDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cdG1vZHVsZS5leHBvcnRzID0ge1widGV4dGFyZWEtd3JhcFwiOlwidGV4dGFyZWEtd3JhcF9Ya3BqMSBpbnB1dC13cmFwXzNkSEEzXCIsXCJ0ZXh0YXJlYVwiOlwidGV4dGFyZWFfMUVkb1NcIn07XG5cbi8qKiovIH0sXG5cbi8qKiovIDI0MDpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF9yZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblx0XG5cdHZhciBfcmVhY3RSZWR1eCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHR2YXIgX3JlZHV4Rm9ybSA9IF9fd2VicGFja19yZXF1aXJlX18oMjYpO1xuXHRcblx0dmFyIF9hY3Rpb25zID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcblx0XG5cdHZhciBfbG9kYXNoID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5cdFxuXHR2YXIgX2xvZGFzaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2Rhc2gpO1xuXHRcblx0dmFyIF9hcGlzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMTkpO1xuXHRcblx0dmFyIF9hcGlzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FwaXMpO1xuXHRcblx0dmFyIF9Eb2NDb250YWluZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEzNCk7XG5cdFxuXHR2YXIgX0RvY0NvbnRhaW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Eb2NDb250YWluZXIpO1xuXHRcblx0dmFyIF9BZGRCb29rRm9ybSA9IF9fd2VicGFja19yZXF1aXJlX18oMjQxKTtcblx0XG5cdHZhciBfQWRkQm9va0Zvcm0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQWRkQm9va0Zvcm0pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXHRcblx0dmFyIEFkZEJvb2sgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICAgX2luaGVyaXRzKEFkZEJvb2ssIF9Db21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIEFkZEJvb2socHJvcHMpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWRkQm9vayk7XG5cdFxuXHQgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIE9iamVjdC5nZXRQcm90b3R5cGVPZihBZGRCb29rKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgICAgIF90aGlzLnN0YXRlID0ge1xuXHQgICAgICAgICAgICBhZGRCb29rRm9ybUluaXRpYWxEYXRhOiB7fVxuXHQgICAgICAgIH07XG5cdCAgICAgICAgX3RoaXMuaGFuZGxlVGl0bGVWYWx1ZUNoYW5nZSA9IF90aGlzLmhhbmRsZVRpdGxlVmFsdWVDaGFuZ2UuYmluZChfdGhpcyk7XG5cdCAgICAgICAgX3RoaXMuaGFuZGxlQXV0aG9yVmFsdWVDaGFuZ2UgPSBfdGhpcy5oYW5kbGVBdXRob3JWYWx1ZUNoYW5nZS5iaW5kKF90aGlzKTtcblx0ICAgICAgICBfdGhpcy5hZGRBdXRob3IgPSBfdGhpcy5hZGRBdXRob3IuYmluZChfdGhpcyk7XG5cdCAgICAgICAgX3RoaXMuYWRkQm9vayA9IF90aGlzLmFkZEJvb2suYmluZChfdGhpcyk7XG5cdCAgICAgICAgcmV0dXJuIF90aGlzO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhBZGRCb29rLCBbe1xuXHQgICAgICAgIGtleTogJ2FkZEJvb2snLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRCb29rKGRhdGEpIHtcblx0ICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cdFxuXHQgICAgICAgICAgICBfYXBpczIuZGVmYXVsdC5hZGRCb29rKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuXHQgICAgICAgICAgICAgICAgX3RoaXMyLnByb3BzLnNlbmROb3RpZmljYXRpb24oJ+a3u+WKoOaIkOWKnycpO1xuXHQgICAgICAgICAgICAgICAgX3RoaXMyLnByb3BzLnJlc2V0KCdhZGRCb29rJyk7XG5cdCAgICAgICAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgICAgIGFkZEJvb2tGb3JtSW5pdGlhbERhdGE6IHt9XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG5cdCAgICAgICAgICAgICAgICBfdGhpczIucHJvcHMuc2VuZE5vdGlmaWNhdGlvbihlcnJvci5tZXNzYWdlLCAnZXJyb3InKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ2FkZEF1dGhvcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEF1dGhvcihkYXRhKSB7XG5cdCAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXHRcblx0ICAgICAgICAgICAgX2FwaXMyLmRlZmF1bHQuYWRkQXV0aG9yKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuXHQgICAgICAgICAgICAgICAgX3RoaXMzLnByb3BzLnNlbmROb3RpZmljYXRpb24oJ+a3u+WKoOaIkOWKnycpO1xuXHQgICAgICAgICAgICAgICAgdmFyIGlkID0gcmVzdWx0Lmpzb24ub3BzWzBdLl9pZDtcblx0ICAgICAgICAgICAgICAgIHZhciBuYW1lID0gcmVzdWx0Lmpzb24ub3BzWzBdLm5hbWU7XG5cdCAgICAgICAgICAgICAgICBfdGhpczMuc2V0U3RhdGUoe1xuXHQgICAgICAgICAgICAgICAgICAgIGFkZEJvb2tGb3JtSW5pdGlhbERhdGE6IHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgX2F1dGhvclZhbHVlczogW3tcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaWRcblx0ICAgICAgICAgICAgICAgICAgICAgICAgfV0sXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIF9hdXRob3JWYWx1ZTogJydcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIF90aGlzMy5wcm9wcy5jbG9zZU1vZGFsKCk7XG5cdCAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuXHQgICAgICAgICAgICAgICAgX3RoaXMzLnByb3BzLnNlbmROb3RpZmljYXRpb24oZXJyb3IubWVzc2FnZSk7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdoYW5kbGVBdXRob3JWYWx1ZUNoYW5nZScsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUF1dGhvclZhbHVlQ2hhbmdlKHF1ZXJ5KSB7XG5cdCAgICAgICAgICAgIGlmICghX2xvZGFzaDIuZGVmYXVsdC5pc0VtcHR5KHF1ZXJ5KSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5mZXRjaEF1dGhvcnMoe1xuXHQgICAgICAgICAgICAgICAgICAgIHE6IHF1ZXJ5XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0ICAgIH0sIHtcblx0ICAgICAgICBrZXk6ICdoYW5kbGVUaXRsZVZhbHVlQ2hhbmdlJyxcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlVGl0bGVWYWx1ZUNoYW5nZShuZXdWYWwpIHtcblx0ICAgICAgICAgICAgaWYgKCFfbG9kYXNoMi5kZWZhdWx0LmlzRW1wdHkobmV3VmFsKSkge1xuXHQgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zZWFyY2hEb3ViYW5Cb29rcyhuZXdWYWwpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogJ3JlbmRlcicsXG5cdCAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9Eb2NDb250YWluZXIyLmRlZmF1bHQsIHsgdGl0bGU6IFwi5re75Yqg5Lmm57GNXCIgfSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJoMVwiLCB7IGNsYXNzTmFtZTogXCJwYWdlLXRpdGxlXCIgfSwgXCLmt7vliqDkuabnsY1cIiksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9BZGRCb29rRm9ybTIuZGVmYXVsdCwgeyBvblRpdGxlSW5wdXRDaGFuZ2U6IHRoaXMuaGFuZGxlVGl0bGVWYWx1ZUNoYW5nZSwgb25BdXRob3JJbnB1dENoYW5nZTogdGhpcy5oYW5kbGVBdXRob3JWYWx1ZUNoYW5nZSwgb25TYXZlQXV0aG9yOiB0aGlzLmFkZEF1dGhvciwgaW5pdGlhbERhdGE6IHRoaXMuc3RhdGUuYWRkQm9va0Zvcm1Jbml0aWFsRGF0YSwgb25TYXZlQm9vazogdGhpcy5hZGRCb29rIH0pKTtcblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIEFkZEJvb2s7XG5cdH0oX3JlYWN0LkNvbXBvbmVudCk7XG5cdFxuXHR2YXIgbWFwU3RhdGVUb1Byb3BzID0gZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG5cdCAgICByZXR1cm4ge1xuXHQgICAgICAgIG5vdGlmaWNhdGlvbjogc3RhdGUuY29tcG9uZW50cy5ub3RpZmljYXRpb24sXG5cdCAgICAgICAgZWxlbWVudHM6IHN0YXRlLmVsZW1lbnRzXG5cdCAgICB9O1xuXHR9O1xuXHRleHBvcnRzLmRlZmF1bHQgPSAoMCwgX3JlYWN0UmVkdXguY29ubmVjdCkobWFwU3RhdGVUb1Byb3BzLCB7IHNlbmROb3RpZmljYXRpb246IF9hY3Rpb25zLnNlbmROb3RpZmljYXRpb24sIGNoYW5nZVZhbHVlOiBfYWN0aW9ucy5jaGFuZ2VWYWx1ZSwgb3Blbk1vZGFsOiBfYWN0aW9ucy5vcGVuTW9kYWwsIHNlYXJjaERvdWJhbkJvb2tzOiBfYWN0aW9ucy5zZWFyY2hEb3ViYW5Cb29rcywgY2xvc2VNb2RhbDogX2FjdGlvbnMuY2xvc2VNb2RhbCwgZmV0Y2hBdXRob3JzOiBfYWN0aW9ucy5mZXRjaEF1dGhvcnMsIHJlc2V0OiBfcmVkdXhGb3JtLnJlc2V0IH0pKEFkZEJvb2spO1xuXG4vKioqLyB9LFxuXG4vKioqLyAyNDE6XG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHR2YXIgX3JlYWN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXHRcblx0dmFyIF9yZWFjdFJlZHV4ID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdHZhciBfcmVkdXhGb3JtID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cdFxuXHR2YXIgX2FjdGlvbnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpO1xuXHRcblx0dmFyIF9zZWxlY3RvcnMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2MCk7XG5cdFxuXHR2YXIgc2VsZWN0b3JzID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX3NlbGVjdG9ycyk7XG5cdFxuXHR2YXIgX0lucHV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzIpO1xuXHRcblx0dmFyIF9JbnB1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbnB1dCk7XG5cdFxuXHR2YXIgX1RleHRhcmVhID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzgpO1xuXHRcblx0dmFyIF9UZXh0YXJlYTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9UZXh0YXJlYSk7XG5cdFxuXHR2YXIgX2Zvcm0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE3MSk7XG5cdFxuXHR2YXIgX0FkZEF1dGhvckZvcm0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0Mik7XG5cdFxuXHR2YXIgX0FkZEF1dGhvckZvcm0yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQWRkQXV0aG9yRm9ybSk7XG5cdFxuXHR2YXIgX2xvZGFzaCA9IF9fd2VicGFja19yZXF1aXJlX18oMTgpO1xuXHRcblx0dmFyIF9sb2Rhc2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9kYXNoKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gZWxzZSB7IHZhciBuZXdPYmogPSB7fTsgaWYgKG9iaiAhPSBudWxsKSB7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgcmV0dXJuIG5ld09iajsgfSB9XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXHRcblx0ZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cdFxuXHR2YXIgX19hc3NpZ24gPSB1bmRlZmluZWQgJiYgdW5kZWZpbmVkLl9fYXNzaWduIHx8IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHQpIHtcblx0ICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuXHQgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG5cdCAgICAgICAgZm9yICh2YXIgcCBpbiBzKSB7XG5cdCAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHJldHVybiB0O1xuXHR9O1xuXHR2YXIgX19kZWNvcmF0ZSA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19kZWNvcmF0ZSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcblx0ICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCxcblx0ICAgICAgICByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYyxcblx0ICAgICAgICBkO1xuXHQgICAgaWYgKCh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKFJlZmxlY3QpKSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7ZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHQgICAgICAgIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG5cdCAgICB9cmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcblx0fTtcblx0XG5cdHZhciBmaWVsZHMgPSBbJ190aXRsZVZhbHVlJywgJ190aXRsZVZhbHVlcycsICdfYXV0aG9yVmFsdWUnLCAnX2F1dGhvclZhbHVlcycsICdjb3ZlcicsICdkZXNjcmlwdGlvbicsICdjb250ZW50J107XG5cdHZhciBBZGRCb29rRm9ybSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG5cdCAgICBfaW5oZXJpdHMoQWRkQm9va0Zvcm0sIF9Db21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIEFkZEJvb2tGb3JtKHByb3BzKSB7XG5cdCAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFkZEJvb2tGb3JtKTtcblx0XG5cdCAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgT2JqZWN0LmdldFByb3RvdHlwZU9mKEFkZEJvb2tGb3JtKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cdFxuXHQgICAgICAgIF90aGlzLmhhbmRsZVRpdGxlT3B0aW9uQ2xpY2sgPSBfdGhpcy5oYW5kbGVUaXRsZU9wdGlvbkNsaWNrLmJpbmQoX3RoaXMpO1xuXHQgICAgICAgIHJldHVybiBfdGhpcztcblx0ICAgIH1cblx0XG5cdCAgICBfY3JlYXRlQ2xhc3MoQWRkQm9va0Zvcm0sIFt7XG5cdCAgICAgICAga2V5OiBcImhhbmRsZVRpdGxlT3B0aW9uQ2xpY2tcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlVGl0bGVPcHRpb25DbGljayhvcHRpb24pIHtcblx0ICAgICAgICAgICAgdmFyIF9wcm9wcyRmaWVsZHMgPSB0aGlzLnByb3BzLmZpZWxkcztcblx0ICAgICAgICAgICAgdmFyIF90aXRsZVZhbHVlID0gX3Byb3BzJGZpZWxkcy5fdGl0bGVWYWx1ZTtcblx0ICAgICAgICAgICAgdmFyIF90aXRsZVZhbHVlcyA9IF9wcm9wcyRmaWVsZHMuX3RpdGxlVmFsdWVzO1xuXHQgICAgICAgICAgICB2YXIgX2F1dGhvclZhbHVlID0gX3Byb3BzJGZpZWxkcy5fYXV0aG9yVmFsdWU7XG5cdCAgICAgICAgICAgIHZhciBjb3ZlciA9IF9wcm9wcyRmaWVsZHMuY292ZXI7XG5cdCAgICAgICAgICAgIHZhciBkZXNjcmlwdGlvbiA9IF9wcm9wcyRmaWVsZHMuZGVzY3JpcHRpb247XG5cdFxuXHQgICAgICAgICAgICBjb3Zlci5vbkNoYW5nZShvcHRpb24uYWRkaXRpb25hbC5jb3Zlcik7XG5cdCAgICAgICAgICAgIF9hdXRob3JWYWx1ZS5vbkNoYW5nZShvcHRpb24uYWRkaXRpb25hbC5hdXRob3IpO1xuXHQgICAgICAgICAgICBkZXNjcmlwdGlvbi5vbkNoYW5nZShvcHRpb24uYWRkaXRpb25hbC5kZXNjcmlwdGlvbik7XG5cdCAgICAgICAgfVxuXHQgICAgfSwge1xuXHQgICAgICAgIGtleTogXCJyZW5kZXJcIixcblx0ICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHQgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgICAgICAgICB2YXIgX3Byb3BzJGZpZWxkczIgPSBfcHJvcHMuZmllbGRzO1xuXHQgICAgICAgICAgICB2YXIgX3RpdGxlVmFsdWUgPSBfcHJvcHMkZmllbGRzMi5fdGl0bGVWYWx1ZTtcblx0ICAgICAgICAgICAgdmFyIF90aXRsZVZhbHVlcyA9IF9wcm9wcyRmaWVsZHMyLl90aXRsZVZhbHVlcztcblx0ICAgICAgICAgICAgdmFyIF9hdXRob3JWYWx1ZSA9IF9wcm9wcyRmaWVsZHMyLl9hdXRob3JWYWx1ZTtcblx0ICAgICAgICAgICAgdmFyIF9hdXRob3JWYWx1ZXMgPSBfcHJvcHMkZmllbGRzMi5fYXV0aG9yVmFsdWVzO1xuXHQgICAgICAgICAgICB2YXIgY292ZXIgPSBfcHJvcHMkZmllbGRzMi5jb3Zlcjtcblx0ICAgICAgICAgICAgdmFyIGRlc2NyaXB0aW9uID0gX3Byb3BzJGZpZWxkczIuZGVzY3JpcHRpb247XG5cdCAgICAgICAgICAgIHZhciBjb250ZW50ID0gX3Byb3BzJGZpZWxkczIuY29udGVudDtcblx0ICAgICAgICAgICAgdmFyIGhhbmRsZVN1Ym1pdCA9IF9wcm9wcy5oYW5kbGVTdWJtaXQ7XG5cdCAgICAgICAgICAgIHZhciBvblRpdGxlSW5wdXRDaGFuZ2UgPSBfcHJvcHMub25UaXRsZUlucHV0Q2hhbmdlO1xuXHQgICAgICAgICAgICB2YXIgb25BdXRob3JJbnB1dENoYW5nZSA9IF9wcm9wcy5vbkF1dGhvcklucHV0Q2hhbmdlO1xuXHQgICAgICAgICAgICB2YXIgZG91YmFuQm9va3NBc09wdGlvbnMgPSBfcHJvcHMuZG91YmFuQm9va3NBc09wdGlvbnM7XG5cdCAgICAgICAgICAgIHZhciBhdXRob3JzQXNPcHRpb25zID0gX3Byb3BzLmF1dGhvcnNBc09wdGlvbnM7XG5cdCAgICAgICAgICAgIHZhciBvblNhdmVBdXRob3IgPSBfcHJvcHMub25TYXZlQXV0aG9yO1xuXHQgICAgICAgICAgICB2YXIgb25TYXZlQm9vayA9IF9wcm9wcy5vblNhdmVCb29rO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9mb3JtLlNlbGVjdGl6ZUlucHV0LCB7IHBsYWNlaG9sZGVyOiBcIuS5puWQjVwiLCBvbklucHV0Q2hhbmdlOiBmdW5jdGlvbiBvbklucHV0Q2hhbmdlKG5ld1ZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgb25UaXRsZUlucHV0Q2hhbmdlKG5ld1ZhbHVlKTtcblx0ICAgICAgICAgICAgICAgICAgICBfdGl0bGVWYWx1ZS5vbkNoYW5nZShuZXdWYWx1ZSk7XG5cdCAgICAgICAgICAgICAgICB9LCB2YWx1ZTogX3RpdGxlVmFsdWUudmFsdWUsIG9uVmFsdWVzQ2hhbmdlOiBmdW5jdGlvbiBvblZhbHVlc0NoYW5nZShuZXdWYWx1ZXMpIHtcblx0ICAgICAgICAgICAgICAgICAgICBfdGl0bGVWYWx1ZXMub25DaGFuZ2UobmV3VmFsdWVzKTtcblx0ICAgICAgICAgICAgICAgIH0sIG9wdGlvbnM6IGRvdWJhbkJvb2tzQXNPcHRpb25zLCB2YWx1ZXM6IF90aXRsZVZhbHVlcy52YWx1ZSB8fCBbXSwgb25PcHRpb25DbGljazogdGhpcy5oYW5kbGVUaXRsZU9wdGlvbkNsaWNrIH0pLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfZm9ybS5TZWxlY3RpemVJbnB1dCwgeyBwbGFjZWhvbGRlcjogXCLkvZzogIVcIiwgb25JbnB1dENoYW5nZTogZnVuY3Rpb24gb25JbnB1dENoYW5nZShuZXdWYWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIG9uQXV0aG9ySW5wdXRDaGFuZ2UobmV3VmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgICAgIF9hdXRob3JWYWx1ZS5vbkNoYW5nZShuZXdWYWx1ZSk7XG5cdCAgICAgICAgICAgICAgICB9LCB2YWx1ZTogX2F1dGhvclZhbHVlLnZhbHVlLCBvblZhbHVlc0NoYW5nZTogZnVuY3Rpb24gb25WYWx1ZXNDaGFuZ2UobmV3VmFsdWVzKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgX2F1dGhvclZhbHVlcy5vbkNoYW5nZShuZXdWYWx1ZXMpO1xuXHQgICAgICAgICAgICAgICAgfSwgb3B0aW9uczogYXV0aG9yc0FzT3B0aW9ucywgdmFsdWVzOiBfYXV0aG9yVmFsdWVzLnZhbHVlIHx8IFtdLCBvbkFkZE5ld1ZhbHVlOiBmdW5jdGlvbiBvbkFkZE5ld1ZhbHVlKHZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnByb3BzLm9wZW5Nb2RhbCh7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5re75Yqg5L2c6ICFJyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0FkZEF1dGhvckZvcm0yLmRlZmF1bHQsIHsgaW5pdGlhbERhdGE6IHsgbmFtZTogdmFsdWUgfSwgb25TYXZlOiBvblNhdmVBdXRob3IgfSlcblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgIH0gfSksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9JbnB1dDIuZGVmYXVsdCwgX19hc3NpZ24oeyBwbGFjZWhvbGRlcjogXCLlsIHpnaLlm77niYflnLDlnYBcIiB9LCBjb3ZlcikpLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfVGV4dGFyZWEyLmRlZmF1bHQsIF9fYXNzaWduKHsgcGxhY2Vob2xkZXI6IFwi5o+P6L+wXCIgfSwgZGVzY3JpcHRpb24pKSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX1RleHRhcmVhMi5kZWZhdWx0LCBfX2Fzc2lnbih7IHBsYWNlaG9sZGVyOiBcIuWcqOatpOeymOi0tOS5puexjeWGheWuuSAobWFya2Rvd24g5qC85byPKVwiIH0sIGNvbnRlbnQpKSwgX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX2Zvcm0uQnV0dG9uLCB7IG9uQ2xpY2s6IGhhbmRsZVN1Ym1pdChmdW5jdGlvbiAoZGF0YSkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBwb3N0RGF0YSA9IF9sb2Rhc2gyLmRlZmF1bHQucGljayhkYXRhLCBbJ2NvdmVyJywgJ2Rlc2NyaXB0aW9uJywgJ2NvbnRlbnQnXSk7XG5cdCAgICAgICAgICAgICAgICAgICAgcG9zdERhdGEgPSBfbG9kYXNoMi5kZWZhdWx0LmFzc2lnbih7fSwgcG9zdERhdGEsIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IF9sb2Rhc2gyLmRlZmF1bHQuZ2V0KF90aXRsZVZhbHVlcywgJ3ZhbHVlWzBdLm5hbWUnLCAnJyksXG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcnM6IEFycmF5LmlzQXJyYXkoX2F1dGhvclZhbHVlcy52YWx1ZSkgPyBfYXV0aG9yVmFsdWVzLnZhbHVlLm1hcChmdW5jdGlvbiAodikge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHYudmFsdWU7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0pIDogW11cblx0ICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgICAgICBvblNhdmVCb29rKHBvc3REYXRhKTtcblx0ICAgICAgICAgICAgICAgIH0pIH0sIFwi5re75YqgXCIpKTtcblx0ICAgICAgICB9XG5cdCAgICB9XSk7XG5cdFxuXHQgICAgcmV0dXJuIEFkZEJvb2tGb3JtO1xuXHR9KF9yZWFjdC5Db21wb25lbnQpO1xuXHRBZGRCb29rRm9ybSA9IF9fZGVjb3JhdGUoWygwLCBfcmVkdXhGb3JtLnJlZHV4Rm9ybSkoe1xuXHQgICAgZm9ybTogJ2FkZEJvb2snLFxuXHQgICAgZmllbGRzOiBmaWVsZHNcblx0fSldLCBBZGRCb29rRm9ybSk7XG5cdHZhciBtYXBTdGF0ZVRvUHJvcHMgPSBmdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUsIG93blByb3BzKSB7XG5cdCAgICB2YXIgZG91YmFuQm9va1F1ZXJ5ID0gX2xvZGFzaDIuZGVmYXVsdC5nZXQoc3RhdGUuZm9ybSwgJ2FkZEJvb2suX3RpdGxlVmFsdWUudmFsdWUnLCAnJyk7XG5cdCAgICB2YXIgYXV0aG9yc1F1ZXJ5ID0gX2xvZGFzaDIuZGVmYXVsdC5nZXQoc3RhdGUuZm9ybSwgJ2FkZEJvb2suX2F1dGhvclZhbHVlLnZhbHVlJywgJycpO1xuXHQgICAgcmV0dXJuIHtcblx0ICAgICAgICBpbml0aWFsVmFsdWVzOiBvd25Qcm9wcy5pbml0aWFsRGF0YSxcblx0ICAgICAgICByb3V0aW5nOiBzdGF0ZS5yb3V0aW5nLmxvY2F0aW9uQmVmb3JlVHJhbnNpdGlvbnMsXG5cdCAgICAgICAgZG91YmFuQm9va3NBc09wdGlvbnM6IHNlbGVjdG9ycy5kb3ViYW5Cb29rc0FzT3B0aW9ucyhkb3ViYW5Cb29rUXVlcnkpKHN0YXRlKSxcblx0ICAgICAgICBhdXRob3JzQXNPcHRpb25zOiBzZWxlY3RvcnMuYXV0aG9yc0FzT3B0aW9ucyhhdXRob3JzUXVlcnkpKHN0YXRlKVxuXHQgICAgfTtcblx0fTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9yZWFjdFJlZHV4LmNvbm5lY3QpKG1hcFN0YXRlVG9Qcm9wcywgeyBzZW5kTm90aWZpY2F0aW9uOiBfYWN0aW9ucy5zZW5kTm90aWZpY2F0aW9uLCBvcGVuTW9kYWw6IF9hY3Rpb25zLm9wZW5Nb2RhbCB9KShBZGRCb29rRm9ybSk7XG5cbi8qKiovIH0sXG5cbi8qKiovIDI0Mjpcbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdHZhciBfcmVhY3QgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cdFxuXHR2YXIgX3JlYWN0UmVkdXggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuXHRcblx0dmFyIF9yZWR1eEZvcm0gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KTtcblx0XG5cdHZhciBfYWN0aW9ucyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XG5cdFxuXHR2YXIgX0lucHV0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNzIpO1xuXHRcblx0dmFyIF9JbnB1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbnB1dCk7XG5cdFxuXHR2YXIgX01vZGFsRm9vdGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NSk7XG5cdFxuXHR2YXIgX01vZGFsRm9vdGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01vZGFsRm9vdGVyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblx0XG5cdHZhciBfX2Fzc2lnbiA9IHVuZGVmaW5lZCAmJiB1bmRlZmluZWQuX19hc3NpZ24gfHwgT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodCkge1xuXHQgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG5cdCAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcblx0ICAgICAgICBmb3IgKHZhciBwIGluIHMpIHtcblx0ICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHQgICAgcmV0dXJuIHQ7XG5cdH07XG5cdHZhciBfX2RlY29yYXRlID0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZC5fX2RlY29yYXRlIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuXHQgICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLFxuXHQgICAgICAgIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLFxuXHQgICAgICAgIGQ7XG5cdCAgICBpZiAoKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoUmVmbGVjdCkpID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdCAgICAgICAgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcblx0ICAgIH1yZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xuXHR9O1xuXHRcblx0dmFyIEFkZEF1dGhvckZvcm0gPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuXHQgICAgX2luaGVyaXRzKEFkZEF1dGhvckZvcm0sIF9Db21wb25lbnQpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIEFkZEF1dGhvckZvcm0ocHJvcHMpIHtcblx0ICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQWRkQXV0aG9yRm9ybSk7XG5cdFxuXHQgICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQWRkQXV0aG9yRm9ybSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXHQgICAgfVxuXHRcblx0ICAgIF9jcmVhdGVDbGFzcyhBZGRBdXRob3JGb3JtLCBbe1xuXHQgICAgICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHt9XG5cdCAgICB9LCB7XG5cdCAgICAgICAga2V5OiBcInJlbmRlclwiLFxuXHQgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzO1xuXHQgICAgICAgICAgICB2YXIgX3Byb3BzJGZpZWxkcyA9IF9wcm9wcy5maWVsZHM7XG5cdCAgICAgICAgICAgIHZhciBuYW1lID0gX3Byb3BzJGZpZWxkcy5uYW1lO1xuXHQgICAgICAgICAgICB2YXIgc2x1ZyA9IF9wcm9wcyRmaWVsZHMuc2x1Zztcblx0ICAgICAgICAgICAgdmFyIGRlc2NyaXB0aW9uID0gX3Byb3BzJGZpZWxkcy5kZXNjcmlwdGlvbjtcblx0ICAgICAgICAgICAgdmFyIGhhbmRsZVN1Ym1pdCA9IF9wcm9wcy5oYW5kbGVTdWJtaXQ7XG5cdCAgICAgICAgICAgIHZhciBjbG9zZU1vZGFsID0gX3Byb3BzLmNsb3NlTW9kYWw7XG5cdCAgICAgICAgICAgIHZhciBvblNhdmUgPSBfcHJvcHMub25TYXZlO1xuXHRcblx0ICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9JbnB1dDIuZGVmYXVsdCwgX19hc3NpZ24oeyBwbGFjZWhvbGRlcjogXCLlkI3lrZdcIiB9LCBuYW1lKSksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9JbnB1dDIuZGVmYXVsdCwgX19hc3NpZ24oeyBwbGFjZWhvbGRlcjogXCLllK/kuIDmoIfor4ZcIiB9LCBzbHVnKSksIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9JbnB1dDIuZGVmYXVsdCwgX19hc3NpZ24oeyBwbGFjZWhvbGRlcjogXCLmj4/ov7BcIiB9LCBkZXNjcmlwdGlvbikpLCBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfTW9kYWxGb290ZXIyLmRlZmF1bHQsIHsgb25Db25maXJtOiBoYW5kbGVTdWJtaXQoZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAgICAgICAgICAgICAgICAgICBvblNhdmUoZGF0YSk7XG5cdCAgICAgICAgICAgICAgICB9KSwgb25DYW5jZWw6IGNsb3NlTW9kYWwgfSkpO1xuXHQgICAgICAgIH1cblx0ICAgIH1dKTtcblx0XG5cdCAgICByZXR1cm4gQWRkQXV0aG9yRm9ybTtcblx0fShfcmVhY3QuQ29tcG9uZW50KTtcblx0QWRkQXV0aG9yRm9ybSA9IF9fZGVjb3JhdGUoWygwLCBfcmVkdXhGb3JtLnJlZHV4Rm9ybSkoe1xuXHQgICAgZm9ybTogJ2FkZEF1dGhvcicsXG5cdCAgICBmaWVsZHM6IFsnbmFtZScsICdzbHVnJywgJ2Rlc2NyaXB0aW9uJ11cblx0fSldLCBBZGRBdXRob3JGb3JtKTtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9yZWFjdFJlZHV4LmNvbm5lY3QpKGZ1bmN0aW9uIChzdGF0ZSwgb3duUHJvcHMpIHtcblx0ICAgIHJldHVybiB7XG5cdCAgICAgICAgaW5pdGlhbFZhbHVlczogb3duUHJvcHMuaW5pdGlhbERhdGEsXG5cdCAgICAgICAgcm91dGluZzogc3RhdGUucm91dGluZy5sb2NhdGlvbkJlZm9yZVRyYW5zaXRpb25zXG5cdCAgICB9O1xuXHR9LCB7IHNlbmROb3RpZmljYXRpb246IF9hY3Rpb25zLnNlbmROb3RpZmljYXRpb24sIGNsb3NlTW9kYWw6IF9hY3Rpb25zLmNsb3NlTW9kYWwgfSkoQWRkQXV0aG9yRm9ybSk7XG5cbi8qKiovIH1cblxufSk7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogMTQuMTQuanNcbiAqKi8iLCJpbXBvcnQgeyBjcmVhdGVTZWxlY3RvciB9IGZyb20gJ3Jlc2VsZWN0J1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJ1xuaW1wb3J0IHsgc2VsZWN0UGFnaW5hdGVkRW50aXRpZXMgfSBmcm9tICcuL2NvbW1vbidcbmltcG9ydCAqIGFzIGNvbW1vbiBmcm9tICcuL2NvbW1vbidcblxuZXhwb3J0IGNvbnN0IHF1ZXJ5RG91YmFuQm9va3NTZWxlY3RvciA9IHF1ZXJ5ID0+IGNyZWF0ZVNlbGVjdG9yKFxuICBzZWxlY3RQYWdpbmF0ZWRFbnRpdGllcyh7XG4gICAgZW50aXRpZXNOYW1lOiAnZG91YmFuQm9va3MnLFxuICAgIHBhZ2luYXRpb25OYW1lOiAnZG91YmFuQm9va3MnLFxuICAgIHBhZ2luYXRpb25RdWVyeTogcXVlcnlcbiAgfSksXG4gIGJvb2tzID0+IGJvb2tzXG4pXG5cbmV4cG9ydCBjb25zdCBxdWVyeUF1dGhvcnNTZWxlY3RvciA9IHF1ZXJ5ID0+IHNlbGVjdFBhZ2luYXRlZEVudGl0aWVzKHtcbiAgZW50aXRpZXNOYW1lOiAnYXV0aG9ycycsXG4gIHBhZ2luYXRpb25OYW1lOiAnYXV0aG9ycycsXG4gIHBhZ2luYXRpb25RdWVyeTogcXVlcnlcbn0pXG5cbmV4cG9ydCBjb25zdCBzZWFyY2hCb29rc1NlbGVjdG9yID0gcXVlcnkgPT4gc2VsZWN0UGFnaW5hdGVkRW50aXRpZXMoe1xuICBlbnRpdGllc05hbWU6ICdib29rcycsXG4gIHBhZ2luYXRpb25OYW1lOiAnYm9va3MnLFxuICBwYWdpbmF0aW9uUXVlcnk6IHF1ZXJ5XG59KVxuXG5leHBvcnQgY29uc3QgZG91YmFuQm9va3NBc09wdGlvbnMgPSBxdWVyeSA9PiBjcmVhdGVTZWxlY3RvcihcbiAgcXVlcnlEb3ViYW5Cb29rc1NlbGVjdG9yKHF1ZXJ5KSxcbiAgYm9va3MgPT4ge1xuICAgIHJldHVybiBib29rcy5tYXAoYm9vayA9PiAoe1xuICAgICAgbmFtZTogYm9vay50aXRsZSxcbiAgICAgIHZhbHVlOiBib29rLmlkLFxuICAgICAgYWRkaXRpb25hbDoge1xuICAgICAgICBkZXNjcmlwdGlvbjogYm9vay5zdW1tYXJ5LFxuICAgICAgICBjb3ZlcjogYm9vay5pbWFnZXMubGFyZ2UsXG4gICAgICAgIGF1dGhvcjogYm9vay5hdXRob3Iuam9pbignLCAnKVxuICAgICAgfVxuICAgIH0pKVxuICB9XG4pXG5cbmV4cG9ydCBjb25zdCBhdXRob3JzQXNPcHRpb25zID0gcXVlcnkgPT4gY3JlYXRlU2VsZWN0b3IoXG4gIHF1ZXJ5QXV0aG9yc1NlbGVjdG9yKHF1ZXJ5KSxcbiAgaXRlbXMgPT4ge1xuICAgIHJldHVybiBpdGVtcy5tYXAoaXRlbSA9PiAoe1xuICAgICAgbmFtZTogaXRlbS5uYW1lLFxuICAgICAgdmFsdWU6IGl0ZW0uaWRcbiAgICB9KSlcbiAgfVxuKVxuXG5leHBvcnQgY29uc3QgYm9va3NTZWFyY2hBc09wdGlvbnMgPSBxdWVyeSA9PiBjcmVhdGVTZWxlY3RvcihcbiAgc2VhcmNoQm9va3NTZWxlY3RvcihxdWVyeSksXG4gIGl0ZW1zID0+IHtcbiAgICByZXR1cm4gaXRlbXMubWFwKGl0ZW0gPT4gKHtcbiAgICAgIG5hbWU6IGl0ZW0udGl0bGUsXG4gICAgICB2YWx1ZTogaXRlbS5pZFxuICAgIH0pKVxuICB9XG4pXG5cbmV4cG9ydCBjb25zdCBib29rc1NlbGVjdG9yID0gY3JlYXRlU2VsZWN0b3IoXG4gIHNlbGVjdFBhZ2luYXRlZEVudGl0aWVzKHtcbiAgICBlbnRpdGllc05hbWU6ICdib29rcycsXG4gICAgcGFnaW5hdGlvbk5hbWU6ICdib29rcycsXG4gICAgcGFnaW5hdGlvbktleTogJ2RlZmF1bHQnXG4gIH0pLFxuICBib29rcyA9PiBib29rc1xuKVxuXG5leHBvcnQgY29uc3QgdXNlcnNTZWxlY3RvciA9IHNlbGVjdFBhZ2luYXRlZEVudGl0aWVzKHtcbiAgZW50aXRpZXNOYW1lOiAndXNlcnMnLFxuICBwYWdpbmF0aW9uTmFtZTogJ3VzZXJzJyxcbiAgcGFnaW5hdGlvbktleTogJ2RlZmF1bHQnXG59KVxuXG5leHBvcnQgKiBmcm9tICcuL2NvbW1vbidcbmV4cG9ydCB7IGNvbW1vbiB9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvaXNvbW9ycGhpYy9zdG9yZS9zZWxlY3RvcnMvaW5kZXgudHNcbiAqKi8iLCJpbXBvcnQgeyBjcmVhdGVTZWxlY3RvciB9IGZyb20gJ3Jlc2VsZWN0J1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJ1xuXG5jb25zdCBlbnRpdGllc1NlbGVjdG9yID0gbmFtZSA9PiBzdGF0ZSA9PiB7XG4gIHJldHVybiBzdGF0ZS5lbnRpdGllc1tuYW1lXSB8fCB7fVxufVxuY29uc3QgcGFnaW5hdGlvblNlbGVjdG9yID0gKG5hbWUsIGtleSA9ICdkZWZhdWx0JykgPT4gc3RhdGUgPT4ge1xuICByZXR1cm4gXy5nZXQoc3RhdGUucGFnaW5hdGlvbiwgYCR7bmFtZX0uJHtrZXl9Lmlkc2AsIFtdKVxufVxuZXhwb3J0IGNvbnN0IHBhZ2luYXRpb25MaW5rU2VsZWN0b3IgPSAobmFtZSwga2V5ID0gJ2RlZmF1bHQnKSA9PiBzdGF0ZSA9PiB7XG4gIHJldHVybiBfLnBpY2soXy5nZXQoc3RhdGUucGFnaW5hdGlvbiwgYCR7bmFtZX0uJHtrZXl9YCwge30pLCBbJ25leHQnLCAnbGFzdCddKVxufVxuY29uc3QgcXVlcnlQYWdpbmF0aW9uU2VsZWN0b3IgPSAobmFtZSwgcXVlcnkpID0+IHN0YXRlID0+IHtcbiAgcmV0dXJuIF8uZ2V0KHN0YXRlLnBhZ2luYXRpb24sIFtuYW1lLCAncXVlcnknLCBxdWVyeSwgJ2lkcyddLCBbXSlcbn1cblxudHlwZSBTZWxlY3RQYWdpbmF0ZWRFbnRpdGllc09wdGlvbnMgPSB7XG4gIGVudGl0aWVzTmFtZTogc3RyaW5nXG4gIHBhZ2luYXRpb25OYW1lOiBzdHJpbmdcbiAgcGFnaW5hdGlvbktleT86IHN0cmluZ1xuICBwYWdpbmF0aW9uUXVlcnk/OiBzdHJpbmdcbn1cbmV4cG9ydCBjb25zdCBzZWxlY3RQYWdpbmF0ZWRFbnRpdGllcyA9IChvcHRpb25zOiBTZWxlY3RQYWdpbmF0ZWRFbnRpdGllc09wdGlvbnMpID0+IHtcbiAgY29uc3Qge2VudGl0aWVzTmFtZSwgcGFnaW5hdGlvbk5hbWUsIHBhZ2luYXRpb25LZXksIHBhZ2luYXRpb25RdWVyeX0gPSBvcHRpb25zXG4gIGxldCBwYWdpU2VsZWN0b3I6IChzdGF0ZTogYW55KSA9PiBhbnlbXVxuXG4gIGlmIChwYWdpbmF0aW9uUXVlcnkpIHtcbiAgICBwYWdpU2VsZWN0b3IgPSBxdWVyeVBhZ2luYXRpb25TZWxlY3RvcihwYWdpbmF0aW9uTmFtZSwgcGFnaW5hdGlvblF1ZXJ5KVxuICB9IGVsc2Uge1xuICAgIHBhZ2lTZWxlY3RvciA9IHBhZ2luYXRpb25TZWxlY3RvcihwYWdpbmF0aW9uTmFtZSwgcGFnaW5hdGlvbktleSlcbiAgfVxuXG4gIHJldHVybiBjcmVhdGVTZWxlY3RvcihcbiAgICBlbnRpdGllc1NlbGVjdG9yKGVudGl0aWVzTmFtZSksXG4gICAgcGFnaVNlbGVjdG9yLFxuICAgIChlbnRpdGllcywgaWRzKSA9PiB7XG4gICAgICByZXR1cm4gaWRzLm1hcChpZCA9PiBlbnRpdGllc1tpZF0pXG4gICAgfVxuICApXG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvaXNvbW9ycGhpYy9zdG9yZS9zZWxlY3RvcnMvY29tbW9uLnRzXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0TWVtb2l6ZSA9IGRlZmF1bHRNZW1vaXplO1xuZXhwb3J0cy5jcmVhdGVTZWxlY3RvckNyZWF0b3IgPSBjcmVhdGVTZWxlY3RvckNyZWF0b3I7XG5leHBvcnRzLmNyZWF0ZVNlbGVjdG9yID0gY3JlYXRlU2VsZWN0b3I7XG5leHBvcnRzLmNyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvciA9IGNyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvcjtcblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cbmZ1bmN0aW9uIGRlZmF1bHRFcXVhbGl0eUNoZWNrKGEsIGIpIHtcbiAgcmV0dXJuIGEgPT09IGI7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRNZW1vaXplKGZ1bmMpIHtcbiAgdmFyIGVxdWFsaXR5Q2hlY2sgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBkZWZhdWx0RXF1YWxpdHlDaGVjayA6IGFyZ3VtZW50c1sxXTtcblxuICB2YXIgbGFzdEFyZ3MgPSBudWxsO1xuICB2YXIgbGFzdFJlc3VsdCA9IG51bGw7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgaWYgKGxhc3RBcmdzICE9PSBudWxsICYmIGxhc3RBcmdzLmxlbmd0aCA9PT0gYXJncy5sZW5ndGggJiYgYXJncy5ldmVyeShmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG4gICAgICByZXR1cm4gZXF1YWxpdHlDaGVjayh2YWx1ZSwgbGFzdEFyZ3NbaW5kZXhdKTtcbiAgICB9KSkge1xuICAgICAgcmV0dXJuIGxhc3RSZXN1bHQ7XG4gICAgfVxuICAgIGxhc3RSZXN1bHQgPSBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gICAgbGFzdEFyZ3MgPSBhcmdzO1xuICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICB9O1xufVxuXG5mdW5jdGlvbiBnZXREZXBlbmRlbmNpZXMoZnVuY3MpIHtcbiAgdmFyIGRlcGVuZGVuY2llcyA9IEFycmF5LmlzQXJyYXkoZnVuY3NbMF0pID8gZnVuY3NbMF0gOiBmdW5jcztcblxuICBpZiAoIWRlcGVuZGVuY2llcy5ldmVyeShmdW5jdGlvbiAoZGVwKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBkZXAgPT09ICdmdW5jdGlvbic7XG4gIH0pKSB7XG4gICAgdmFyIGRlcGVuZGVuY3lUeXBlcyA9IGRlcGVuZGVuY2llcy5tYXAoZnVuY3Rpb24gKGRlcCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBkZXA7XG4gICAgfSkuam9pbignLCAnKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlbGVjdG9yIGNyZWF0b3JzIGV4cGVjdCBhbGwgaW5wdXQtc2VsZWN0b3JzIHRvIGJlIGZ1bmN0aW9ucywgJyArICgnaW5zdGVhZCByZWNlaXZlZCB0aGUgZm9sbG93aW5nIHR5cGVzOiBbJyArIGRlcGVuZGVuY3lUeXBlcyArICddJykpO1xuICB9XG5cbiAgcmV0dXJuIGRlcGVuZGVuY2llcztcbn1cblxuZnVuY3Rpb24gY3JlYXRlU2VsZWN0b3JDcmVhdG9yKG1lbW9pemUpIHtcbiAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBtZW1vaXplT3B0aW9ucyA9IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICBtZW1vaXplT3B0aW9uc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBmdW5jcyA9IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICBmdW5jc1tfa2V5M10gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgIH1cblxuICAgIHZhciByZWNvbXB1dGF0aW9ucyA9IDA7XG4gICAgdmFyIHJlc3VsdEZ1bmMgPSBmdW5jcy5wb3AoKTtcbiAgICB2YXIgZGVwZW5kZW5jaWVzID0gZ2V0RGVwZW5kZW5jaWVzKGZ1bmNzKTtcblxuICAgIHZhciBtZW1vaXplZFJlc3VsdEZ1bmMgPSBtZW1vaXplLmFwcGx5KHVuZGVmaW5lZCwgW2Z1bmN0aW9uICgpIHtcbiAgICAgIHJlY29tcHV0YXRpb25zKys7XG4gICAgICByZXR1cm4gcmVzdWx0RnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gICAgfV0uY29uY2F0KG1lbW9pemVPcHRpb25zKSk7XG5cbiAgICB2YXIgc2VsZWN0b3IgPSBmdW5jdGlvbiBzZWxlY3RvcihzdGF0ZSwgcHJvcHMpIHtcbiAgICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW40ID4gMiA/IF9sZW40IC0gMiA6IDApLCBfa2V5NCA9IDI7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICAgICAgYXJnc1tfa2V5NCAtIDJdID0gYXJndW1lbnRzW19rZXk0XTtcbiAgICAgIH1cblxuICAgICAgdmFyIHBhcmFtcyA9IGRlcGVuZGVuY2llcy5tYXAoZnVuY3Rpb24gKGRlcGVuZGVuY3kpIHtcbiAgICAgICAgcmV0dXJuIGRlcGVuZGVuY3kuYXBwbHkodW5kZWZpbmVkLCBbc3RhdGUsIHByb3BzXS5jb25jYXQoYXJncykpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gbWVtb2l6ZWRSZXN1bHRGdW5jLmFwcGx5KHVuZGVmaW5lZCwgX3RvQ29uc3VtYWJsZUFycmF5KHBhcmFtcykpO1xuICAgIH07XG5cbiAgICBzZWxlY3Rvci5yZXN1bHRGdW5jID0gcmVzdWx0RnVuYztcbiAgICBzZWxlY3Rvci5yZWNvbXB1dGF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZWNvbXB1dGF0aW9ucztcbiAgICB9O1xuICAgIHNlbGVjdG9yLnJlc2V0UmVjb21wdXRhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVjb21wdXRhdGlvbnMgPSAwO1xuICAgIH07XG4gICAgcmV0dXJuIHNlbGVjdG9yO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTZWxlY3RvcigpIHtcbiAgcmV0dXJuIGNyZWF0ZVNlbGVjdG9yQ3JlYXRvcihkZWZhdWx0TWVtb2l6ZSkuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3Ioc2VsZWN0b3JzKSB7XG4gIHZhciBzZWxlY3RvckNyZWF0b3IgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBjcmVhdGVTZWxlY3RvciA6IGFyZ3VtZW50c1sxXTtcblxuICBpZiAodHlwZW9mIHNlbGVjdG9ycyAhPT0gJ29iamVjdCcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvciBleHBlY3RzIGZpcnN0IGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCAnICsgKCd3aGVyZSBlYWNoIHByb3BlcnR5IGlzIGEgc2VsZWN0b3IsIGluc3RlYWQgcmVjZWl2ZWQgYSAnICsgdHlwZW9mIHNlbGVjdG9ycykpO1xuICB9XG4gIHZhciBvYmplY3RLZXlzID0gT2JqZWN0LmtleXMoc2VsZWN0b3JzKTtcbiAgcmV0dXJuIHNlbGVjdG9yQ3JlYXRvcihvYmplY3RLZXlzLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIHNlbGVjdG9yc1trZXldO1xuICB9KSwgZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIF9sZW41ID0gYXJndW1lbnRzLmxlbmd0aCwgdmFsdWVzID0gQXJyYXkoX2xlbjUpLCBfa2V5NSA9IDA7IF9rZXk1IDwgX2xlbjU7IF9rZXk1KyspIHtcbiAgICAgIHZhbHVlc1tfa2V5NV0gPSBhcmd1bWVudHNbX2tleTVdO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZXMucmVkdWNlKGZ1bmN0aW9uIChjb21wb3NpdGlvbiwgdmFsdWUsIGluZGV4KSB7XG4gICAgICBjb21wb3NpdGlvbltvYmplY3RLZXlzW2luZGV4XV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiBjb21wb3NpdGlvbjtcbiAgICB9LCB7fSk7XG4gIH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3Jlc2VsZWN0L2xpYi9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDE2MlxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDMgMTIgMTMgMTQgMTVcbiAqKi8iLCJpbXBvcnQgQnV0dG9uIGZyb20gJy4vQnV0dG9uJ1xuaW1wb3J0IElucHV0IGZyb20gJy4vSW5wdXQnXG5pbXBvcnQgU2VsZWN0aXplSW5wdXQgZnJvbSAnLi9TZWxlY3RpemVJbnB1dCdcbmltcG9ydCBUZXh0YXJlYSBmcm9tICcuL1RleHRhcmVhJ1xuXG5leHBvcnQgeyBCdXR0b24sIElucHV0LCBTZWxlY3RpemVJbnB1dCwgVGV4dGFyZWEgfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvX2Zvcm0vaW5kZXgudHNcbiAqKi8iLCJpbXBvcnQgSW5wdXQgZnJvbSAnLi9JbnB1dCdcbmV4cG9ydCBkZWZhdWx0IElucHV0XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9JbnB1dC9pbmRleC50c1xuICoqLyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBDU1NNb2R1bGVzIGZyb20gJ3JlYWN0LWNzcy1tb2R1bGVzJ1xuY29uc3Qgc3R5bGVzID0gcmVxdWlyZSgnLi9JbnB1dC5jc3MnKVxuXG5leHBvcnQgaW50ZXJmYWNlIFByb3BzIHtcbiAgY2xhc3NOYW1lPzogc3RyaW5nXG4gIHBsYWNlaG9sZGVyPzogc3RyaW5nXG4gIG9uQ2hhbmdlPzogYW55XG4gIHZhbHVlPzogc3RyaW5nXG4gIHR5cGU/OiBzdHJpbmdcbiAgbmFtZT86IHN0cmluZ1xufVxuXG5AQ1NTTW9kdWxlcyhzdHlsZXMsIHtcbiAgYWxsb3dNdWx0aXBsZTogdHJ1ZVxufSlcbmNsYXNzIElucHV0IGV4dGVuZHMgQ29tcG9uZW50PFByb3BzLCBhbnk+IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQgcHJvcHMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnByb3BzKVxuICAgIGRlbGV0ZSBwcm9wcy5jbGFzc05hbWVcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IHN0eWxlTmFtZT1cImlucHV0LXdyYXBcIiBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lIHx8ICcnfT5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgc3R5bGVOYW1lPVwiaW5wdXRcIlxuICAgICAgICAgIHBsYWNlaG9sZGVyPXt0aGlzLnByb3BzLnBsYWNlaG9sZGVyfVxuICAgICAgICAgIHZhbHVlPXt0aGlzLnByb3BzLnZhbHVlfVxuICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UoZSlcbiAgICAgICAgICB9fVxuICAgICAgICAgIHR5cGU9e3RoaXMucHJvcHMudHlwZSA/IHRoaXMucHJvcHMudHlwZSA6ICd0ZXh0J31cbiAgICAgICAgICBuYW1lPXt0aGlzLnByb3BzLm5hbWUgPyB0aGlzLnByb3BzLm5hbWUgOiBudWxsfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IElucHV0XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9JbnB1dC9JbnB1dC50c3hcbiAqKi8iLCIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJpbnB1dC13cmFwXCI6XCJpbnB1dC13cmFwXzNkSEEzXCIsXCJpbnB1dFwiOlwiaW5wdXRfMmp1Qk9cIn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9pc29tb3JwaGljL2VsZW1lbnRzL19mb3JtL0lucHV0L0lucHV0LmNzc1xuICoqIG1vZHVsZSBpZCA9IDE3NFxuICoqIG1vZHVsZSBjaHVua3MgPSAyIDMgNCA2IDcgOCA5IDExIDE0IDE1XG4gKiovIiwiaW1wb3J0IFNlbGVjdGl6ZUlucHV0IGZyb20gJy4vU2VsZWN0aXplSW5wdXQnXG5leHBvcnQgZGVmYXVsdCBTZWxlY3RpemVJbnB1dFxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL2lzb21vcnBoaWMvZWxlbWVudHMvX2Zvcm0vU2VsZWN0aXplSW5wdXQvaW5kZXgudHNcbiAqKi8iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgSWNvbiBmcm9tICcuLi8uLi9JY29uJ1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcydcbmltcG9ydCBDU1NNb2R1bGVzIGZyb20gJ3JlYWN0LWNzcy1tb2R1bGVzJ1xuaW1wb3J0IGlzRGVzY2VuZGFudCBmcm9tICcuLi8uLi8uLi91dGlscy9kb20vaXNEZXNjZW5kYW50J1xuY29uc3Qgc3R5bGVzID0gcmVxdWlyZSgnLi9TZWxlY3RpemVJbnB1dC5zY3NzJylcblxudHlwZSBUeXBlT3B0aW9uID0ge1xuICB2YWx1ZTogc3RyaW5nXG4gIG5hbWU6IHN0cmluZ1xuICBkaXNhYmxlZD86IGJvb2xlYW5cbiAgYWRkaXRpb25hbD86IGFueVxufVxuXG50eXBlIFR5cGVWYWx1ZSA9IHtcbiAgdmFsdWU6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbn1cblxuaW50ZXJmYWNlIElQcm9wcyB7XG4gIGNsYXNzTmFtZT86IHN0cmluZ1xuICBwbGFjZWhvbGRlcj86IHN0cmluZ1xuICBsYWJlbD86IHN0cmluZ1xuICBzdGF5Rm9jdXNlZD86IGJvb2xlYW4gLy8gZGVmYXVsdCB0cnVlXG5cbiAgdmFsdWU6IHN0cmluZ1xuICBvbklucHV0Q2hhbmdlOiAobmV3VmFsdWU6IHN0cmluZykgPT4gdm9pZFxuXG4gIG9wdGlvbnM6IEFycmF5PFR5cGVPcHRpb24+XG4gIG9uT3B0aW9uc0NoYW5nZT86IChuZXdWYWx1ZXM6IEFycmF5PFR5cGVPcHRpb24+KSA9PiB2b2lkXG5cbiAgdmFsdWVzOiBBcnJheTxUeXBlVmFsdWU+XG4gIG9uVmFsdWVzQ2hhbmdlOiAobmV3VmFsdWVzOiBBcnJheTxUeXBlVmFsdWU+KSA9PiB2b2lkXG5cbiAgLy8g6aKd5aSW5Yqf6IO9XG4gIG9uQWRkTmV3VmFsdWU/OiAobmV3VmFsdWU6IHN0cmluZykgPT4gdm9pZFxuICBvbk9wdGlvbkNsaWNrPzogKHNlbGVjdGVkVmFsdWU6IFR5cGVPcHRpb24pID0+IHZvaWRcbn1cblxuaW50ZXJmYWNlIElTdGF0ZSB7XG4gIGZvY3VzPzogYm9vbGVhblxuICBzaG93T3B0aW9ucz86IGJvb2xlYW5cbiAgdmFsdWU/OiBzdHJpbmdcbiAgZXhwZW5kZWRPcHRpb25JbmRleD86IG51bWJlclxufVxuXG5AQ1NTTW9kdWxlcyhzdHlsZXMsIHtcbiAgYWxsb3dNdWx0aXBsZTogdHJ1ZVxufSlcbmNsYXNzIFNlbGVjdGl6ZUlucHV0IGV4dGVuZHMgQ29tcG9uZW50PElQcm9wcywgSVN0YXRlPiB7XG5cbiAgaW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnRcbiAgaW5wdXRXcmFwOiBIVE1MRGl2RWxlbWVudFxuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHNob3dPcHRpb25zOiBmYWxzZSxcbiAgICAgIGZvY3VzOiBmYWxzZSxcbiAgICAgIHZhbHVlOiAnJyxcbiAgICAgIGV4cGVuZGVkT3B0aW9uSW5kZXg6IDBcbiAgICB9XG4gICAgdGhpcy5oYW5kbGVPdXRzaWRlQ2xpY2sgPSB0aGlzLmhhbmRsZU91dHNpZGVDbGljay5iaW5kKHRoaXMpXG4gICAgdGhpcy5mb2N1c0lucHV0ID0gdGhpcy5mb2N1c0lucHV0LmJpbmQodGhpcylcbiAgICB0aGlzLmhhbmRsZUlucHV0V3JhcENsaWNrID0gdGhpcy5oYW5kbGVJbnB1dFdyYXBDbGljay5iaW5kKHRoaXMpXG4gIH1cblxuICBhZGRWYWx1ZShuZXdWYWx1ZSkge1xuICAgIHRoaXMucHJvcHMub25WYWx1ZXNDaGFuZ2UodGhpcy5wcm9wcy52YWx1ZXMuY29uY2F0KG5ld1ZhbHVlKSlcbiAgICBpZiAodGhpcy5wcm9wcy5vbk9wdGlvbnNDaGFuZ2UpIHtcbiAgICAgIHRoaXMucHJvcHMub25PcHRpb25zQ2hhbmdlKHRoaXMucHJvcHMub3B0aW9ucy5tYXAob3B0aW9uID0+IChvcHRpb24udmFsdWUgPT09IG5ld1ZhbHVlLnZhbHVlXG4gICAgICAgID8gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9uLCB7IGRpc2FibGVkOiB0cnVlIH0pXG4gICAgICAgIDogb3B0aW9uKSkpXG4gICAgfVxuICAgIHRoaXMuY2xlYXJJbnB1dFZhbHVlKClcbiAgICBpZiAodHlwZW9mIHRoaXMucHJvcHMuc3RheUZvY3VzZWQgPT09ICd1bmRlZmluZWQnIHx8IHRoaXMucHJvcHMuc3RheUZvY3VzZWQgIT09IGZhbHNlKSB7XG4gICAgICB0aGlzLmZvY3VzSW5wdXQoKVxuICAgIH1cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHNob3dPcHRpb25zOiBmYWxzZVxuICAgIH0pXG4gIH1cblxuICByZW1vdmVWYWx1ZShpbmRleCkge1xuICAgIGxldCBuZXdWYWx1ZXMgPSBbXVxuICAgIGxldCByZW1vdmVkVmFsdWVcblxuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgIG5ld1ZhbHVlcyA9IHRoaXMucHJvcHMudmFsdWVzLnNsaWNlKDAsIHRoaXMucHJvcHMudmFsdWVzLmxlbmd0aCAtIDEpXG4gICAgICByZW1vdmVkVmFsdWUgPSB0aGlzLnByb3BzLnZhbHVlc1t0aGlzLnByb3BzLnZhbHVlcy5sZW5ndGggLSAxXS52YWx1ZVxuICAgIH0gZWxzZSB7XG4gICAgICBuZXdWYWx1ZXMgPSB0aGlzLnByb3BzLnZhbHVlc1xuICAgICAgICAuZmlsdGVyKCh2LCBpKSA9PiB7XG4gICAgICAgICAgcmVtb3ZlZFZhbHVlID0gdi52YWx1ZVxuICAgICAgICAgIHJldHVybiBpICE9PSBpbmRleFxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGlmICh0aGlzLnByb3BzLm9uT3B0aW9uc0NoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5vbk9wdGlvbnNDaGFuZ2UodGhpcy5wcm9wcy5vcHRpb25zLm1hcChvcHRpb24gPT4gKG9wdGlvbi52YWx1ZSA9PT0gcmVtb3ZlZFZhbHVlXG4gICAgICAgID8gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9uLCB7IGRpc2FibGVkOiBmYWxzZSB9KVxuICAgICAgICA6IG9wdGlvbikpKVxuICAgIH1cblxuICAgIHRoaXMucHJvcHMub25WYWx1ZXNDaGFuZ2UobmV3VmFsdWVzKVxuICB9XG5cbiAgY2xlYXJJbnB1dFZhbHVlKCkge1xuICAgIHRoaXMucHJvcHMub25JbnB1dENoYW5nZSgnJylcbiAgfVxuXG4gIGhhbmRsZUtleVByZXNzKGUpIHtcbiAgICBpZiAoZS5rZXlDb2RlID09PSA4ICYmICF0aGlzLnByb3BzLnZhbHVlKSB7XG4gICAgICB0aGlzLnJlbW92ZVZhbHVlKC0gMSlcbiAgICB9XG4gICAgLy8gdG9kb1xuICAgIC8vIGlmIChlLmtleUNvZGUgPT09IDEzICYmIHRoaXMuc3RhdGUuc2hvd09wdGlvbnMpIHtcbiAgICAvLyAgIHRoaXMuYWRkVmFsdWUoKVxuICAgIC8vIH1cbiAgfVxuXG4gIGZvY3VzSW5wdXQoKSB7XG4gICAgdGhpcy5pbnB1dC5mb2N1cygpXG4gIH1cblxuICBoYW5kbGVPdXRzaWRlQ2xpY2soZSkge1xuICAgIGlmICghaXNEZXNjZW5kYW50KHRoaXMuaW5wdXRXcmFwLCBlLnRhcmdldCkpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzaG93T3B0aW9uczogZmFsc2VcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgaGFuZGxlSW5wdXRXcmFwQ2xpY2soKSB7XG4gICAgdGhpcy5mb2N1c0lucHV0KClcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2hvd09wdGlvbnM6IHRydWVcbiAgICB9KVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVPdXRzaWRlQ2xpY2spXG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZU91dHNpZGVDbGljaylcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGxhYmVsLCB2YWx1ZXMsIG9uQWRkTmV3VmFsdWUgfSA9IHRoaXMucHJvcHNcblxuICAgIGxldCB2YWx1ZSA9IHRoaXMucHJvcHMudmFsdWUgfHwgJydcbiAgICBsZXQgb3B0aW9ucyA9IHRoaXMucHJvcHMub3B0aW9ucyB8fCBbXVxuXG4gICAgbGV0IGlucHV0V2lkdGggPSB2YWx1ZXMubGVuZ3RoID4gMCA/ICh2YWx1ZS5sZW5ndGggPT09IDAgPyAxNiA6IHZhbHVlLmxlbmd0aCAqIDE2KSA6ICcxMDAlJ1xuICAgIGxldCBwbGFjZWhvbGRlciA9IHZhbHVlcy5sZW5ndGggPiAwID8gJycgOiB0aGlzLnByb3BzLnBsYWNlaG9sZGVyXG5cbiAgICBjb25zdCBzZWxlY3RpemVJbnB1dFN0eWxlTmFtZSA9IGNsYXNzbmFtZXMoe1xuICAgICAgJ3NlbGVjdGl6ZS1pbnB1dCc6IHRydWUsXG4gICAgICAnc2VsZWN0aXplLWlucHV0LS1mb2N1cyc6IHRoaXMuc3RhdGUuZm9jdXMsXG4gICAgICAnc2VsZWN0aXplLWlucHV0LS1lbXB0eSc6IHZhbHVlcy5sZW5ndGggPT09IDBcbiAgICB9KVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgc3R5bGVOYW1lPVwic2VsZWN0aXplLXdyYXBcIiBjbGFzc05hbWU9e3RoaXMucHJvcHMuY2xhc3NOYW1lIHx8ICcnfT5cbiAgICAgICAge1xuICAgICAgICAgIGxhYmVsID8gKFxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZvcm0tbGFiZWxcIj57bGFiZWx9PC9sYWJlbD5cbiAgICAgICAgICApIDogbnVsbFxuICAgICAgICB9XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBzdHlsZU5hbWU9e3NlbGVjdGl6ZUlucHV0U3R5bGVOYW1lfVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlSW5wdXRXcmFwQ2xpY2t9XG4gICAgICAgICAgcmVmPXtyZWYgPT4geyB0aGlzLmlucHV0V3JhcCA9IHJlZiB9IH1cbiAgICAgICAgICA+XG4gICAgICAgICAge1xuICAgICAgICAgICAgdmFsdWVzLm1hcCgodiwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8c3BhbiBrZXk9e2luZGV4fSBzdHlsZU5hbWU9XCJzZWxlY3RpemUtdGFnXCI+XG4gICAgICAgICAgICAgICAgICB7di5uYW1lfVxuICAgICAgICAgICAgICAgICAgPEljb25cbiAgICAgICAgICAgICAgICAgICAgc3R5bGVOYW1lPVwiaWNvbi1yZW1vdmVcIlxuICAgICAgICAgICAgICAgICAgICBzaXplPXsyMH1cbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cImNsb3NlXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVWYWx1ZShpbmRleClcbiAgICAgICAgICAgICAgICAgICAgfSB9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBpbnB1dFdpZHRoIH19XG4gICAgICAgICAgICByZWY9e3JlZiA9PiB7IHRoaXMuaW5wdXQgPSByZWYgfSB9XG4gICAgICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj17cGxhY2Vob2xkZXJ9XG4gICAgICAgICAgICBvbkJsdXI9e2UgPT4ge1xuICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZm9jdXM6IGZhbHNlIH0pXG4gICAgICAgICAgICB9IH1cbiAgICAgICAgICAgIG9uRm9jdXM9e2UgPT4ge1xuICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZm9jdXM6IHRydWUgfSlcbiAgICAgICAgICAgIH0gfVxuICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4ge1xuICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uSW5wdXRDaGFuZ2UoKGUudGFyZ2V0IGFzIGFueSkudmFsdWUpXG4gICAgICAgICAgICB9IH1cbiAgICAgICAgICAgIG9uS2V5RG93bj17ZSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuaGFuZGxlS2V5UHJlc3MoZSlcbiAgICAgICAgICAgIH0gfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnNob3dPcHRpb25zICYmIChvcHRpb25zLmxlbmd0aCAhPT0gMCB8fCBvbkFkZE5ld1ZhbHVlKSA/IChcbiAgICAgICAgICAgIDx1bCBzdHlsZU5hbWU9XCJxdWVyeS1yZXN1bHRzXCI+XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm1hcCgob3B0aW9uLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbi5kaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gPGxpIGtleT17aW5kZXh9IGNsYXNzTmFtZT1cImRpc2FibGVkXCI+e29wdGlvbi5uYW1lfTwvbGk+XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRWYWx1ZShvcHRpb24pXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vbk9wdGlvbkNsaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25PcHRpb25DbGljayhvcHRpb24pXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSB9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPntvcHRpb24ubmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgb25BZGROZXdWYWx1ZSA/IChcbiAgICAgICAgICAgICAgICAgIDxsaVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBvbkFkZE5ld1ZhbHVlKHRoaXMucHJvcHMudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIH0gfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhZGRcIj7mt7vliqAgPHN0cm9uZz57dGhpcy5wcm9wcy52YWx1ZX08L3N0cm9uZz48L2xpPlxuICAgICAgICAgICAgICAgICkgOiBudWxsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgKSA6IG51bGxcbiAgICAgICAgfVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNlbGVjdGl6ZUlucHV0XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiBzcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9TZWxlY3RpemVJbnB1dC9TZWxlY3RpemVJbnB1dC50c3hcbiAqKi8iLCIvLyByZW1vdmVkIGJ5IGV4dHJhY3QtdGV4dC13ZWJwYWNrLXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJzZWxlY3RpemUtd3JhcFwiOlwic2VsZWN0aXplLXdyYXBfM0FNQWlcIixcInNlbGVjdGl6ZS1pbnB1dFwiOlwic2VsZWN0aXplLWlucHV0XzE0YmdQXCIsXCJzZWxlY3RpemUtaW5wdXQtLWZvY3VzXCI6XCJzZWxlY3RpemUtaW5wdXQtLWZvY3VzX1VuWjhCXCIsXCJzZWxlY3RpemUtaW5wdXQtLWVtcHR5XCI6XCJzZWxlY3RpemUtaW5wdXQtLWVtcHR5X3huN1V5XCIsXCJxdWVyeS1yZXN1bHRzXCI6XCJxdWVyeS1yZXN1bHRzX09nRTJ0XCIsXCJzZWxlY3RpemUtdGFnXCI6XCJzZWxlY3RpemUtdGFnXzNhRDEzXCIsXCJpY29uLXJlbW92ZVwiOlwiaWNvbi1yZW1vdmVfMU83Rl9cIn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL3NyYy9pc29tb3JwaGljL2VsZW1lbnRzL19mb3JtL1NlbGVjdGl6ZUlucHV0L1NlbGVjdGl6ZUlucHV0LnNjc3NcbiAqKiBtb2R1bGUgaWQgPSAxNzdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzIDQgNiA3IDggOSAxMSAxNCAxNVxuICoqLyIsImltcG9ydCBUZXh0YXJlYSBmcm9tICcuL1RleHRhcmVhJ1xuZXhwb3J0IGRlZmF1bHQgVGV4dGFyZWFcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9pc29tb3JwaGljL2VsZW1lbnRzL19mb3JtL1RleHRhcmVhL2luZGV4LnRzXG4gKiovIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgUHJvcHMgYXMgSW5wdXRQcm9wcyB9IGZyb20gJy4uL0lucHV0L0lucHV0J1xuaW1wb3J0IENTU01vZHVsZXMgZnJvbSAncmVhY3QtY3NzLW1vZHVsZXMnXG5jb25zdCBzdHlsZXMgPSByZXF1aXJlKCcuL1RleHRhcmVhLmNzcycpXG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBJbnB1dFByb3BzIHtcbn1cblxuQENTU01vZHVsZXMoc3R5bGVzLCB7XG4gIGFsbG93TXVsdGlwbGU6IHRydWVcbn0pXG5jbGFzcyBUZXh0YXJlYSBleHRlbmRzIENvbXBvbmVudDxQcm9wcywgYW55PiB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgc3R5bGVOYW1lPVwidGV4dGFyZWEtd3JhcFwiIGNsYXNzTmFtZT17dGhpcy5wcm9wcy5jbGFzc05hbWUgfHwgJyd9PlxuICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICBwbGFjZWhvbGRlcj17dGhpcy5wcm9wcy5wbGFjZWhvbGRlcn1cbiAgICAgICAgICB2YWx1ZT17dGhpcy5wcm9wcy52YWx1ZX1cbiAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKGUpXG4gICAgICAgICAgfX1cbiAgICAgICAgICBzdHlsZU5hbWU9XCJ0ZXh0YXJlYVwiXG4gICAgICAgICAgdHlwZT17dGhpcy5wcm9wcy50eXBlID8gdGhpcy5wcm9wcy50eXBlIDogJ3RleHQnfVxuICAgICAgICAgIG5hbWU9e3RoaXMucHJvcHMubmFtZSA/IHRoaXMucHJvcHMubmFtZSA6IG51bGx9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVGV4dGFyZWFcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9pc29tb3JwaGljL2VsZW1lbnRzL19mb3JtL1RleHRhcmVhL1RleHRhcmVhLnRzeFxuICoqLyIsIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcInRleHRhcmVhLXdyYXBcIjpcInRleHRhcmVhLXdyYXBfWGtwajEgaW5wdXQtd3JhcF8zZEhBM1wiLFwidGV4dGFyZWFcIjpcInRleHRhcmVhXzFFZG9TXCJ9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9zcmMvaXNvbW9ycGhpYy9lbGVtZW50cy9fZm9ybS9UZXh0YXJlYS9UZXh0YXJlYS5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxODBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMiAzIDQgNiA3IDggOSAxMSAxNCAxNVxuICoqLyIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQgeyByZXNldCB9IGZyb20gJ3JlZHV4LWZvcm0nXG5pbXBvcnQgeyBzZW5kTm90aWZpY2F0aW9uLCBjaGFuZ2VWYWx1ZSwgb3Blbk1vZGFsLCBzZWFyY2hEb3ViYW5Cb29rcywgY2xvc2VNb2RhbCwgZmV0Y2hBdXRob3JzIH0gZnJvbSAnLi4vLi4vc3RvcmUvYWN0aW9ucydcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCdcbmltcG9ydCBhcGlzIGZyb20gJy4uLy4uL2FwaXMnXG5pbXBvcnQgRG9jQ29udGFpbmVyIGZyb20gJy4uLy4uL2NvbnRhaW5lcnMvRG9jQ29udGFpbmVyJ1xuaW1wb3J0IEFkZEJvb2tGb3JtIGZyb20gJy4vY29tcG9uZW50cy9BZGRCb29rRm9ybSdcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgZWxlbWVudHM/OiBhbnlcbiAgY2hhbmdlVmFsdWU/OiBhbnlcbiAgc2VuZE5vdGlmaWNhdGlvbj86IGFueVxuICBvcGVuTW9kYWw/OiAoZGF0YTogb3Blbk1vZGFsKSA9PiB2b2lkXG4gIHNlYXJjaERvdWJhbkJvb2tzPzogYW55XG4gIGNsb3NlTW9kYWw/OiBhbnlcbiAgZmV0Y2hBdXRob3JzPzogYW55XG4gIHJlc2V0PzogYW55XG59XG5cbmludGVyZmFjZSBTdGF0ZSB7XG4gIGFkZEJvb2tGb3JtSW5pdGlhbERhdGE/OiBhbnlcbn1cblxuY2xhc3MgQWRkQm9vayBleHRlbmRzIENvbXBvbmVudDxQcm9wcywgU3RhdGU+IHtcblxuICBkZWZhdWx0U3RhdGU6IHt9XG4gIGZldGNoRG91YmFuQm9va3M6IGFueVxuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGFkZEJvb2tGb3JtSW5pdGlhbERhdGE6IHt9XG4gICAgfVxuXG4gICAgdGhpcy5oYW5kbGVUaXRsZVZhbHVlQ2hhbmdlID0gdGhpcy5oYW5kbGVUaXRsZVZhbHVlQ2hhbmdlLmJpbmQodGhpcylcbiAgICB0aGlzLmhhbmRsZUF1dGhvclZhbHVlQ2hhbmdlID0gdGhpcy5oYW5kbGVBdXRob3JWYWx1ZUNoYW5nZS5iaW5kKHRoaXMpXG4gICAgdGhpcy5hZGRBdXRob3IgPSB0aGlzLmFkZEF1dGhvci5iaW5kKHRoaXMpXG4gICAgdGhpcy5hZGRCb29rID0gdGhpcy5hZGRCb29rLmJpbmQodGhpcylcbiAgfVxuXG4gIGFkZEJvb2soZGF0YSkge1xuICAgIGFwaXMuYWRkQm9vayhkYXRhKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICB0aGlzLnByb3BzLnNlbmROb3RpZmljYXRpb24oJ+a3u+WKoOaIkOWKnycpXG4gICAgICB0aGlzLnByb3BzLnJlc2V0KCdhZGRCb29rJylcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBhZGRCb29rRm9ybUluaXRpYWxEYXRhOiB7fVxuICAgICAgfSlcbiAgICB9LCBlcnJvciA9PiB7XG4gICAgICB0aGlzLnByb3BzLnNlbmROb3RpZmljYXRpb24oZXJyb3IubWVzc2FnZSwgJ2Vycm9yJylcbiAgICB9KVxuICB9XG5cbiAgYWRkQXV0aG9yKGRhdGEpIHtcbiAgICBhcGlzLmFkZEF1dGhvcihkYXRhKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICB0aGlzLnByb3BzLnNlbmROb3RpZmljYXRpb24oJ+a3u+WKoOaIkOWKnycpXG4gICAgICBjb25zdCBpZCA9IHJlc3VsdC5qc29uLm9wc1swXS5faWRcbiAgICAgIGNvbnN0IG5hbWUgPSByZXN1bHQuanNvbi5vcHNbMF0ubmFtZVxuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgYWRkQm9va0Zvcm1Jbml0aWFsRGF0YToge1xuICAgICAgICAgIF9hdXRob3JWYWx1ZXM6IFt7XG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgdmFsdWU6IGlkXG4gICAgICAgICAgfV0sXG4gICAgICAgICAgX2F1dGhvclZhbHVlOiAnJ1xuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICB0aGlzLnByb3BzLmNsb3NlTW9kYWwoKVxuICAgIH0sIGVycm9yID0+IHtcbiAgICAgIHRoaXMucHJvcHMuc2VuZE5vdGlmaWNhdGlvbihlcnJvci5tZXNzYWdlKVxuICAgIH0pXG4gIH1cblxuICBoYW5kbGVBdXRob3JWYWx1ZUNoYW5nZShxdWVyeSkge1xuICAgIGlmICghXy5pc0VtcHR5KHF1ZXJ5KSkge1xuICAgICAgdGhpcy5wcm9wcy5mZXRjaEF1dGhvcnMoe1xuICAgICAgICBxOiBxdWVyeVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBoYW5kbGVUaXRsZVZhbHVlQ2hhbmdlKG5ld1ZhbCkge1xuICAgIGlmICghXy5pc0VtcHR5KG5ld1ZhbCkpIHtcbiAgICAgIHRoaXMucHJvcHMuc2VhcmNoRG91YmFuQm9va3MobmV3VmFsKVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPERvY0NvbnRhaW5lciB0aXRsZT1cIua3u+WKoOS5puexjVwiPlxuICAgICAgICA8aDEgY2xhc3NOYW1lPVwicGFnZS10aXRsZVwiPua3u+WKoOS5puexjTwvaDE+XG4gICAgICAgIDxBZGRCb29rRm9ybVxuICAgICAgICAgIG9uVGl0bGVJbnB1dENoYW5nZT17dGhpcy5oYW5kbGVUaXRsZVZhbHVlQ2hhbmdlfVxuICAgICAgICAgIG9uQXV0aG9ySW5wdXRDaGFuZ2U9e3RoaXMuaGFuZGxlQXV0aG9yVmFsdWVDaGFuZ2V9XG4gICAgICAgICAgb25TYXZlQXV0aG9yPXt0aGlzLmFkZEF1dGhvcn1cbiAgICAgICAgICBpbml0aWFsRGF0YT17dGhpcy5zdGF0ZS5hZGRCb29rRm9ybUluaXRpYWxEYXRhfVxuICAgICAgICAgIG9uU2F2ZUJvb2s9e3RoaXMuYWRkQm9va31cbiAgICAgICAgLz5cbiAgICAgIDwvRG9jQ29udGFpbmVyPlxuICAgIClcbiAgfVxufVxuXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSBzdGF0ZSA9PiB7XG4gIHJldHVybiB7XG4gICAgbm90aWZpY2F0aW9uOiBzdGF0ZS5jb21wb25lbnRzLm5vdGlmaWNhdGlvbixcbiAgICBlbGVtZW50czogc3RhdGUuZWxlbWVudHNcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KFxuICBtYXBTdGF0ZVRvUHJvcHMsXG4gIHsgc2VuZE5vdGlmaWNhdGlvbiwgY2hhbmdlVmFsdWUsIG9wZW5Nb2RhbCwgc2VhcmNoRG91YmFuQm9va3MsIGNsb3NlTW9kYWwsIGZldGNoQXV0aG9ycywgcmVzZXQgfVxuKShBZGRCb29rIGFzIGFueSlcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9pc29tb3JwaGljL3JvdXRlcy9BZGRCb29rL0FkZEJvb2sudHN4XG4gKiovIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4J1xuaW1wb3J0IHsgcmVkdXhGb3JtIH0gZnJvbSAncmVkdXgtZm9ybSdcbmltcG9ydCB7IHNlbmROb3RpZmljYXRpb24sIG9wZW5Nb2RhbCB9IGZyb20gJy4uLy4uLy4uL3N0b3JlL2FjdGlvbnMnXG5pbXBvcnQgKiBhcyBzZWxlY3RvcnMgZnJvbSAnLi4vLi4vLi4vc3RvcmUvc2VsZWN0b3JzJ1xuaW1wb3J0IElucHV0IGZyb20gJy4uLy4uLy4uL2VsZW1lbnRzL19mb3JtL0lucHV0J1xuaW1wb3J0IFRleHRhcmVhIGZyb20gJy4uLy4uLy4uL2VsZW1lbnRzL19mb3JtL1RleHRhcmVhJ1xuaW1wb3J0IHsgQnV0dG9uLCBTZWxlY3RpemVJbnB1dH0gZnJvbSAnLi4vLi4vLi4vZWxlbWVudHMvX2Zvcm0nXG5pbXBvcnQgQWRkQXV0aG9yRm9ybSBmcm9tICcuL0FkZEF1dGhvckZvcm0nXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnXG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIGluaXRpYWxEYXRhPzogYW55XG4gIG9uVGl0bGVJbnB1dENoYW5nZT86IChuZXdWYWw6IHN0cmluZykgPT4gdm9pZFxuICBvbkF1dGhvcklucHV0Q2hhbmdlPzogKG5ld1ZhbDogc3RyaW5nKSA9PiB2b2lkXG4gIG9uU2F2ZUF1dGhvcjogKGRhdGE6IGFueSkgPT4gdm9pZFxuICBvblNhdmVCb29rOiAoZGF0YTogYW55KSA9PiB2b2lkXG59XG5cbmludGVyZmFjZSBBbGxQcm9wcyBleHRlbmRzIFByb3BzIHtcbiAgcm91dGluZzogYW55XG4gIHNlbmROb3RpZmljYXRpb246IGFueVxuICBoYW5kbGVTdWJtaXQ6IGFueVxuICBmaWVsZHM6IGFueVxuICBkb3ViYW5Cb29rc0FzT3B0aW9uczogYW55W11cbiAgYXV0aG9yc0FzT3B0aW9uczogYW55W11cbiAgb3Blbk1vZGFsOiAoZGF0YTogb3Blbk1vZGFsKSA9PiB2b2lkXG59XG5cbmNvbnN0IGZpZWxkcyA9IFsnX3RpdGxlVmFsdWUnLCAnX3RpdGxlVmFsdWVzJywgJ19hdXRob3JWYWx1ZScsICdfYXV0aG9yVmFsdWVzJywgJ2NvdmVyJywgJ2Rlc2NyaXB0aW9uJywgJ2NvbnRlbnQnXVxuXG5AcmVkdXhGb3JtKHtcbiAgZm9ybTogJ2FkZEJvb2snLFxuICBmaWVsZHNcbn0pXG5jbGFzcyBBZGRCb29rRm9ybSBleHRlbmRzIENvbXBvbmVudDxBbGxQcm9wcywge30+IHtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuICAgIHRoaXMuaGFuZGxlVGl0bGVPcHRpb25DbGljayA9IHRoaXMuaGFuZGxlVGl0bGVPcHRpb25DbGljay5iaW5kKHRoaXMpXG4gIH1cblxuICBoYW5kbGVUaXRsZU9wdGlvbkNsaWNrKG9wdGlvbikge1xuICAgIGNvbnN0IHtcbiAgICAgIGZpZWxkczogeyBfdGl0bGVWYWx1ZSwgX3RpdGxlVmFsdWVzLCBfYXV0aG9yVmFsdWUsIGNvdmVyLCBkZXNjcmlwdGlvbiB9LFxuICAgIH0gPSB0aGlzLnByb3BzXG5cbiAgICBjb3Zlci5vbkNoYW5nZShvcHRpb24uYWRkaXRpb25hbC5jb3ZlcilcbiAgICBfYXV0aG9yVmFsdWUub25DaGFuZ2Uob3B0aW9uLmFkZGl0aW9uYWwuYXV0aG9yKVxuICAgIGRlc2NyaXB0aW9uLm9uQ2hhbmdlKG9wdGlvbi5hZGRpdGlvbmFsLmRlc2NyaXB0aW9uKVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGZpZWxkczogeyBfdGl0bGVWYWx1ZSwgX3RpdGxlVmFsdWVzLCBfYXV0aG9yVmFsdWUsIF9hdXRob3JWYWx1ZXMsIGNvdmVyLCBkZXNjcmlwdGlvbiwgY29udGVudCB9LFxuICAgICAgaGFuZGxlU3VibWl0LFxuICAgICAgb25UaXRsZUlucHV0Q2hhbmdlLFxuICAgICAgb25BdXRob3JJbnB1dENoYW5nZSxcbiAgICAgIGRvdWJhbkJvb2tzQXNPcHRpb25zLFxuICAgICAgYXV0aG9yc0FzT3B0aW9ucyxcbiAgICAgIG9uU2F2ZUF1dGhvcixcbiAgICAgIG9uU2F2ZUJvb2tcbiAgICB9ID0gdGhpcy5wcm9wc1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxTZWxlY3RpemVJbnB1dFxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwi5Lmm5ZCNXCJcbiAgICAgICAgICBvbklucHV0Q2hhbmdlPXtuZXdWYWx1ZSA9PiB7XG4gICAgICAgICAgICBvblRpdGxlSW5wdXRDaGFuZ2UobmV3VmFsdWUpXG4gICAgICAgICAgICBfdGl0bGVWYWx1ZS5vbkNoYW5nZShuZXdWYWx1ZSlcbiAgICAgICAgICB9IH1cbiAgICAgICAgICB2YWx1ZT17X3RpdGxlVmFsdWUudmFsdWV9XG4gICAgICAgICAgb25WYWx1ZXNDaGFuZ2U9e25ld1ZhbHVlcyA9PiB7XG4gICAgICAgICAgICBfdGl0bGVWYWx1ZXMub25DaGFuZ2UobmV3VmFsdWVzKVxuICAgICAgICAgIH0gfVxuICAgICAgICAgIG9wdGlvbnM9e2RvdWJhbkJvb2tzQXNPcHRpb25zfVxuICAgICAgICAgIHZhbHVlcz17X3RpdGxlVmFsdWVzLnZhbHVlIHx8IFtdfVxuICAgICAgICAgIG9uT3B0aW9uQ2xpY2s9e3RoaXMuaGFuZGxlVGl0bGVPcHRpb25DbGlja31cbiAgICAgICAgICAvPlxuICAgICAgICA8U2VsZWN0aXplSW5wdXRcbiAgICAgICAgICBwbGFjZWhvbGRlcj1cIuS9nOiAhVwiXG4gICAgICAgICAgb25JbnB1dENoYW5nZT17bmV3VmFsdWUgPT4ge1xuICAgICAgICAgICAgb25BdXRob3JJbnB1dENoYW5nZShuZXdWYWx1ZSlcbiAgICAgICAgICAgIF9hdXRob3JWYWx1ZS5vbkNoYW5nZShuZXdWYWx1ZSlcbiAgICAgICAgICB9IH1cbiAgICAgICAgICB2YWx1ZT17X2F1dGhvclZhbHVlLnZhbHVlfVxuICAgICAgICAgIG9uVmFsdWVzQ2hhbmdlPXtuZXdWYWx1ZXMgPT4ge1xuICAgICAgICAgICAgX2F1dGhvclZhbHVlcy5vbkNoYW5nZShuZXdWYWx1ZXMpXG4gICAgICAgICAgfSB9XG4gICAgICAgICAgb3B0aW9ucz17YXV0aG9yc0FzT3B0aW9uc31cbiAgICAgICAgICB2YWx1ZXM9e19hdXRob3JWYWx1ZXMudmFsdWUgfHwgW119XG4gICAgICAgICAgb25BZGROZXdWYWx1ZT17dmFsdWUgPT4ge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5vcGVuTW9kYWwoe1xuICAgICAgICAgICAgICB0aXRsZTogJ+a3u+WKoOS9nOiAhScsXG4gICAgICAgICAgICAgIGNvbnRlbnQ6IDxBZGRBdXRob3JGb3JtXG4gICAgICAgICAgICAgICAgaW5pdGlhbERhdGE9e3sgbmFtZTogdmFsdWUgfX1cbiAgICAgICAgICAgICAgICBvblNhdmU9e29uU2F2ZUF1dGhvcn1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9IH1cbiAgICAgICAgICAvPlxuICAgICAgICA8SW5wdXQgcGxhY2Vob2xkZXI9XCLlsIHpnaLlm77niYflnLDlnYBcIiB7Li4uY292ZXJ9IC8+XG4gICAgICAgIDxUZXh0YXJlYSBwbGFjZWhvbGRlcj1cIuaPj+i/sFwiIHsuLi5kZXNjcmlwdGlvbn0gLz5cbiAgICAgICAgPFRleHRhcmVhIHBsYWNlaG9sZGVyPVwi5Zyo5q2k57KY6LS05Lmm57GN5YaF5a65IChtYXJrZG93biDmoLzlvI8pXCIgey4uLmNvbnRlbnR9IC8+XG4gICAgICAgIDxCdXR0b24gb25DbGljaz17aGFuZGxlU3VibWl0KGRhdGEgPT4ge1xuICAgICAgICAgIGxldCBwb3N0RGF0YSA9IF8ucGljayhkYXRhLCBbJ2NvdmVyJywgJ2Rlc2NyaXB0aW9uJywgJ2NvbnRlbnQnXSlcbiAgICAgICAgICBwb3N0RGF0YSA9IF8uYXNzaWduKHt9LCBwb3N0RGF0YSwge1xuICAgICAgICAgICAgdGl0bGU6IF8uZ2V0KF90aXRsZVZhbHVlcywgJ3ZhbHVlWzBdLm5hbWUnLCAnJyksXG4gICAgICAgICAgICBhdXRob3JzOiBBcnJheS5pc0FycmF5KF9hdXRob3JWYWx1ZXMudmFsdWUpID8gX2F1dGhvclZhbHVlcy52YWx1ZS5tYXAodiA9PiB2LnZhbHVlKSA6IFtdXG4gICAgICAgICAgfSlcbiAgICAgICAgICBvblNhdmVCb29rKHBvc3REYXRhKVxuICAgICAgICB9KSB9Pua3u+WKoDwvQnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZSwgb3duUHJvcHMpID0+IHtcbiAgY29uc3QgZG91YmFuQm9va1F1ZXJ5ID0gXy5nZXQoc3RhdGUuZm9ybSwgJ2FkZEJvb2suX3RpdGxlVmFsdWUudmFsdWUnLCAnJylcbiAgY29uc3QgYXV0aG9yc1F1ZXJ5ID0gXy5nZXQoc3RhdGUuZm9ybSwgJ2FkZEJvb2suX2F1dGhvclZhbHVlLnZhbHVlJywgJycpXG5cbiAgcmV0dXJuIHtcbiAgICBpbml0aWFsVmFsdWVzOiBvd25Qcm9wcy5pbml0aWFsRGF0YSxcbiAgICByb3V0aW5nOiBzdGF0ZS5yb3V0aW5nLmxvY2F0aW9uQmVmb3JlVHJhbnNpdGlvbnMsXG4gICAgZG91YmFuQm9va3NBc09wdGlvbnM6IHNlbGVjdG9ycy5kb3ViYW5Cb29rc0FzT3B0aW9ucyhkb3ViYW5Cb29rUXVlcnkpKHN0YXRlKSxcbiAgICBhdXRob3JzQXNPcHRpb25zOiBzZWxlY3RvcnMuYXV0aG9yc0FzT3B0aW9ucyhhdXRob3JzUXVlcnkpKHN0YXRlKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3Q8e30sIHt9LCBQcm9wcz4oXG4gIG1hcFN0YXRlVG9Qcm9wcyxcbiAgeyBzZW5kTm90aWZpY2F0aW9uLCBvcGVuTW9kYWwgfVxuKShBZGRCb29rRm9ybSlcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHNyYy9pc29tb3JwaGljL3JvdXRlcy9BZGRCb29rL2NvbXBvbmVudHMvQWRkQm9va0Zvcm0udHN4XG4gKiovIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4J1xuaW1wb3J0IHsgcmVkdXhGb3JtIH0gZnJvbSAncmVkdXgtZm9ybSdcbmltcG9ydCB7IHNlbmROb3RpZmljYXRpb24sIGNsb3NlTW9kYWwgfSBmcm9tICcuLi8uLi8uLi9zdG9yZS9hY3Rpb25zJ1xuaW1wb3J0IElucHV0IGZyb20gJy4uLy4uLy4uL2VsZW1lbnRzL19mb3JtL0lucHV0J1xuaW1wb3J0IE1vZGFsRm9vdGVyIGZyb20gJy4uLy4uLy4uL2VsZW1lbnRzL01vZGFsL01vZGFsRm9vdGVyJ1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICBpbml0aWFsRGF0YT86IGFueVxuICBvblNhdmU6IChkYXRhOiBhbnkpID0+IHZvaWRcbn1cblxuaW50ZXJmYWNlIEFsbFByb3BzIGV4dGVuZHMgUHJvcHMge1xuICByb3V0aW5nOiBhbnlcbiAgc2VuZE5vdGlmaWNhdGlvbjogYW55XG4gIGhhbmRsZVN1Ym1pdDogYW55XG4gIGZpZWxkczogYW55XG4gIGNsb3NlTW9kYWw6ICgpID0+IHZvaWRcbn1cblxuaW50ZXJmYWNlIFN0YXRlIHtcbn1cblxuQHJlZHV4Rm9ybSh7XG4gIGZvcm06ICdhZGRBdXRob3InLFxuICBmaWVsZHM6IFsnbmFtZScsICdzbHVnJywgJ2Rlc2NyaXB0aW9uJ10sXG59KVxuY2xhc3MgQWRkQXV0aG9yRm9ybSBleHRlbmRzIENvbXBvbmVudDxBbGxQcm9wcywgU3RhdGU+IHtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgZmllbGRzOiB7IG5hbWUsIHNsdWcsIGRlc2NyaXB0aW9uIH0sXG4gICAgICBoYW5kbGVTdWJtaXQsXG4gICAgICBjbG9zZU1vZGFsLFxuICAgICAgb25TYXZlXG4gICAgfSA9IHRoaXMucHJvcHNcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8SW5wdXQgcGxhY2Vob2xkZXI9XCLlkI3lrZdcIiB7Li4ubmFtZX0gLz5cbiAgICAgICAgPElucHV0IHBsYWNlaG9sZGVyPVwi5ZSv5LiA5qCH6K+GXCIgey4uLnNsdWd9IC8+XG4gICAgICAgIDxJbnB1dCBwbGFjZWhvbGRlcj1cIuaPj+i/sFwiIHsuLi5kZXNjcmlwdGlvbn0gLz5cbiAgICAgICAgPE1vZGFsRm9vdGVyXG4gICAgICAgICAgb25Db25maXJtPXtoYW5kbGVTdWJtaXQoZGF0YSA9PiB7XG4gICAgICAgICAgICBvblNhdmUoZGF0YSlcbiAgICAgICAgICB9KX1cbiAgICAgICAgICBvbkNhbmNlbD17Y2xvc2VNb2RhbH1cbiAgICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3Q8e30sIHt9LCBQcm9wcz4oXG4gIChzdGF0ZSwgb3duUHJvcHMpID0+ICh7XG4gICAgaW5pdGlhbFZhbHVlczogb3duUHJvcHMuaW5pdGlhbERhdGEsXG4gICAgcm91dGluZzogc3RhdGUucm91dGluZy5sb2NhdGlvbkJlZm9yZVRyYW5zaXRpb25zXG4gIH0pLFxuICB7IHNlbmROb3RpZmljYXRpb24sIGNsb3NlTW9kYWwgfVxuKShBZGRBdXRob3JGb3JtKVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogc3JjL2lzb21vcnBoaWMvcm91dGVzL0FkZEJvb2svY29tcG9uZW50cy9BZGRBdXRob3JGb3JtLnRzeFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=