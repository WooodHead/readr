webpackJsonp([4],{0:function(e,t,n){e.exports=n(232)},13:function(e,t,n){"use strict";function o(e,t){return{type:"CHANGE_VALUE",name:e,value:t}}function r(e,t){return{type:"UPDATE_ELEMENT",name:e,data:t}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(79);Object.keys(a).forEach(function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var u=n(80);Object.keys(u).forEach(function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})});var i=n(81);Object.keys(i).forEach(function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}),t.changeValue=o,t.updateElement=r},25:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Textarea=t.SelectizeInput=t.Input=t.Button=void 0;var r=n(44),a=o(r),u=n(32),i=o(u),l=n(45),s=o(l),c=n(33),f=o(c);t.Button=a["default"],t.Input=i["default"],t.SelectizeInput=s["default"],t.Textarea=f["default"]},26:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(46),a=o(r);t["default"]=a["default"]},32:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),s=o(l),c=function(e){function t(e){return r(this,t),a(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),i(t,[{key:"render",value:function(){var e=this,t=this.props.className?"input-wrap "+this.props.className:"input-wrap",n=Object.assign({},this.props);return delete n.className,s["default"].createElement("div",{className:t},s["default"].createElement("input",{placeholder:this.props.placeholder,value:this.props.value,onChange:function(t){e.props.onChange(t)},type:this.props.type?this.props.type:"text",name:this.props.name?this.props.name:null}))}}]),t}(l.Component);t["default"]=c},33:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),s=o(l),c=function(e){function t(e){return r(this,t),a(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),i(t,[{key:"render",value:function(){var e=this,t=this.props.className?"textarea-wrap "+this.props.className:"textarea-wrap",n=Object.assign({},this.props);return delete n.className,s["default"].createElement("div",{className:t},s["default"].createElement("textarea",{placeholder:this.props.placeholder,value:this.props.value,onChange:function(t){e.props.onChange(t)},type:this.props.type?this.props.type:"text",name:this.props.name?this.props.name:null}))}}]),t}(l.Component);t["default"]=c},42:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="undefined"!=typeof window?window.location.origin:"http://localhost:3000",o={LOCAL:n+"/api/",DOUBAN_BOOKS:"https://api.douban.com/v2/book/"};t["default"]=o},43:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),s=o(l),c=n(8),f=function(e){function t(e){return r(this,t),a(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),i(t,[{key:"render",value:function(){var e=this,t=this.props.className?"btn "+this.props.className:"btn",n=this.props.size?this.props.size:"medium",o=this.props.isFluid?this.props.isFluid:!1,r=this.props.color?this.props.color:null,a=void 0;"small"===n?t+=" btn-small":"large"===n?t+=" btn-large":"medium"===n?t+=" btn-medium":console.error("Unsupport size!"),r&&(t+=" btn-"+r),o&&(t+=" btn-fluid"),a=this.props.to?function(t){t.preventDefault(),c.browserHistory.push(e.props.to)}:function(t){t.preventDefault(),e.props.onClick&&e.props.onClick(t)};var u=Object.assign({},this.props,{className:t},{onClick:a});return delete u.to,delete u.color,delete u.size,delete u.isFluid,s["default"].createElement("button",u,this.props.children)}}]),t}(l.Component);t["default"]=f},44:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),a=o(r);t["default"]=a["default"]},45:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),s=o(l),c=n(26),f=o(c),p=function(e){function t(e){r(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.state={showOptions:!1,focus:!1,value:"",expendedOptionIndex:0},n.hideOptions=n.hideOptions.bind(n),n.focusInput=n.focusInput.bind(n),n.showOptions=n.showOptions.bind(n),n}return u(t,e),i(t,[{key:"addValue",value:function(e){this.props.onValuesChange(this.props.values.concat(e)),this.props.onOptionsChange&&this.props.onOptionsChange(this.props.options.map(function(t){return t.value===e.value?Object.assign({},t,{disabled:!0}):t})),this.clearInputValue(),"undefined"!=typeof this.props.stayFocused&&this.props.stayFocused===!1||this.focusInput(),this.hideOptions()}},{key:"removeValue",value:function(e){var t=[],n=void 0;-1===e?(t=this.props.values.slice(0,this.props.values.length-1),n=this.props.values[this.props.values.length-1].value):t=this.props.values.filter(function(t,o){return n=t.value,o!==e}),this.props.onOptionsChange&&this.props.onOptionsChange(this.props.options.map(function(e){return e.value===n?Object.assign({},e,{disabled:!1}):e})),this.props.onValuesChange(t)}},{key:"clearInputValue",value:function(){this.props.onInputChange("")}},{key:"handleKeyPress",value:function(e){8!==e.keyCode||this.props.value||this.removeValue(-1)}},{key:"focusInput",value:function(){this.input.focus()}},{key:"hideOptions",value:function(){this.setState({showOptions:!1})}},{key:"showOptions",value:function(e){e.stopPropagation(),this.setState({showOptions:!0})}},{key:"componentDidMount",value:function(){window.addEventListener("click",this.hideOptions)}},{key:"componentDidUpdate",value:function(e,t){}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.hideOptions)}},{key:"render",value:function(){var e=this,t=this.props.label?this.props.label:null,n=this.props.value?this.props.value:"",o=this.props.values,r=this.props.options?this.props.options:[],a=o.length>0?0===n.length?16:16*n.length:"100%",u=o.length>0?"":this.props.placeholder,i="selectize-input"+(this.state.focus===!0?" focus":"")+(0===o.length?" empty":""),l=this.props.addNewValue?this.props.addNewValue:void 0;return s["default"].createElement("div",{className:("selectize-input-wrap "+(this.props.className?this.props.className:"")).trim()},t?s["default"].createElement("label",{className:"form-label"},t):null,s["default"].createElement("div",{className:i,onClick:function(t){e.focusInput(),e.showOptions(t)}},o.map(function(t,n){return s["default"].createElement("span",{key:n,className:"selectize-tag"},t.name,s["default"].createElement(f["default"],{size:"small",name:"close",onClick:function(t){e.removeValue(n)}}))}),s["default"].createElement("input",{style:{width:a},ref:function(t){e.input=t},value:n,placeholder:u,onBlur:function(t){e.setState({focus:!1})},onFocus:function(t){e.setState({focus:!0})},onChange:function(t){e.props.onInputChange(t.target.value)},onKeyDown:function(t){e.handleKeyPress(t)}})),this.state.showOptions?s["default"].createElement("ul",{className:"selectize-query-results"},r.map(function(t,n){return t.disabled?s["default"].createElement("li",{key:n,className:"disabled"},t.name):s["default"].createElement("li",{key:n,onClick:function(n){e.addValue(t),e.props.onOptionClick&&e.props.onOptionClick(t)}},s["default"].createElement("span",null,t.name))}),l?s["default"].createElement("li",{onClick:function(t){e.props.onAddNewValue(e.props.value)},className:"add"},"添加 ",s["default"].createElement("strong",null,this.props.value)):null):null)}}]),t}(l.Component);t["default"]=p},46:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=n(1),c=o(s),f=n(51),p=o(f),d=n(47),h=o(d),m=n(18),y=o(m),b=function(e,t,n,o){var r,a=arguments.length,u=3>a?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(u=(3>a?r(u):a>3?r(t,n,u):r(t,n))||u);return a>3&&u&&Object.defineProperty(t,n,u),u},v=n(52),O=function(e){function t(e){return r(this,t),a(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),i(t,[{key:"render",value:function(){var e=this.props.name,t=this.props.onClick,n=this.props.size,o=(0,p["default"])("icon","icon-"+e,n,this.props.className);return"undefined"==typeof h["default"][e]&&console.error("Icon name (%s) not found! ",e),c["default"].createElement("span",{styleName:"icon",className:o,onClick:t},c["default"].createElement("svg",{styleName:"svg-shape",style:{fill:"currentColor"}},c["default"].createElement("path",{d:h["default"][e]})))}}]),t}(s.Component);O=b([(0,y["default"])(v,{allowMultiple:!0})],O),t["default"]=O},47:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={close:"M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z",star:"M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74z",users:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z",folder:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z",database:"M20.2 5.9l.8-.8C19.6 3.7 17.8 3 16 3s-3.6.7-5 2.1l.8.8C13 4.8 14.5 4.2 16 4.2s3 .6 4.2 1.7zm-.9.8c-.9-.9-2.1-1.4-3.3-1.4s-2.4.5-3.3 1.4l.8.8c.7-.7 1.6-1 2.5-1 .9 0 1.8.3 2.5 1l.8-.8zM19 13h-2V9h-2v4H5c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2zM8 18H6v-2h2v2zm3.5 0h-2v-2h2v2zm3.5 0h-2v-2h2v2z",statistics:"M21 2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7v2H8v2h8v-2h-2v-2h7c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H3V4h18v12z",books:"M20.54 5.23l-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27zM12 17.5L6.5 12H10v-2h4v2h3.5L12 17.5zM5.12 5l.81-1h12l.94 1H5.12z"}},48:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),s=o(l),c=function(e){function t(){return r(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),i(t,[{key:"render",value:function(){var e=(this.props.isFluid?"container-fluid":"container")+(this.props.className?" "+this.props.className:"");return s["default"].createElement("div",{className:e},this.props.children)}}]),t}(l.Component);t["default"]=c},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Schemas=void 0;var o=n(53),r=new o.Schema("books",{idAttribute:"id"}),a=new o.Schema("bookCollections",{idAttribute:"id"}),u=new o.Schema("profiles",{idAttribute:"id"}),i=new o.Schema("users",{idAttribute:"id"}),l=new o.Schema("doubanBooks",{idAttribute:"id"}),s=new o.Schema("books",{idAttribute:"bookId"}),c=new o.Schema("books",{idAttribute:"bookId"});t.Schemas={BOOK:r,BOOK_PROGRESS:s,BOOK_ARRAY:(0,o.arrayOf)(r),DOUBAN_BOOK_SEARCH_RESULTS:{books:(0,o.arrayOf)(l)},USER_ARRAY:(0,o.arrayOf)(i),MATCHED_BOOK_ARRAY:(0,o.arrayOf)(c),COLLECTION:a,COLLECTION_ARRAY:(0,o.arrayOf)(a),PROFILE:u}},50:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=void 0;return e.forEach(function(e){t=e.className}),t}function l(e){"undefined"!=typeof e?document.body.className=e:document.body.removeAttribute("class")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(1),f=o(c),p=n(67),d=o(p),h=function(e){function t(){return r(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),s(t,[{key:"render",value:function(){return f["default"].createElement("div",{className:"react-body-class hidden"})}}]),t}(c.Component);t["default"]=(0,d["default"])(i,l)(h)},51:function(e,t,n){var o,r;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var r=typeof o;if("string"===r||"number"===r)e.push(o);else if(Array.isArray(o))e.push(n.apply(null,o));else if("object"===r)for(var u in o)a.call(o,u)&&o[u]&&e.push(u)}}return e.join(" ")}var a={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(o=[],r=function(){return n}.apply(t,o),!(void 0!==r&&(e.exports=r)))}()},52:function(e,t){e.exports={"svg-shape":"___icon__svg-shape__2Xc3v",icon:"___icon__icon__1gYYs"}},58:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=function(e){var t=Object.assign({},s,e),n=t.method,o=t.data,r=t.credentials,a=t.dataType,i={};if(n&&(i.method=n),r&&(i.credentials=r),"POST"===n){var l=void 0,c=void 0;"json"===a?(l="application/json",c=JSON.stringify(o)):"urlencoded"===a?(l="application/x-www-form-urlencoded",c=(0,u["default"])(o)):(a="urlencoded",l="application/x-www-form-urlencoded",c=(0,u["default"])(o),console.warn('Unsupported dataType used "urlencoded" instead!')),i.headers={"Content-Type":l,"Access-Control-Request-Method":"POST"},i.body=c}return"DELETE"===n&&(i.headers={"Access-Control-Request-Method":"DELETE"}),i};return fetch(e,n(t)).then(function(e){return e.json().then(function(t){return{json:t,response:e}})}).then(function(e){var n=e.json,o=e.response;return o.ok?(0,l["default"])(n,t.schema):Promise.reject(n)})}Object.defineProperty(t,"__esModule",{value:!0}),t.callApi=r,n(92);var a=n(90),u=o(a),i=n(59),l=o(i),s={dataType:"json",method:"GET",credentials:"same-origin"};t["default"]=r},59:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){e=i["default"].camelizeKeys(e);var n=e;return"undefined"!=typeof t&&(n=Object.assign({},(0,a.normalize)(e,t))),n}Object.defineProperty(t,"__esModule",{value:!0});var a=n(53),u=n(91),i=o(u);t["default"]=r},79:function(e,t,n){"use strict";function o(e){return{bookId:e,CALL_API:{types:["BOOK_PROGRESS_REQUEST","BOOK_PROGRESS_SUCCESS","BOOK_PROGRESS_FAILURE"],endpoint:"books/"+e+"/progress",schema:l.Schemas.BOOK_PROGRESS}}}function r(){var e=arguments.length<=0||void 0===arguments[0]?"newest":arguments[0];return{flowType:e,CALL_API:{types:["BOOKS_REQUEST","BOOKS_SUCCESS","BOOKS_FAILURE"],endpoint:"books?exclude=content",schema:l.Schemas.BOOK_ARRAY}}}function a(e,t){var n="books/"+e;return t&&(n+="?fields="+t.join(",")),{bookId:e,CALL_API:{types:["BOOK_REQUEST","BOOK_SUCCESS","BOOK_FAILURE"],endpoint:n,schema:l.Schemas.BOOK}}}function u(){var e=arguments.length<=0||void 0===arguments[0]?"newest":arguments[0];return{flowType:e,CALL_API:{types:["COLLECTIONS_REQUEST","COLLECTIONS_SUCCESS","COLLECTIONS_FAILURE"],endpoint:"collections",schema:l.Schemas.COLLECTION_ARRAY}}}function i(e){return{collectionId:e,CALL_API:{types:["COLLECTION_REQUEST","COLLECTION_SUCCESS","COLLECTION_FAILURE"],endpoint:"collections/"+e,schema:l.Schemas.COLLECTION}}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchBookProgress=o,t.fetchBooks=r,t.fetchBook=a,t.fetchCollections=u,t.fetchCollection=i;var l=n(49)},80:function(e,t){"use strict";function n(e){var t=arguments.length<=1||void 0===arguments[1]?"success":arguments[1],n=arguments.length<=2||void 0===arguments[2]?3e3:arguments[2];return function(a,u){var i=Math.random().toFixed(8).substr(2);a(o(i,e,t)),0!==n&&setTimeout(function(){a(r(i))},n)}}function o(e,t){var n=arguments.length<=2||void 0===arguments[2]?"success":arguments[2];return{type:a,message:t,msgType:n,id:e}}function r(e){return{type:u,id:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.sendNotification=n,t.showNotification=o,t.hideNotification=r;var a=t.SHOW_NOTIFICATION="SHOW_NOTIFICATION",u=t.HIDE_NOTIFICATION="HIDE_NOTIFICATION"},81:function(e,t,n){"use strict";function o(){return{CALL_API:{types:["USER_AUTH_REQUEST","USER_AUTH_SUCCESS","USER_AUTH_FAILURE"],endpoint:"auth"}}}function r(e){return{CALL_API:{types:["PROFILE_REQUEST","PROFILE_SUCCESS","PROFILE_FAILURE"],endpoint:"users/"+e+"/profile",schema:i.Schemas.PROFILE}}}function a(){return{CALL_API:{types:["USER_LIST_REQUEST","USER_LIST_SUCCESS","USER_LIST_FAILURE"],endpoint:"users",schema:i.Schemas.USER_ARRAY}}}function u(){return{payload:"bookShelf",CALL_API:{types:["SHELF_REQUEST","SHELF_SUCCESS","SHELF_FAILURE"],endpoint:"user/books/shelf"}}}Object.defineProperty(t,"__esModule",{value:!0}),t.userAuth=o,t.fetchProfile=r,t.fetchUserList=a,t.fetchShelf=u;var i=n(49)},82:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(o=(u=i.next()).done)&&(n.push(u.value),!t||n.length!==t);o=!0);}catch(l){r=!0,a=l}finally{try{!o&&i["return"]&&i["return"]()}finally{if(r)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(58),u=o(a),i=n(42),l=o(i);t["default"]=function(e){return function(t){return function(n){function o(e){var t=Object.assign({},n,e);return delete t.CALL_API,t}var a=n.CALL_API;if("undefined"==typeof a)return t(n);var i=a.endpoint,s=a.apiUrl,c=a.extendedOptions,f=a.types,p=a.schema,d=r(f,3),h=d[0],m=d[1],y=d[2];t(o({type:h})),"function"==typeof i&&(i=i(e.getState())),"undefined"==typeof s&&(s=l["default"].LOCAL);var b=s+i,v={schema:p};return"undefined"!=typeof c&&(v=Object.assign({},v,c)),(0,u["default"])(b,v).then(function(e){return t(o({response:e,type:m}))},function(e){return t(o({type:y,error:e.message||"Oops!"}))})}}}},83:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return function(e){return function(t){switch(t.type){case"DOUBAN_BOOK_SEARCH_SUCCESS":t.response.result=t.response.result.books}e(t)}}}},84:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length<=0||void 0===arguments[0]?{books:{},users:{},bookCollections:{}}:arguments[0],t=arguments[1];return t.response&&t.response.entities?b["default"].merge({},e,t.response.entities):e}function u(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];return t.error&&t.payload?b["default"].assign({},e,r({},t.payload,{error:t.error})):t.response&&t.payload?b["default"].assign({},e,r({},t.payload,{data:t.response})):e}function i(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],t=arguments[1],n=(t.type,t.error);return n?t.error:e}function l(){var e=arguments.length<=0||void 0===arguments[0]?{user:{role:"visitor"}}:arguments[0],t=arguments[1];switch(t.type){case"USER_AUTH_REQUEST":return Object.assign({},e,{isFetching:!0});case"USER_AUTH_SUCCESS":return Object.assign({},e,{isFetching:!1,user:t.response});case"USER_AUTH_FAILURE":return Object.assign({},e,{isFetching:!1,user:t.response});default:return e}}function s(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];return"CHANGE_VALUE"===t.type?Object.assign({},e,r({},t.name,Object.assign({},e[t.name],{value:t.value}))):"UPDATE_ELEMENT"===t.type?Object.assign({},e,r({},t.name,Object.assign({},e[t.name],t.data))):e}Object.defineProperty(t,"__esModule",{value:!0});var c=n(41),f=n(54),p=n(85),d=o(p),h=n(86),m=o(h),y=n(14),b=o(y),v=(0,c.combineReducers)({books:(0,m["default"])({mapActionToKey:function(e){return e.flowType},types:["BOOKS_REQUEST","BOOKS_SUCCESS","BOOKS_FAILURE"]}),bookCollections:(0,m["default"])({mapActionToKey:function(e){return e.flowType},types:["COLLECTIONS_REQUEST","COLLECTIONS_SUCCESS","COLLECTIONS_FAILURE"]}),userList:(0,m["default"])({mapActionToKey:function(e){return"all"},types:["USER_LIST_REQUEST","USER_LIST_SUCCESS","USER_LIST_FAILURE"]}),doubanBookSearchResults:(0,m["default"])({mapActionToKey:function(e){return e.query},types:["DOUBAN_BOOK_SEARCH_REQUEST","DOUBAN_BOOK_SEARCH_SUCCESS","DOUBAN_BOOK_SEARCH_FAILURE"]}),bookSearchResults:(0,m["default"])({mapActionToKey:function(e){return e.query},types:["BOOK_SEARCH_REQUEST","BOOK_SEARCH_SUCCESS","BOOK_SEARCH_FAILURE"]})}),O=(0,c.combineReducers)({notifications:d["default"]}),_=(0,c.combineReducers)({payloads:u,components:O,elements:s,routing:f.routerReducer,entities:a,errorMessage:i,pagination:v,session:l});t["default"]=_},85:function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments[1];return"HIDE_NOTIFICATION"===t.type?e.map(function(e){return e.id===t.id?Object.assign({},e,{visible:!1}):e}):"SHOW_NOTIFICATION"===t.type?[].concat(n(e),[{visible:!0,message:t.message,type:t.msgType,id:t.id}]):e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o},86:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{isFetching:!1,nextPageUrl:null,pageCount:0,ids:[]}:arguments[0],t=arguments[1];switch(t.type){case i:return Object.assign({},e,{isFetching:!0});case s:return Object.assign({},e,{isFetching:!1,ids:l["default"].union(e.ids,t.response.result),nextPageUrl:t.response.nextPageUrl,pageCount:e.pageCount+1});case c:return Object.assign({},e,{isFetching:!1});default:return e}}var n=e.types,o=e.mapActionToKey,a=u(n,3),i=a[0],s=a[1],c=a[2];return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments[1];switch(n.type){case i:case s:case c:var a=o(n);if("string"!=typeof a)throw new Error("Expected key to be a string.");var u=Object.assign({},e,r({},a,t(e[a],n)));return u;default:return e}}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(o=(u=i.next()).done)&&(n.push(u.value),!t||n.length!==t);o=!0);}catch(l){r=!0,a=l}finally{try{!o&&i["return"]&&i["return"]()}finally{if(r)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t["default"]=a;var i=n(14),l=o(i)},87:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=void 0;return e="undefined"==typeof window?(0,a.createStore)(s["default"],{},(0,a.applyMiddleware)(i["default"],f["default"],d["default"])):"production"===v?(0,a.createStore)(s["default"],(0,m["default"])(),(0,a.applyMiddleware)(i["default"],f["default"],d["default"])):(0,a.createStore)(s["default"],(0,m["default"])(),(0,a.compose)((0,a.applyMiddleware)(i["default"],f["default"],d["default"],(0,b["default"])({collapsed:!0}))))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var a=n(41),u=n(121),i=o(u),l=n(84),s=o(l),c=n(82),f=o(c),p=n(83),d=o(p),h=n(89),m=o(h),y=n(120),b=o(y),v="production"},88:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){return(0,p["default"])(h["default"].LOCAL+"collections",{method:"POST",data:e})}function a(e){return(0,p["default"])(h["default"].LOCAL+"books",{method:"POST",data:e})}function u(e){return(0,p["default"])(h["default"].LOCAL+"authors",{method:"POST",data:e})}function i(e){return(0,p["default"])(h["default"].LOCAL+"authors?q="+e)}function l(e){return(0,p["default"])(h["default"].LOCAL+"books?q="+e)}function s(e,t){(0,p["default"])(h["default"].LOCAL+"books/"+e+"/progress",{method:"POST",data:t})}function c(e){return(0,p["default"])(h["default"].LOCAL+"books/"+e,{method:"DELETE"})}Object.defineProperty(t,"__esModule",{value:!0}),t.addCollection=r,t.addBook=a,t.addAuthor=u,t.searchAuthors=i,t.searchBooks=l,t.setProgress=s,t.deleteBook=c;var f=n(58),p=o(f),d=n(42),h=o(d);t["default"]={addCollection:r,addBook:a,addAuthor:u,searchBooks:l,searchAuthors:i,setProgress:s,deleteBook:c}},89:function(e,t){"use strict";function n(){var e=void 0;return"undefined"!=typeof window.__INITIAL_STATE__&&(e=window.__INITIAL_STATE__),e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},90:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=i["default"].cloneDeep(e),n="";for(var o in t)"object"===a(t[o])&&(t[o]=t[o].toString()),n=""+n+o+"="+t[o]+"&";return n.substr(0,n.length-1)}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t["default"]=r;var u=n(14),i=o(u)},120:function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function r(e,t,r,a){switch("undefined"==typeof e?"undefined":o(e)){case"object":return"function"==typeof e[a]?e[a].apply(e,n(r)):e[a];case"function":return e(t);default:return e}}function a(){function e(){C.forEach(function(e,t){var n=e.started,a=e.startedTime,i=e.action,s=e.prevState,c=e.error,p=e.took,d=e.nextState,m=C[t+1];m&&(d=m.prevState,p=m.started-n);var b=g(i),v="function"==typeof f?f(function(){return d},i):f,O=l(a),_=k.title?"color: "+k.title(b)+";":null,E="action "+(y?O:"")+" "+b.type+" "+(h?"(in "+p.toFixed(2)+" ms)":"");try{v?k.title?u.groupCollapsed("%c "+E,_):u.groupCollapsed(E):k.title?u.group("%c "+E,_):u.group(E)}catch(w){u.log(E)}var S=r(o,b,[s],"prevState"),j=r(o,b,[b],"action"),A=r(o,b,[c,s],"error"),P=r(o,b,[d],"nextState");S&&(k.prevState?u[S]("%c prev state","color: "+k.prevState(s)+"; font-weight: bold",s):u[S]("prev state",s)),j&&(k.action?u[j]("%c action","color: "+k.action(b)+"; font-weight: bold",b):u[j]("action",b)),c&&A&&(k.error?u[A]("%c error","color: "+k.error(c,s)+"; font-weight: bold",c):u[A]("error",c)),P&&(k.nextState?u[P]("%c next state","color: "+k.nextState(d)+"; font-weight: bold",d):u[P]("next state",d));try{u.groupEnd()}catch(w){u.log("—— log end ——")}}),C.length=0}var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.level,o=void 0===n?"log":n,a=t.logger,u=void 0===a?console:a,i=t.logErrors,c=void 0===i?!0:i,f=t.collapsed,p=t.predicate,d=t.duration,h=void 0===d?!1:d,m=t.timestamp,y=void 0===m?!0:m,b=t.transformer,v=t.stateTransformer,O=void 0===v?function(e){return e}:v,_=t.actionTransformer,g=void 0===_?function(e){return e}:_,E=t.errorTransformer,w=void 0===E?function(e){return e}:E,S=t.colors,k=void 0===S?{title:function(){return"#000000"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}}:S;if("undefined"==typeof u)return function(){return function(e){return function(t){return e(t)}}};b&&console.error("Option 'transformer' is deprecated, use stateTransformer instead");var C=[];return function(t){var n=t.getState;return function(t){return function(o){if("function"==typeof p&&!p(n,o))return t(o);var r={};C.push(r),r.started=s.now(),r.startedTime=new Date,r.prevState=O(n()),r.action=o;var a=void 0;if(c)try{a=t(o)}catch(u){r.error=w(u)}else a=t(o);if(r.took=s.now()-r.started,r.nextState=O(n()),e(),r.error)throw r.error;return a}}}}var u=function(e,t){return new Array(t+1).join(e)},i=function(e,t){return u("0",t-e.toString().length)+e},l=function(e){return"@ "+i(e.getHours(),2)+":"+i(e.getMinutes(),2)+":"+i(e.getSeconds(),2)+"."+i(e.getMilliseconds(),3)},s="undefined"!=typeof performance&&"function"==typeof performance.now?performance:Date;e.exports=a},123:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=n(1),c=o(s),f=n(26),p=o(f),d=n(18),h=o(d),m=function(e,t,n,o){var r,a=arguments.length,u=3>a?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(u=(3>a?r(u):a>3?r(t,n,u):r(t,n))||u);return a>3&&u&&Object.defineProperty(t,n,u),u},y=n(128),b=function(e){function t(){return r(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),i(t,[{key:"render",value:function(){var e=this.props.type?this.props.type:"success";return c["default"].createElement("div",null,this.props.visible&&c["default"].createElement("div",{styleName:"alert--"+e},c["default"].createElement("div",{styleName:"alert-close"},c["default"].createElement(p["default"],{onClick:this.props.onRequestClose,name:"close"})),this.props.message))}}]),t}(s.Component);b=m([(0,h["default"])(y,{allowMultiple:!0})],b),t["default"]=b},125:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),s=o(l),c=n(9),f=n(32),p=o(f),d=n(13),h=n(14),m=o(h),y=function(e){function t(e){return r(this,t),a(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),i(t,[{key:"render",value:function(){var e=this;return s["default"].createElement(p["default"],{name:this.props.name,value:m["default"].get(this.props.elements[this.props.symbol],"value",""),placeholder:this.props.placeholder,onChange:function(t){var n=t.target.value;e.props.changeValue(e.props.symbol,n),e.props.onChange&&e.props.onChange(n)}})}}]),t}(l.Component);t["default"]=(0,c.connect)(function(e){return{elements:e.elements}},{changeValue:d.changeValue})(y)},126:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),s=o(l),c=n(9),f=n(33),p=o(f),d=n(13),h=function(e){function t(e){return r(this,t),a(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),i(t,[{key:"render",value:function(){var e=this;return s["default"].createElement(p["default"],{value:_.get(this.props.elements[this.props.symbol],"value",""),placeholder:this.props.placeholder,onChange:function(t){var n=t.target.value;e.props.changeValue(e.props.symbol,n),e.props.onChange&&e.props.onChange(n)}})}}]),t}(l.Component);t["default"]=(0,c.connect)(function(e){return{elements:e.elements}},{changeValue:d.changeValue})(h)},127:function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(o[a]=!0)}for(r=0;r<t.length;r++){var u=t[r];"number"==typeof u[0]&&o[u[0]]||(n&&!u[2]?u[2]=n:n&&(u[2]="("+u[2]+") and ("+n+")"),e.push(u))}},e}},128:function(e,t){e.exports={alerts:"___alert__alerts__1oDep",alert:"___alert__alert__2-Pxz","alert--success":"___alert__alert--success__3bOZr","alert--error":"___alert__alert--error__3cXfa","alert-close":"___alert__alert-close__1pE_V"}},209:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),s=o(l),c=n(8),f=n(48),p=o(f),d=function(e){function t(e){r(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.state={isDropdownMenuVisible:!1},n}return u(t,e),i(t,[{key:"toggleDropdownMenu",value:function(){this.setState({isDropdownMenuVisible:!this.state.isDropdownMenuVisible})}},{key:"render",value:function(){var e=this.props.username,t=this.props.isAdmin?this.props.isAdmin:"false";return s["default"].createElement("div",{className:"branding console-branding"},s["default"].createElement(p["default"],{isFluid:!0,className:"clearfix"},s["default"].createElement("div",null,s["default"].createElement("h1",{className:"logo left"},s["default"].createElement(c.Link,{to:"/console"},"readr"),s["default"].createElement("span",{className:"sep"},"|"),s["default"].createElement("span",{className:"sub"},"Console")),e?s["default"].createElement("div",{onMouseLeave:this.toggleDropdownMenu.bind(this),onMouseEnter:this.toggleDropdownMenu.bind(this),className:"nav right"},s["default"].createElement("span",{className:"username"},e,t?s["default"].createElement("span",{className:"badge-dark"},"Admin"):null),this.state.isDropdownMenuVisible?s["default"].createElement("ul",{className:"dropdown-menu"},t===!0?s["default"].createElement("li",null,s["default"].createElement("a",{href:"/"},"Back to readr")):null,s["default"].createElement("li",null,s["default"].createElement(c.Link,{to:"/profile/"+e},"我的账号")),s["default"].createElement("li",null,s["default"].createElement("a",{href:"/logout"},"退出"))):null):s["default"].createElement("div",{className:"nav right"},s["default"].createElement("ul",{className:"nav-links"},s["default"].createElement("li",null,s["default"].createElement(c.Link,{to:"/signin"},"登录")),s["default"].createElement("li",null,s["default"].createElement(c.Link,{to:"/signup"},"注册")))))))}}]),t}(l.Component);t["default"]=d},214:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),c=o(s),f=n(9),p=n(13),d=n(25),h=n(223),m=o(h),y=n(14),b=o(y),v=n(88),O=o(v),_=n(235),g=n(125),E=o(g),w=n(126),S=o(w),k={inputBookName:Symbol("inputBookName"),inputBookAuthor:Symbol("inputBookAuthor"),inputAuthorName:Symbol("inputAuthorName"),inputAuthorSlug:Symbol("inputAuthorSlug"),inputBookCover:Symbol("inputBookCover"),textareaAuthorDesc:Symbol("textareaAuthorDesc"),textareaBookDesc:Symbol("textareaBookDesc"),textareaBookContent:Symbol("textareaBookContent")},C=function(e){function t(e){a(this,t);var n=u(this,Object.getPrototypeOf(t).call(this,e));return n.defaultState={bookTitle:[],bookAuthor:[],authorResults:[],isAddAuthorModalVisible:!1},n.state=Object.assign({},n.defaultState),n}return i(t,e),l(t,[{key:"resetForm",value:function(){this.props.changeValue(k.inputBookCover,""),this.props.changeValue(k.textareaBookDesc,""),this.props.changeValue(k.textareaBookContent,""),this.setState(this.defaultState)}},{key:"addBook",value:function(){var e=this,t={title:0!==this.state.bookTitle.length?this.state.bookTitle[0].value:"",author:this.state.bookAuthor.map(function(e){return e.value}),description:this.props.elements[k.textareaBookDesc].value,cover:this.props.elements[k.inputBookCover].value,content:this.props.elements[k.textareaBookContent].value};O["default"].addBook(t).then(function(t){e.props.sendNotification("添加成功"),e.resetForm()},function(t){e.props.sendNotification(t.message)})}},{key:"addAuthor",value:function(){var e=this,t={name:this.props.elements[k.inputAuthorName].value,slug:this.props.elements[k.inputAuthorSlug].value,description:this.props.elements[k.textareaAuthorDesc].value};O["default"].addAuthor(t).then(function(n){e.props.sendNotification("添加成功");var o=n.ops[0].id;e.setState({bookAuthor:[].concat(r(e.state.bookAuthor),[{name:t.name,value:o}]),isAddAuthorModalVisible:!1}),e.props.changeValue(k.inputBookAuthor,"")},function(t){e.props.sendNotification(t.message)})}},{key:"searchBooks",value:function(e){var t=this;""!==e&&(0,_.fetchDoubanBooks)(e).then(function(e){t.setState({optionsOfBookTitle:e.books.map(function(e){return{name:e.title,value:e.title,additional:{description:e.summary,cover:e.images.large,author:e.author.join(", ")}}})})})}},{key:"searchAuthors",value:function(e){var t=this;""!==e?O["default"].searchAuthors(e).then(function(e){t.setState({optionsOfBookAuthor:e.map(function(e){return{name:e.name,value:e.id}})})}):this.setState({optionsOfBookAuthor:[]})}},{key:"render",value:function(){var e=this;return c["default"].createElement("form",null,c["default"].createElement(m["default"],{width:600,isVisible:this.state.isAddAuthorModalVisible,onRequestClose:function(){e.setState({isAddAuthorModalVisible:!1})}},c["default"].createElement("h1",{className:"page-title",style:{marginTop:0}},"Add author"),c["default"].createElement(E["default"],{placeholder:"Name",symbol:k.inputAuthorName}),c["default"].createElement(E["default"],{placeholder:"Slug",symbol:k.inputAuthorSlug}),c["default"].createElement(S["default"],{symbol:k.textareaAuthorDesc,placeholder:"Description"}),c["default"].createElement(d.Button,{onClick:function(t){t.preventDefault(),e.addAuthor()}},"Add")),c["default"].createElement("h1",{className:"page-title"},"Add Book"),c["default"].createElement(d.SelectizeInput,{placeholder:"Book title",onInputChange:function(t){e.searchBooks(t),e.props.changeValue(k.inputBookName,t)},value:b["default"].get(this.props.elements[k.inputBookName],"value",""),onValuesChange:function(t){e.setState({bookTitle:t})},options:this.state.optionsOfBookTitle,values:this.state.bookTitle,onAddNewValue:function(){},onOptionClick:function(t){e.props.changeValue(k.inputBookCover,t.additional.cover),e.props.changeValue(k.inputBookAuthor,t.additional.author),e.props.changeValue(k.textareaBookDesc,t.additional.description)}}),c["default"].createElement(d.SelectizeInput,{placeholder:"Book author",onInputChange:function(t){e.searchAuthors(t),e.props.changeValue(k.inputBookAuthor,t)},value:b["default"].get(this.props.elements[k.inputBookAuthor],"value",""),onValuesChange:function(t){e.setState({bookAuthor:t})},options:this.state.optionsOfBookAuthor,values:this.state.bookAuthor,addNewValue:!0,onAddNewValue:function(t){e.props.changeValue(k.inputAuthorName,t),e.props.changeValue(k.inputAuthorSlug,t),e.props.changeValue(k.textareaAuthorDesc,""),e.setState({isAddAuthorModalVisible:!0})}}),c["default"].createElement(E["default"],{placeholder:"Cover",symbol:k.inputBookCover}),c["default"].createElement(S["default"],{placeholder:"Description",symbol:k.textareaBookDesc}),c["default"].createElement(S["default"],{placeholder:"Paste book content here",symbol:k.textareaBookContent}),c["default"].createElement(d.Button,{onClick:function(t){t.preventDefault(),e.addBook()}},"Add"))}}]),t}(s.Component);t["default"]=(0,f.connect)(function(e){return{notification:e.components.notification,elements:e.elements}},{sendNotification:p.sendNotification,changeValue:p.changeValue})(C)},215:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{notification:e.components.notification,elements:e.elements,session:e.session}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),c=o(s),f=n(9),p=n(13),d=n(25),h=n(88),m=o(h),y=n(125),b=o(y),v=n(126),O=o(v),_=n(14),g=o(_),E={
inputCollectionName:Symbol("inputCollectionName"),inputBookName:Symbol("inputBookName"),textareaCollectionDesc:Symbol("textareaCollectionDesc")},w=function(e){function t(e){r(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.defaultState={optionsOfBooks:[],valuesOfBooks:[]},n.state=Object.assign({},n.defaultState),n.addCollection=n.addCollection.bind(n),n}return u(t,e),l(t,[{key:"resetForm",value:function(){this.props.changeValue(E.inputCollectionName,""),this.props.changeValue(E.textareaCollectionDesc,""),this.setState(this.defaultState)}},{key:"addCollection",value:function(){var e=this,t=this.props.elements[E.inputCollectionName].value,n=this.state.valuesOfBooks.map(function(e){return e.value}),o=this.props.elements[E.textareaCollectionDesc].value,r={name:t,items:n,description:o,creator:this.props.session.user.id};m["default"].addCollection(r).then(function(t){e.props.sendNotification("添加成功！"),e.resetForm()},function(t){e.props.sendNotification(t.message)})}},{key:"searchBooks",value:function(e){var t=this;""!==e&&m["default"].searchBooks(e).then(function(e){t.setState({optionsOfBooks:e.map(function(e){return{name:e.title,value:e.id}})})})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return c["default"].createElement("form",null,c["default"].createElement("h1",{className:"page-title"},"Add Collection"),c["default"].createElement(b["default"],{symbol:E.inputCollectionName,placeholder:"Name"}),c["default"].createElement(d.SelectizeInput,{placeholder:"Books",onInputChange:function(t){e.searchBooks(t),e.props.changeValue(E.inputBookName,t)},value:g["default"].get(this.props.elements[E.inputBookName],"value",""),onValuesChange:function(t){e.setState({valuesOfBooks:t})},options:this.state.optionsOfBooks,values:this.state.valuesOfBooks}),c["default"].createElement(O["default"],{symbol:E.textareaCollectionDesc,placeholder:"Description"}),c["default"].createElement(d.Button,{onClick:this.addCollection},"Add"))}}]),t}(s.Component);t["default"]=(0,f.connect)(i,{sendNotification:p.sendNotification,changeValue:p.changeValue})(w)},216:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),s=o(l),c=n(8),f=n(9),p=n(48),d=o(p),h=n(209),m=o(h),y=n(13),b=n(225),v=o(b),O=n(26),_=o(O),g=n(219),E=o(g),w=function(e){function t(){return r(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),i(t,[{key:"componentDidMount",value:function(){this.props.userAuth()}},{key:"renderMenu",value:function(e,t){var n={rootIndex:0,subIndex:0};e.forEach(function(e,o){var r=void 0,a=e.subMenu.filter(function(e,n){return e.path===t?(r=n,!0):void 0});a.length>0&&(n.rootIndex=o,n.subIndex=r)});var o=s["default"].createElement("ul",{className:"nav-side nav-side-root"},e.map(function(e,t){var o="menu-"+e.component;return t===n.rootIndex&&(o+=" current"),s["default"].createElement("li",{key:t,className:o},s["default"].createElement(c.Link,{to:"/"+e.path},s["default"].createElement(_["default"],{name:e.component})))})),r=s["default"].createElement("ul",{className:"nav-side nav-side-sub"},e[n.rootIndex].subMenu.map(function(e,t){var o="menu-"+e.component;return t===n.subIndex&&(o+=" current"),s["default"].createElement("li",{key:t,className:o},s["default"].createElement(c.Link,{to:"/"+e.path},e.displayName))}));return s["default"].createElement("div",{className:"sidebar-left"},o,r)}},{key:"render",value:function(){var e="admin"===this.props.session.user.role,t=this.props.session.user.username?this.props.session.user.username:null,n=this.props.routing.locationBeforeTransitions?this.props.routing.locationBeforeTransitions.pathname:"console";return s["default"].createElement("div",null,s["default"].createElement(m["default"],{isAdmin:e,username:t}),s["default"].createElement(d["default"],{isFluid:!0},this.props.notifications.filter(function(e){return e.visible}).length>0?s["default"].createElement("div",{className:"notifications"},this.props.notifications.map(function(e,t){return s["default"].createElement(v["default"],{key:t,type:e.type,message:e.message,visible:e.visible})})):null,this.renderMenu(E["default"],n),s["default"].createElement("div",{className:"content"},this.props.children)))}}]),t}(l.Component);t["default"]=(0,f.connect)(function(e){return{notifications:e.components.notifications,session:e.session,routing:e.routing}},{sendNotification:y.sendNotification,userAuth:y.userAuth})(w)},217:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return{bookListNewest:e.pagination.books.newest?e.pagination.books.newest.ids.map(function(t){return e.entities.books[t]}):[]}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),c=o(s),f=n(9),p=n(50),d=o(p),h=n(88),m=o(h),y=n(13),b=function(e){function t(e){return r(this,t),a(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.fetchBooks()}},{key:"render",value:function(){var e=this,t=this.props.bookListNewest?this.props.bookListNewest:null;return c["default"].createElement("div",null,c["default"].createElement(d["default"],{className:"manage-books"}),c["default"].createElement("table",null,c["default"].createElement("tbody",null,c["default"].createElement("tr",null,c["default"].createElement("td",null,"ID"),c["default"].createElement("td",null,"Name"),c["default"].createElement("td",null,"Date created"),c["default"].createElement("td",null,"Actions")),t?t.map(function(t,n){return c["default"].createElement("tr",{key:n},c["default"].createElement("td",null,t.id),c["default"].createElement("td",null,t.title),c["default"].createElement("td",null,t.dateCreated),c["default"].createElement("td",null,c["default"].createElement("a",{onClick:function(n){return n.preventDefault(),m["default"].deleteBook(t.id).then(function(t){e.props.sendNotification("删除成功！"),e.props.fetchBooks()}),!1},href:"#"},"Delete")))}):null)))}}],[{key:"fetchData",value:function(e){var t=e.store;return t.dispatch((0,y.fetchBooks)())}}]),t}(s.Component);t["default"]=(0,f.connect)(i,{fetchBooks:y.fetchBooks,sendNotification:y.sendNotification})(b)},218:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){var n="all",o=e.pagination.userList,r=e.entities.users,a=o[n],u=a?a.ids.map(function(e){return r[e]}):[];return{userListAll:u}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),c=o(s),f=n(9),p=n(13),d=function(e){function t(e){return r(this,t),a(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.fetchUserList()}},{key:"render",value:function(){var e=this.props.userListAll?this.props.userListAll:[];return c["default"].createElement("div",null,c["default"].createElement("table",null,c["default"].createElement("tbody",null,c["default"].createElement("tr",null,c["default"].createElement("td",null,"ID"),c["default"].createElement("td",null,"Name"),c["default"].createElement("td",null,"Date created"),c["default"].createElement("td",null,"Actions")),e.map(function(e,t){return c["default"].createElement("tr",{key:t},c["default"].createElement("td",null,e.id),c["default"].createElement("td",null,e.username),c["default"].createElement("td",null,e.dateCreated),c["default"].createElement("td",null,c["default"].createElement("a",{href:"#"},"Delete")))}))))}}]),t}(s.Component);t["default"]=(0,f.connect)(i,{fetchUserList:p.fetchUserList})(d)},219:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[{component:"books",displayName:"",path:"console/managebooks",subMenu:[{component:"managebooks",displayName:"Manage Books",path:"console"},{component:"addbook",displayName:"Add Book",path:"console/addbook"},{component:"addcollection",displayName:"Add Collection",path:"console/collection/new"}]},{component:"users",displayName:"",path:"console/manageusers",subMenu:[{component:"manageusers",displayName:"Manage Users",path:"console/manageusers"}]},{component:"database",displayName:"",path:"console/managebooks",subMenu:[]},{component:"statistics",displayName:"",path:"console/managebooks",subMenu:[]}];t["default"]=n},222:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),s=o(l),c=function(e){function t(){return r(this,t),a(this,Object.getPrototypeOf(t).apply(this,arguments))}return u(t,e),i(t,[{key:"render",value:function(){return s["default"].createElement("h1",null,"404")}}]),t}(l.Component);t["default"]=c},223:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),s=o(l),c=n(64),f=o(c),p=n(237),d=o(p),h=n(226),m=o(h),y=function(e){function t(e){r(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.state={modalHeight:0,isModalHidden:!1,isModalVerticalCenter:!0},n.setView=n.setView.bind(n),n}return u(t,e),i(t,[{key:"hideModal",value:function(){this.props.onRequestClose(),d["default"].unlockScroll(),window.removeEventListener("resize",this.setView)}},{key:"setView",value:function(){var e=f["default"].findDOMNode(this.refs.modal).clientHeight,t=!0,n=document.body.clientHeight;window.innerHeight<e&&(t=!1),window.innerHeight>document.body.clientHeight&&(n=window.innerHeight),this.setState({modalHeight:e,isModalVerticalCenter:t,documentHeight:n})}},{key:"componentDidUpdate",value:function(e){e.isVisible===!1&&this.props.isVisible===!0&&(this.setView(),d["default"].lockScroll(),window.addEventListener("resize",this.setView))}},{key:"componentUnmount",value:function(){window.removeEventListener("resize",this.setView)}},{key:"render",value:function(){var e="modal",t=this.props.className?e+" "+this.props.className:e,n=this.props.width?this.props.width:500,o=this.state.modalHeight,r={backdrop:{},verticalCenter:{},scroll:{},modal:{}},a=this.props.isVisible?this.props.isVisible:!1;return r.backdrop={position:"fixed",height:"100%",width:"100%",left:0,top:0,background:"rgba(0, 0, 0, 0.86)",zIndex:9990,overflow:"scroll"},r.verticalCenter={width:n,marginTop:-o/2,marginLeft:-n/2,position:"absolute",left:"50%",top:"50%"},r.scroll={width:n,margin:"50px auto"},r.modal={padding:"30px",boxShadow:"0 3px 10px rgba(0, 0, 0, 0.57)"},this.state.isModalVerticalCenter?r.modal=Object.assign({},r.modal,r.verticalCenter):r.modal=Object.assign({},r.modal,r.scroll),s["default"].createElement(m["default"],null,a?s["default"].createElement("div",{onClick:this.hideModal.bind(this),className:"modal-backdrop",style:r.backdrop},s["default"].createElement("div",{style:r.modal,className:t,ref:"modal",onClick:function(e){e.stopPropagation()}},this.props.children)):null)}}]),t}(l.Component);t["default"]=y},224:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){return u["default"].createElement("div",{className:s.alerts},e.messages.map(function(t,n){return u["default"].createElement(l["default"],{key:n,type:t.type,message:t.content,visible:t.visible,onRequestClose:function(){e.onRequestClose(t.id)}})}))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),u=o(a),i=n(123),l=o(i),s=n(128);t["default"]=r},225:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Alert=t.Alerts=void 0;var r=n(123),a=o(r),u=n(224),i=o(u);t.Alerts=i["default"],t.Alert=a["default"],t["default"]=a["default"]},226:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(1),s=o(l),c=n(142),f=o(c),p=function(e){function t(e){return r(this,t),a(this,Object.getPrototypeOf(t).call(this,e))}return u(t,e),i(t,[{key:"render",value:function(){return s["default"].createElement(f["default"],{component:"div",transitionName:"fade",transitionEnterTimeout:300,transitionLeaveTimeout:300},this.props.children)}}]),t}(l.Component);t["default"]=p},232:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var r=n(64),a=n(1),u=o(a),i=n(8),l=n(233),s=o(l),c=n(9),f=n(54),p=n(87),d=o(p),h=(0,d["default"])(),m=(0,f.syncHistoryWithStore)(i.browserHistory,h);(0,r.render)(u["default"].createElement(c.Provider,{store:h},u["default"].createElement(i.Router,{history:m,routes:s["default"]})),document.getElementById("root"))},233:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=o(r),u=n(8),i=n(216),l=o(i),s=n(217),c=o(s),f=n(218),p=o(f),d=n(214),h=o(d),m=n(215),y=o(m),b=n(222),v=o(b);t["default"]=a["default"].createElement(u.Router,null,a["default"].createElement(u.Route,{path:"/console",component:l["default"]},a["default"].createElement(u.IndexRoute,{component:c["default"]}),a["default"].createElement(u.Route,{path:"managebooks",component:c["default"]}),a["default"].createElement(u.Route,{path:"manageusers",component:p["default"]}),a["default"].createElement(u.Route,{path:"addbook",component:h["default"]}),a["default"].createElement(u.Route,{path:"collection/new",component:y["default"]})),a["default"].createElement(u.Route,{path:"*",component:v["default"]}))},235:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){return(0,u["default"])(l["default"].DOUBAN_BOOKS+"/search?count=5&q="+e,{})}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchDoubanBooks=r;var a=n(236),u=o(a),i=n(42),l=o(i)},236:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(-1!==e.indexOf("douban")){var n=function(){var n=(new Date).valueOf(),o="jsonp-"+n,r="jsonpCallback"+n,a="__JSONP_DATA_"+n+"__";window[r]=function(e){window[a]=e};var u=document.createElement("script");return u.setAttribute("src",e+"&callback="+r),u.setAttribute("id",o),document.body.appendChild(u),{v:new Promise(function(e){u.onload=function(){document.body.removeChild(document.getElementById(o));var n=window[a];e((0,i["default"])(n,t.schema))}})}}();if("object"===("undefined"==typeof n?"undefined":a(n)))return n.v}}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=n(59),i=o(u);t["default"]=r},237:function(e,t){"use strict";function n(){var e=7/9;return window.innerWidth<=540?{screen:"phone",pageWidth:window.innerWidth,pageHeight:window.innerWidth/e}:{screen:"hd",pageWidth:700,pageHeight:700/e}}function o(){document.body.style.overflow="hidden"}function r(){document.body.style.overflow="visible"}Object.defineProperty(t,"__esModule",{value:!0}),t.getBookView=n,t.lockScroll=o,t.unlockScroll=r,t["default"]={getBookView:n,lockScroll:o,unlockScroll:r}}});