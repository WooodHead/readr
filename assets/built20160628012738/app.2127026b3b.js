webpackJsonp([5],{0:function(e,t,n){e.exports=n(231)},13:function(e,t,n){"use strict";function r(e,t){return{type:"CHANGE_VALUE",name:e,value:t}}function o(e,t){return{type:"UPDATE_ELEMENT",name:e,data:t}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(79);Object.keys(u).forEach(function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})});var i=n(80);Object.keys(i).forEach(function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var a=n(81);Object.keys(a).forEach(function(e){"default"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}),t.changeValue=r,t.updateElement=o},42:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="undefined"!=typeof window?window.location.origin:"http://localhost:3000",r={LOCAL:n+"/api/",DOUBAN_BOOKS:"https://api.douban.com/v2/book/"};t["default"]=r},48:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),s=function(e){function t(){return o(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,[{key:"render",value:function(){var e=(this.props.isFluid?"container-fluid":"container")+(this.props.className?" "+this.props.className:"");return c["default"].createElement("div",{className:e},this.props.children)}}]),t}(l.Component);t["default"]=s},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Schemas=void 0;var r=n(53),o=new r.Schema("books",{idAttribute:"id"}),u=new r.Schema("bookCollections",{idAttribute:"id"}),i=new r.Schema("profiles",{idAttribute:"id"}),a=new r.Schema("users",{idAttribute:"id"}),l=new r.Schema("doubanBooks",{idAttribute:"id"}),c=new r.Schema("books",{idAttribute:"bookId"}),s=new r.Schema("books",{idAttribute:"bookId"});t.Schemas={BOOK:o,BOOK_PROGRESS:c,BOOK_ARRAY:(0,r.arrayOf)(o),DOUBAN_BOOK_SEARCH_RESULTS:{books:(0,r.arrayOf)(l)},USER_ARRAY:(0,r.arrayOf)(a),MATCHED_BOOK_ARRAY:(0,r.arrayOf)(s),COLLECTION:u,COLLECTION_ARRAY:(0,r.arrayOf)(u),PROFILE:i}},58:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=function(e){var t=Object.assign({},c,e),n=t.method,r=t.data,o=t.credentials,u=t.dataType,a={};if(n&&(a.method=n),o&&(a.credentials=o),"POST"===n){var l=void 0,s=void 0;"json"===u?(l="application/json",s=JSON.stringify(r)):"urlencoded"===u?(l="application/x-www-form-urlencoded",s=(0,i["default"])(r)):(u="urlencoded",l="application/x-www-form-urlencoded",s=(0,i["default"])(r),console.warn('Unsupported dataType used "urlencoded" instead!')),a.headers={"Content-Type":l,"Access-Control-Request-Method":"POST"},a.body=s}return"DELETE"===n&&(a.headers={"Access-Control-Request-Method":"DELETE"}),a};return fetch(e,n(t)).then(function(e){return e.json().then(function(t){return{json:t,response:e}})}).then(function(e){var n=e.json,r=e.response;return r.ok?(0,l["default"])(n,t.schema):Promise.reject(n)})}Object.defineProperty(t,"__esModule",{value:!0}),t.callApi=o,n(92);var u=n(90),i=r(u),a=n(59),l=r(a),c={dataType:"json",method:"GET",credentials:"same-origin"};t["default"]=o},59:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){e=a["default"].camelizeKeys(e);var n=e;return"undefined"!=typeof t&&(n=Object.assign({},(0,u.normalize)(e,t))),n}Object.defineProperty(t,"__esModule",{value:!0});var u=n(53),i=n(91),a=r(i);t["default"]=o},79:function(e,t,n){"use strict";function r(e){return{bookId:e,CALL_API:{types:["BOOK_PROGRESS_REQUEST","BOOK_PROGRESS_SUCCESS","BOOK_PROGRESS_FAILURE"],endpoint:"books/"+e+"/progress",schema:l.Schemas.BOOK_PROGRESS}}}function o(){var e=arguments.length<=0||void 0===arguments[0]?"newest":arguments[0];return{flowType:e,CALL_API:{types:["BOOKS_REQUEST","BOOKS_SUCCESS","BOOKS_FAILURE"],endpoint:"books?exclude=content",schema:l.Schemas.BOOK_ARRAY}}}function u(e,t){var n="books/"+e;return t&&(n+="?fields="+t.join(",")),{bookId:e,CALL_API:{types:["BOOK_REQUEST","BOOK_SUCCESS","BOOK_FAILURE"],endpoint:n,schema:l.Schemas.BOOK}}}function i(){var e=arguments.length<=0||void 0===arguments[0]?"newest":arguments[0];return{flowType:e,CALL_API:{types:["COLLECTIONS_REQUEST","COLLECTIONS_SUCCESS","COLLECTIONS_FAILURE"],endpoint:"collections",schema:l.Schemas.COLLECTION_ARRAY}}}function a(e){return{collectionId:e,CALL_API:{types:["COLLECTION_REQUEST","COLLECTION_SUCCESS","COLLECTION_FAILURE"],endpoint:"collections/"+e,schema:l.Schemas.COLLECTION}}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchBookProgress=r,t.fetchBooks=o,t.fetchBook=u,t.fetchCollections=i,t.fetchCollection=a;var l=n(49)},80:function(e,t){"use strict";function n(e){var t=arguments.length<=1||void 0===arguments[1]?"success":arguments[1],n=arguments.length<=2||void 0===arguments[2]?3e3:arguments[2];return function(u,i){var a=Math.random().toFixed(8).substr(2);u(r(a,e,t)),0!==n&&setTimeout(function(){u(o(a))},n)}}function r(e,t){var n=arguments.length<=2||void 0===arguments[2]?"success":arguments[2];return{type:u,message:t,msgType:n,id:e}}function o(e){return{type:i,id:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.sendNotification=n,t.showNotification=r,t.hideNotification=o;var u=t.SHOW_NOTIFICATION="SHOW_NOTIFICATION",i=t.HIDE_NOTIFICATION="HIDE_NOTIFICATION"},81:function(e,t,n){"use strict";function r(){return{CALL_API:{types:["USER_AUTH_REQUEST","USER_AUTH_SUCCESS","USER_AUTH_FAILURE"],endpoint:"auth"}}}function o(e){return{CALL_API:{types:["PROFILE_REQUEST","PROFILE_SUCCESS","PROFILE_FAILURE"],endpoint:"users/"+e+"/profile",schema:a.Schemas.PROFILE}}}function u(){return{CALL_API:{types:["USER_LIST_REQUEST","USER_LIST_SUCCESS","USER_LIST_FAILURE"],endpoint:"users",schema:a.Schemas.USER_ARRAY}}}function i(){return{payload:"bookShelf",CALL_API:{types:["SHELF_REQUEST","SHELF_SUCCESS","SHELF_FAILURE"],endpoint:"user/books/shelf"}}}Object.defineProperty(t,"__esModule",{value:!0}),t.userAuth=r,t.fetchProfile=o,t.fetchUserList=u,t.fetchShelf=i;var a=n(49)},82:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var n=[],r=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(l){o=!0,u=l}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw u}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=n(58),i=r(u),a=n(42),l=r(a);t["default"]=function(e){return function(t){return function(n){function r(e){var t=Object.assign({},n,e);return delete t.CALL_API,t}var u=n.CALL_API;if("undefined"==typeof u)return t(n);var a=u.endpoint,c=u.apiUrl,s=u.extendedOptions,f=u.types,d=u.schema,p=o(f,3),_=p[0],y=p[1],h=p[2];t(r({type:_})),"function"==typeof a&&(a=a(e.getState())),"undefined"==typeof c&&(c=l["default"].LOCAL);var m=c+a,b={schema:d};return"undefined"!=typeof s&&(b=Object.assign({},b,s)),(0,i["default"])(m,b).then(function(e){return t(r({response:e,type:y}))},function(e){return t(r({type:h,error:e.message||"Oops!"}))})}}}},83:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return function(e){return function(t){switch(t.type){case"DOUBAN_BOOK_SEARCH_SUCCESS":t.response.result=t.response.result.books}e(t)}}}},84:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){var e=arguments.length<=0||void 0===arguments[0]?{books:{},users:{},bookCollections:{}}:arguments[0],t=arguments[1];return t.response&&t.response.entities?m["default"].merge({},e,t.response.entities):e}function i(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];return t.error&&t.payload?m["default"].assign({},e,o({},t.payload,{error:t.error})):t.response&&t.payload?m["default"].assign({},e,o({},t.payload,{data:t.response})):e}function a(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],t=arguments[1],n=(t.type,t.error);return n?t.error:e}function l(){var e=arguments.length<=0||void 0===arguments[0]?{user:{role:"visitor"}}:arguments[0],t=arguments[1];switch(t.type){case"USER_AUTH_REQUEST":return Object.assign({},e,{isFetching:!0});case"USER_AUTH_SUCCESS":return Object.assign({},e,{isFetching:!1,user:t.response});case"USER_AUTH_FAILURE":return Object.assign({},e,{isFetching:!1,user:t.response});default:return e}}function c(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];return"CHANGE_VALUE"===t.type?Object.assign({},e,o({},t.name,Object.assign({},e[t.name],{value:t.value}))):"UPDATE_ELEMENT"===t.type?Object.assign({},e,o({},t.name,Object.assign({},e[t.name],t.data))):e}Object.defineProperty(t,"__esModule",{value:!0});var s=n(41),f=n(54),d=n(85),p=r(d),_=n(86),y=r(_),h=n(14),m=r(h),b=(0,s.combineReducers)({books:(0,y["default"])({mapActionToKey:function(e){return e.flowType},types:["BOOKS_REQUEST","BOOKS_SUCCESS","BOOKS_FAILURE"]}),bookCollections:(0,y["default"])({mapActionToKey:function(e){return e.flowType},types:["COLLECTIONS_REQUEST","COLLECTIONS_SUCCESS","COLLECTIONS_FAILURE"]}),userList:(0,y["default"])({mapActionToKey:function(e){return"all"},types:["USER_LIST_REQUEST","USER_LIST_SUCCESS","USER_LIST_FAILURE"]}),doubanBookSearchResults:(0,y["default"])({mapActionToKey:function(e){return e.query},types:["DOUBAN_BOOK_SEARCH_REQUEST","DOUBAN_BOOK_SEARCH_SUCCESS","DOUBAN_BOOK_SEARCH_FAILURE"]}),bookSearchResults:(0,y["default"])({mapActionToKey:function(e){return e.query},types:["BOOK_SEARCH_REQUEST","BOOK_SEARCH_SUCCESS","BOOK_SEARCH_FAILURE"]})}),v=(0,s.combineReducers)({notifications:p["default"]}),O=(0,s.combineReducers)({payloads:i,components:v,elements:c,routing:f.routerReducer,entities:u,errorMessage:a,pagination:b,session:l});t["default"]=O},85:function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments[1];return"HIDE_NOTIFICATION"===t.type?e.map(function(e){return e.id===t.id?Object.assign({},e,{visible:!1}):e}):"SHOW_NOTIFICATION"===t.type?[].concat(n(e),[{visible:!0,message:t.message,type:t.msgType,id:t.id}]):e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},86:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{isFetching:!1,nextPageUrl:null,pageCount:0,ids:[]}:arguments[0],t=arguments[1];switch(t.type){case a:return Object.assign({},e,{isFetching:!0});case c:return Object.assign({},e,{isFetching:!1,ids:l["default"].union(e.ids,t.response.result),nextPageUrl:t.response.nextPageUrl,pageCount:e.pageCount+1});case s:return Object.assign({},e,{isFetching:!1});default:return e}}var n=e.types,r=e.mapActionToKey,u=i(n,3),a=u[0],c=u[1],s=u[2];return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments[1];switch(n.type){case a:case c:case s:var u=r(n);if("string"!=typeof u)throw new Error("Expected key to be a string.");var i=Object.assign({},e,o({},u,t(e[u],n)));return i;default:return e}}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,o=!1,u=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(l){o=!0,u=l}finally{try{!r&&a["return"]&&a["return"]()}finally{if(o)throw u}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t["default"]=u;var a=n(14),l=r(a)},87:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=void 0;return e="undefined"==typeof window?(0,u.createStore)(c["default"],{},(0,u.applyMiddleware)(a["default"],f["default"],p["default"])):"production"===b?(0,u.createStore)(c["default"],(0,y["default"])(),(0,u.applyMiddleware)(a["default"],f["default"],p["default"])):(0,u.createStore)(c["default"],(0,y["default"])(),(0,u.compose)((0,u.applyMiddleware)(a["default"],f["default"],p["default"],(0,m["default"])({collapsed:!0}))))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var u=n(41),i=n(121),a=r(i),l=n(84),c=r(l),s=n(82),f=r(s),d=n(83),p=r(d),_=n(89),y=r(_),h=n(120),m=r(h),b="production"},89:function(e,t){"use strict";function n(){var e=void 0;return"undefined"!=typeof window.__INITIAL_STATE__&&(e=window.__INITIAL_STATE__),e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},90:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=a["default"].cloneDeep(e),n="";for(var r in t)"object"===u(t[r])&&(t[r]=t[r].toString()),n=""+n+r+"="+t[r]+"&";return n.substr(0,n.length-1)}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t["default"]=o;var i=n(14),a=r(i)},120:function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function o(e,t,o,u){switch("undefined"==typeof e?"undefined":r(e)){case"object":return"function"==typeof e[u]?e[u].apply(e,n(o)):e[u];case"function":return e(t);default:return e}}function u(){function e(){C.forEach(function(e,t){var n=e.started,u=e.startedTime,a=e.action,c=e.prevState,s=e.error,d=e.took,p=e.nextState,y=C[t+1];y&&(p=y.prevState,d=y.started-n);var m=E(a),b="function"==typeof f?f(function(){return p},a):f,v=l(u),O=A.title?"color: "+A.title(m)+";":null,S="action "+(h?v:"")+" "+m.type+" "+(_?"(in "+d.toFixed(2)+" ms)":"");try{b?A.title?i.groupCollapsed("%c "+S,O):i.groupCollapsed(S):A.title?i.group("%c "+S,O):i.group(S)}catch(g){i.log(S)}var w=o(r,m,[c],"prevState"),R=o(r,m,[m],"action"),L=o(r,m,[s,c],"error"),j=o(r,m,[p],"nextState");w&&(A.prevState?i[w]("%c prev state","color: "+A.prevState(c)+"; font-weight: bold",c):i[w]("prev state",c)),R&&(A.action?i[R]("%c action","color: "+A.action(m)+"; font-weight: bold",m):i[R]("action",m)),s&&L&&(A.error?i[L]("%c error","color: "+A.error(s,c)+"; font-weight: bold",s):i[L]("error",s)),j&&(A.nextState?i[j]("%c next state","color: "+A.nextState(p)+"; font-weight: bold",p):i[j]("next state",p));try{i.groupEnd()}catch(g){i.log("—— log end ——")}}),C.length=0}var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.level,r=void 0===n?"log":n,u=t.logger,i=void 0===u?console:u,a=t.logErrors,s=void 0===a?!0:a,f=t.collapsed,d=t.predicate,p=t.duration,_=void 0===p?!1:p,y=t.timestamp,h=void 0===y?!0:y,m=t.transformer,b=t.stateTransformer,v=void 0===b?function(e){return e}:b,O=t.actionTransformer,E=void 0===O?function(e){return e}:O,S=t.errorTransformer,g=void 0===S?function(e){return e}:S,w=t.colors,A=void 0===w?{title:function(){return"#000000"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}}:w;if("undefined"==typeof i)return function(){return function(e){return function(t){return e(t)}}};m&&console.error("Option 'transformer' is deprecated, use stateTransformer instead");var C=[];return function(t){var n=t.getState;return function(t){return function(r){if("function"==typeof d&&!d(n,r))return t(r);var o={};C.push(o),o.started=c.now(),o.startedTime=new Date,o.prevState=v(n()),o.action=r;var u=void 0;if(s)try{u=t(r)}catch(i){o.error=g(i)}else u=t(r);if(o.took=c.now()-o.started,o.nextState=v(n()),e(),o.error)throw o.error;return u}}}}var i=function(e,t){return new Array(t+1).join(e)},a=function(e,t){return i("0",t-e.toString().length)+e},l=function(e){return"@ "+a(e.getHours(),2)+":"+a(e.getMinutes(),2)+":"+a(e.getSeconds(),2)+"."+a(e.getMilliseconds(),3)},c="undefined"!=typeof performance&&"function"==typeof performance.now?performance:Date;e.exports=u},124:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var o=n(48),u=r(o);t.Container=u["default"]},127:function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var u=this[o][0];"number"==typeof u&&(r[u]=!0)}for(o=0;o<t.length;o++){var i=t[o];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),e.push(i))}},e}},129:function(e,t){e.exports={"light-link":"___dropdown__light-link__3moJ6","dropdown-item":"___dropdown__dropdown-item__2GAMZ",dropdown:"___dropdown__dropdown__37CSL","dropdown-toggle":"___dropdown__dropdown-toggle__eNNzj","dropdown-menu":"___dropdown__dropdown-menu__2E3eE","dropdown-caret":"___dropdown__dropdown-caret__1pIaR"}},201:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),s=n(48),f=r(s),d=function(e){function t(){return o(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,[{key:"render",value:function(){return c["default"].createElement("div",{className:"colophon"},c["default"].createElement(f["default"],null,c["default"].createElement("p",null,"© 2015－2016 readrweb.com, all rights reserved")))}}]),t}(l.Component);t["default"]=d},206:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=n(1),s=r(c),f=n(8),d=n(124),p=n(229),_=n(18),y=r(_),h=function(e,t,n,r){var o,u=arguments.length,i=3>u?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(3>u?o(i):u>3?o(t,n,i):o(t,n))||i);return u>3&&i&&Object.defineProperty(t,n,i),i},m=n(239),b=function(e){function t(e){o(this,t);var n=u(this,Object.getPrototypeOf(t).call(this,e));return n.state={isDropdownMenuVisible:!1},n}return i(t,e),a(t,[{key:"toggleDropdownMenu",value:function(){this.setState({isDropdownMenuVisible:!this.state.isDropdownMenuVisible})}},{key:"render",value:function(){var e=this.props.username,t=this.props.isAdmin?this.props.isAdmin:!1;return s["default"].createElement("div",{styleName:"branding "+(this.props.className?this.props.className:"")},s["default"].createElement(d.Container,{className:"clearfix"},s["default"].createElement("div",null,s["default"].createElement("h1",{styleName:"logo left"},s["default"].createElement(f.Link,{to:"/"},"readr")),s["default"].createElement("div",{styleName:"nav left"},s["default"].createElement("ul",{styleName:"nav-links"},s["default"].createElement("li",null,s["default"].createElement(f.Link,{to:"/browse"},"浏览")),s["default"].createElement("li",null,s["default"].createElement(f.Link,{to:"/collections"},"书单")))),e?s["default"].createElement("div",{styleName:"nav right"},s["default"].createElement(p.Dropdown,{title:"最近阅读"},s["default"].createElement(p.DropdownItem,null,s["default"].createElement(f.Link,{to:"/"},"hahahh")),s["default"].createElement(p.DropdownItem,null,"haha"),s["default"].createElement(p.DropdownItem,null,"hahasf"),s["default"].createElement(p.DropdownItem,null,"haha"),s["default"].createElement(p.DropdownItem,null,"hahasdf")),s["default"].createElement(p.Dropdown,{title:s["default"].createElement("span",null,e,t?s["default"].createElement("span",{className:"badge-dark"},"Admin"):null)},t===!0?s["default"].createElement(p.DropdownItem,null,s["default"].createElement("a",{href:"/console"},"控制台")):null,s["default"].createElement(p.DropdownItem,null,s["default"].createElement(f.Link,{to:"/shelf"},"书架")),s["default"].createElement(p.DropdownItem,null,s["default"].createElement(f.Link,{to:"/profile"},"个人主页")),s["default"].createElement(p.DropdownItem,null,s["default"].createElement(f.Link,{to:"/settings"},"设置")),s["default"].createElement(p.DropdownItem,null,s["default"].createElement("a",{href:"/logout"},"退出")))):s["default"].createElement("div",{styleName:"nav right"},s["default"].createElement("ul",{styleName:"nav-links"},s["default"].createElement("li",null,s["default"].createElement(f.Link,{to:"/signin"},"登录")),s["default"].createElement("li",null,s["default"].createElement(f.Link,{to:"/signup"},"注册")))))))}}]),t}(c.Component);b=h([(0,y["default"])(m,{allowMultiple:!0})],b),t["default"]=b},207:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(206),u=r(o);t["default"]=u["default"]},210:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=n(1),s=r(c),f=n(9),d=n(207),p=r(d),_=n(124),y=n(201),h=r(y),m=n(13),b=n(18),v=r(b),O=function(e,t,n,r){var o,u=arguments.length,i=3>u?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(3>u?o(i):u>3?o(t,n,i):o(t,n))||i);return u>3&&i&&Object.defineProperty(t,n,i),i},E=n(240),S=function(e){function t(e){return o(this,t),u(this,Object.getPrototypeOf(t).call(this,e))}return i(t,e),a(t,[{key:"componentDidMount",value:function(){this.props.userAuth()}},{key:"render",value:function(){var e=!1,t=null;return"visitor"!==this.props.session.user.role&&(e="admin"===this.props.session.user.role,t=this.props.session.user.username),s["default"].createElement("div",null,s["default"].createElement(p["default"],{isAdmin:e,username:t}),s["default"].createElement(_.Container,null,this.props.children),s["default"].createElement(h["default"],null))}}]),t}(c.Component);S=O([(0,v["default"])(E)],S),t["default"]=(0,f.connect)(function(e){return{notification:e.components.notification,session:e.session}},{userAuth:m.userAuth})(S)},211:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(210),u=r(o);t["default"]=u["default"]},227:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return i["default"].createElement("li",{className:a["dropdown-item"]},e.children)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),i=r(u),a=n(129);t["default"]=o},228:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=n(1),s=r(c),f=n(18),d=r(f),p=function(e,t,n,r){var o,u=arguments.length,i=3>u?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":l(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(3>u?o(i):u>3?o(t,n,i):o(t,n))||i);return u>3&&i&&Object.defineProperty(t,n,i),i},_=n(129),y=function(e){function t(e){o(this,t);var n=u(this,Object.getPrototypeOf(t).call(this,e));return n.state={showMenu:!1},n.toggleDropdown=n.toggleDropdown.bind(n),n.hideExpended=n.hideExpended.bind(n),n}return i(t,e),a(t,[{key:"toggleDropdown",value:function(e){e.stopPropagation(),this.setState({showMenu:!this.state.showMenu})}},{key:"hideExpended",value:function(){this.setState({showMenu:!1})}},{key:"componentDidMount",value:function(){window.addEventListener("click",this.hideExpended)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.hideExpended)}},{key:"render",value:function(){return s["default"].createElement("div",{onClick:this.toggleDropdown,styleName:"dropdown"},s["default"].createElement("span",{styleName:"dropdown-toggle"},this.props.title," ",s["default"].createElement("span",{styleName:"dropdown-caret"})),s["default"].createElement("div",{styleName:"dropdown-menu"},s["default"].createElement("ul",null,this.state.showMenu?this.props.children:null)))}}]),t}(c.Component);y=p([(0,d["default"])(_,{allowMultiple:!0})],y),t["default"]=y},229:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Dropdown=t.DropdownItem=void 0;var o=n(228),u=r(o),i=n(227),a=r(i);t.DropdownItem=a["default"],t.Dropdown=u["default"],t["default"]=u["default"]},231:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(64),u=n(1),i=r(u),a=n(8),l=n(234),c=r(l),s=n(9),f=n(54),d=n(87),p=r(d),_=(0,p["default"])(),y=(0,f.syncHistoryWithStore)(a.browserHistory,_);(0,o.render)(i["default"].createElement(s.Provider,{store:_},i["default"].createElement(a.Router,{history:y,routes:c["default"]})),document.getElementById("root"))},234:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(211),u=r(o);t["default"]={path:"/",component:u["default"],indexRoute:{getComponents:function(e,t){n.e(1,function(e){t(null,n(221)["default"])})}},childRoutes:[{path:"book/:id",getComponents:function(e,t){n.e(2,function(e){t(null,n(213)["default"])})}}]}},239:function(e,t){e.exports={left:"___branding__left__29V2N",right:"___branding__right__Nklh6",branding:"___branding__branding__39ehd",logo:"___branding__logo__2zgLt",nav:"___branding__nav__J--t1",username:"___branding__username__JnIIU","nav-links":"___branding__nav-links__2lels","recent-reading":"___branding__recent-reading__1Y22u","dropdown-menu":"___branding__dropdown-menu__hWk_Z"}},240:function(e,t){},426:function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=p[r.id];if(o){o.refs++;for(var u=0;u<o.parts.length;u++)o.parts[u](r.parts[u]);for(;u<r.parts.length;u++)o.parts.push(c(r.parts[u],t))}else{for(var i=[],u=0;u<r.parts.length;u++)i.push(c(r.parts[u],t));p[r.id]={id:r.id,refs:1,parts:i}}}}function o(e){for(var t=[],n={},r=0;r<e.length;r++){var o=e[r],u=o[0],i=o[1],a=o[2],l=o[3],c={css:i,media:a,sourceMap:l};n[u]?n[u].parts.push(c):t.push(n[u]={id:u,parts:[c]})}return t}function u(e,t){var n=h(),r=v[v.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),v.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function i(e){e.parentNode.removeChild(e);var t=v.indexOf(e);t>=0&&v.splice(t,1)}function a(e){var t=document.createElement("style");return t.type="text/css",u(e,t),t}function l(e){
var t=document.createElement("link");return t.rel="stylesheet",u(e,t),t}function c(e,t){var n,r,o;if(t.singleton){var u=b++;n=m||(m=a(t)),r=s.bind(null,n,u,!1),o=s.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(t),r=d.bind(null,n),o=function(){i(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(t),r=f.bind(null,n),o=function(){i(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}function s(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=O(t,o);else{var u=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(u,i[t]):e.appendChild(u)}}function f(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function d(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),u=e.href;e.href=URL.createObjectURL(o),u&&URL.revokeObjectURL(u)}var p={},_=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},y=_(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=_(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,b=0,v=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=y()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=o(e);return r(n,t),function(e){for(var u=[],i=0;i<n.length;i++){var a=n[i],l=p[a.id];l.refs--,u.push(l)}if(e){var c=o(e);r(c,t)}for(var i=0;i<u.length;i++){var l=u[i];if(0===l.refs){for(var s=0;s<l.parts.length;s++)l.parts[s]();delete p[l.id]}}}};var O=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()}});