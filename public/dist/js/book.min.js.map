{"version":3,"sources":["../../src/js/book.js"],"names":["Book","obj","this","config","progress","fx","bookId","bookContentRaw","bookContentHtml","view","mode","pageHeight","rendering","elements","pageSum","windowWidth","bookHeight","status","page","scrollTop","init","prototype","getLocalBookData","that","$","height","window","width","pageWidth","addClass","getProgress","data","handleEvents","scroll","handleScroll","call","resize","checkView","removeBookRenderingData","location","reload","tap","href","localStorage","removeItem","book_id","hasClass","on","e","y","pageY","pageX","slideDown","length","slideUp","slideToggle","getItem","JSON","parse","getBookData","renderBook","bookHtml","showLoading","append","setTimeout","children","each","index","h","type","prop","push","Math","ceil","fontSize","css","lineHeight","renderingStr","stringify","setItem","hideLoading","remove","removeClass","flag","callback","ajax","url","dataType","complete","jqXHR","textStatus","success","result","raw","html","alert","error","errorThrown","console","log","renderPage","split","h2","i","s","para","para2","para_margin","top","para_qt","p_qt","page_content","parseInt","localProgress","xhr","cloudProgress","reading_progress","setProgress","p","load","percentage","toFixed","convertPercentageToPage","mountPage","timer","clearTimeout","num"],"mappings":"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","file":"book.min.js"}