{"version":3,"sources":["../../src/js/book-list-react.js"],"names":[],"mappings":"AAAA,IAAI,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC9B,qBAAmB,EAAE,YAAW;AAC9B,KAAC,CAAC,IAAI,CAAC;AACL,SAAG,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG;AACnB,cAAQ,EAAE,MAAM;AAChB,WAAK,EAAE,KAAK;AACZ,aAAO,EAAE,CAAA,UAAS,IAAI,EAAE;AACtB,YAAI,CAAC,QAAQ,CAAC,EAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAC,CAAC,CAAC;OAClC,CAAA,CAAC,IAAI,CAAC,IAAI,CAAC;AACZ,WAAK,EAAE,CAAA,UAAS,GAAG,EAAE,MAAM,EAAE,GAAG,EAAE;AAChC,eAAO,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,MAAM,EAAE,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;OACvD,CAAA,CAAC,IAAI,CAAC,IAAI,CAAC;KACb,CAAC,CAAC;GACJ;AACD,iBAAe,EAAE,YAAW;AAC1B,WAAO,EAAC,IAAI,EAAE,EAAE,EAAC,CAAC;GACnB;AACD,mBAAiB,EAAE,YAAW;AAC5B,QAAI,CAAC,mBAAmB,EAAE,CAAC;GAC5B;AACD,QAAM,EAAE,YAAW;AACjB,WACE;;QAAK,SAAS,EAAC,UAAU;MACvB;;UAAI,SAAS,EAAC,YAAY;;OAAU;MACpC,oBAAC,QAAQ,IAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,AAAC,GAAE;KAC9B,CACN;GACH;CACF,CAAC,CAAC;;AAEH,IAAI,IAAI,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC3B,QAAM,EAAE,YAAW;AACjB,WACE;;QAAI,SAAS,EAAC,MAAM;MAClB;;UAAG,IAAI,EAAE,SAAS,GAAC,IAAI,CAAC,KAAK,CAAC,EAAE,AAAC;QAC/B;;YAAK,SAAS,EAAC,YAAY;UAAC,6BAAK,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,AAAC,GAAE;SAAM;QAC/D;;YAAK,SAAS,EAAC,WAAW;UACxB;;cAAM,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,AAAC,EAAC,SAAS,EAAC,WAAW;YAAE,IAAI,CAAC,KAAK,CAAC,IAAI;WAAQ;UAC5E;;cAAM,SAAS,EAAC,aAAa;YAAE,IAAI,CAAC,KAAK,CAAC,MAAM;WAAQ;SACpD;OACJ;KACD,CACL;GACH;CACF,CAAC,CAAC;;AAEH,IAAI,QAAQ,GAAG,KAAK,CAAC,WAAW,CAAC;;;AAC/B,QAAM,EAAE,YAAW;AACjB,QAAI,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,UAAS,IAAI,EAAE;AACjD,aACE,oBAAC,IAAI,IAAC,MAAM,EAAE,IAAI,CAAC,WAAW,AAAC,EAAC,IAAI,EAAE,IAAI,CAAC,SAAS,AAAC,EAAC,GAAG,EAAE,IAAI,CAAC,GAAG,AAAC,EAAC,EAAE,EAAE,IAAI,CAAC,GAAG,AAAC,EAAC,KAAK,EAAE,IAAI,CAAC,UAAU,AAAC,GAAG,CAC7G;KACH,CAAC,CAAC;AACH,WACE;;QAAI,SAAS,EAAC,oBAAoB;MAC/B,SAAS;KACP,CACL;GACH;CACF,CAAC,CAAC;;AAEH,QAAQ,CAAC,MAAM,CACb,oBAAC,OAAO,IAAC,GAAG,EAAC,iBAAiB,GAAG,EACjC,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CACpC,CAAC","file":"book-list-react.js","sourcesContent":["var BookBox = React.createClass({\n  loadBooksFromServer: function() {\n    $.ajax({\n      url: this.props.url,\n      dataType: 'json',\n      cache: false,\n      success: function(data) {\n        this.setState({data: data.data});\n      }.bind(this),\n      error: function(xhr, status, err) {\n        console.error(this.props.url, status, err.toString());\n      }.bind(this)\n    });\n  },\n  getInitialState: function() {\n    return {data: []};\n  },\n  componentDidMount: function() {\n    this.loadBooksFromServer();\n  },\n  render: function() {\n    return (\n      <div className=\"book-box\">\n        <h1 className=\"page-title\">书籍列表</h1>\n        <BookList data={this.state.data}/>\n      </div>\n    );\n  }\n});\n\nvar Book = React.createClass({\n  render: function() {\n    return (\n      <li className=\"book\">\n        <a href={\"/books/\"+this.props.id} >\n          <div className=\"book-cover\"><img src={this.props.cover}/></div>\n          <div className=\"book-meta\">\n            <span title={this.props.name} className=\"book-name\">{this.props.name}</span>\n            <span className=\"book-author\">{this.props.author}</span>\n          </div>\n        </a>\n      </li>\n    );\n  }\n});\n\nvar BookList = React.createClass({\n  render: function() {\n    var bookNodes = this.props.data.map(function(book) {\n      return (\n        <Book author={book.book_author} name={book.book_name} key={book._id} id={book._id} cover={book.book_cover} />\n      );\n    });\n    return (\n      <ul className=\"book-list clearfix\">\n        {bookNodes}\n      </ul>\n    );\n  }\n});\n\nReactDOM.render(\n  <BookBox url=\"/api/v0.1/books\" />,\n  document.getElementById('book-box')\n);\n"]}